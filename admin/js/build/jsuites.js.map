{"version":3,"file":"jsuites.js","mappings":";;;;;AAAA,CAAC,SAASA,gCAAgCA,CAACC,IAAI,EAAEC,OAAO,EAAE;EACzD;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACCD,IAAI,CAAC,SAAS,CAAC,GAAGC,OAAO,CAAC,CAAC;AAC7B,CAAC,EAAEC,MAAM,EAAE,YAAW;EAAE;EACxB,OAAO,QAAU,YAAW;IAAE;IAC9B;IAAU,IAAIC,mBAAmB,GAAI;MAErC,KAAM,GAAG,IACT,KAAO,UAASC,MAAM,EAAE;QAExB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;QAEA;QAAE,WAAUC,MAAM,EAAEJ,OAAO,EAAE;UAC3B,KAAI,GAAGG,MAAM,CAACE,OAAO,GAAGL,OAAO,CAAC,CAAC,GAClC,CAAC;QACF,CAAC,EAAC,IAAI,EAAG,YAAY;UAEpB,OAAQ,UAASM,GAAG,EAAE;YACrB,SAASC,KAAKA,CAACC,QAAQ,EAAEC,QAAQ,EAAE;cAClC,IAAI,CAACC,SAAS,GAAGF,QAAQ;cACzB,IAAI,CAACG,QAAQ,GAAGF,QAAQ;YACzB;YAEA,IAAIG,CAAC,GAAG,CAAC,IAAIL,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAC5E,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,CAAC;YAEtE,IAAIM,CAAC,GAAG,CAAC,IAAIN,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAC5E,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,I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","sources":["webpack://@tablepress/tablepress/./admin/js/jsuites.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\r\n\t// TablePress: Comment out next seven lines to force creation of a global jSuites object.\r\n\t// if(typeof exports === 'object' && typeof module === 'object')\r\n\t//\tmodule.exports = factory();\r\n\t// else if(typeof define === 'function' && define.amd)\r\n\t//\tdefine([], factory);\r\n\t// else if(typeof exports === 'object')\r\n\t//\texports[\"jSuites\"] = factory();\r\n\t// else\r\n\t\troot[\"jSuites\"] = factory();\r\n})(window, function() { // TablePress: Use `window` instead of `this` to get a global jSuites object.\r\nreturn /******/ (function() { // webpackBootstrap\r\n/******/ \tvar __webpack_modules__ = ({\r\n\r\n/***/ 195:\r\n/***/ (function(module) {\r\n\r\n/**\r\n * (c) jSuites Javascript Plugins and Web Components (v4)\r\n *\r\n * Website: https://jsuites.net\r\n * Description: Create amazing web based applications.\r\n * Plugin: Organogram\r\n *\r\n * MIT License\r\n */\r\n\r\n;(function (global, factory) {\r\n\t\ttrue ? module.exports = factory() :\r\n\t0;\r\n}(this, (function () {\r\n\r\n\treturn (function(str) {\r\n\t\tfunction int64(msint_32, lsint_32) {\r\n\t\t\tthis.highOrder = msint_32;\r\n\t\t\tthis.lowOrder = lsint_32;\r\n\t\t}\r\n\r\n\t\tvar H = [new int64(0x6a09e667, 0xf3bcc908), new int64(0xbb67ae85, 0x84caa73b),\r\n\t\t\tnew int64(0x3c6ef372, 0xfe94f82b), new int64(0xa54ff53a, 0x5f1d36f1),\r\n\t\t\tnew int64(0x510e527f, 0xade682d1), new int64(0x9b05688c, 0x2b3e6c1f),\r\n\t\t\tnew int64(0x1f83d9ab, 0xfb41bd6b), new int64(0x5be0cd19, 0x137e2179)];\r\n\r\n\t\tvar K = [new int64(0x428a2f98, 0xd728ae22), new int64(0x71374491, 0x23ef65cd),\r\n\t\t\tnew int64(0xb5c0fbcf, 0xec4d3b2f), new int64(0xe9b5dba5, 0x8189dbbc),\r\n\t\t\tnew int64(0x3956c25b, 0xf348b538), new int64(0x59f111f1, 0xb605d019),\r\n\t\t\tnew int64(0x923f82a4, 0xaf194f9b), new int64(0xab1c5ed5, 0xda6d8118),\r\n\t\t\tnew int64(0xd807aa98, 0xa3030242), new int64(0x12835b01, 0x45706fbe),\r\n\t\t\tnew int64(0x243185be, 0x4ee4b28c), new int64(0x550c7dc3, 0xd5ffb4e2),\r\n\t\t\tnew int64(0x72be5d74, 0xf27b896f), new int64(0x80deb1fe, 0x3b1696b1),\r\n\t\t\tnew int64(0x9bdc06a7, 0x25c71235), new int64(0xc19bf174, 0xcf692694),\r\n\t\t\tnew int64(0xe49b69c1, 0x9ef14ad2), new int64(0xefbe4786, 0x384f25e3),\r\n\t\t\tnew int64(0x0fc19dc6, 0x8b8cd5b5), new int64(0x240ca1cc, 0x77ac9c65),\r\n\t\t\tnew int64(0x2de92c6f, 0x592b0275), new int64(0x4a7484aa, 0x6ea6e483),\r\n\t\t\tnew int64(0x5cb0a9dc, 0xbd41fbd4), new int64(0x76f988da, 0x831153b5),\r\n\t\t\tnew int64(0x983e5152, 0xee66dfab), new int64(0xa831c66d, 0x2db43210),\r\n\t\t\tnew int64(0xb00327c8, 0x98fb213f), new int64(0xbf597fc7, 0xbeef0ee4),\r\n\t\t\tnew int64(0xc6e00bf3, 0x3da88fc2), new int64(0xd5a79147, 0x930aa725),\r\n\t\t\tnew int64(0x06ca6351, 0xe003826f), new int64(0x14292967, 0x0a0e6e70),\r\n\t\t\tnew int64(0x27b70a85, 0x46d22ffc), new int64(0x2e1b2138, 0x5c26c926),\r\n\t\t\tnew int64(0x4d2c6dfc, 0x5ac42aed), new int64(0x53380d13, 0x9d95b3df),\r\n\t\t\tnew int64(0x650a7354, 0x8baf63de), new int64(0x766a0abb, 0x3c77b2a8),\r\n\t\t\tnew int64(0x81c2c92e, 0x47edaee6), new int64(0x92722c85, 0x1482353b),\r\n\t\t\tnew int64(0xa2bfe8a1, 0x4cf10364), new int64(0xa81a664b, 0xbc423001),\r\n\t\t\tnew int64(0xc24b8b70, 0xd0f89791), new int64(0xc76c51a3, 0x0654be30),\r\n\t\t\tnew int64(0xd192e819, 0xd6ef5218), new int64(0xd6990624, 0x5565a910),\r\n\t\t\tnew int64(0xf40e3585, 0x5771202a), new int64(0x106aa070, 0x32bbd1b8),\r\n\t\t\tnew int64(0x19a4c116, 0xb8d2d0c8), new int64(0x1e376c08, 0x5141ab53),\r\n\t\t\tnew int64(0x2748774c, 0xdf8eeb99), new int64(0x34b0bcb5, 0xe19b48a8),\r\n\t\t\tnew int64(0x391c0cb3, 0xc5c95a63), new int64(0x4ed8aa4a, 0xe3418acb),\r\n\t\t\tnew int64(0x5b9cca4f, 0x7763e373), new int64(0x682e6ff3, 0xd6b2b8a3),\r\n\t\t\tnew int64(0x748f82ee, 0x5defb2fc), new int64(0x78a5636f, 0x43172f60),\r\n\t\t\tnew int64(0x84c87814, 0xa1f0ab72), new int64(0x8cc70208, 0x1a6439ec),\r\n\t\t\tnew int64(0x90befffa, 0x23631e28), new int64(0xa4506ceb, 0xde82bde9),\r\n\t\t\tnew int64(0xbef9a3f7, 0xb2c67915), new int64(0xc67178f2, 0xe372532b),\r\n\t\t\tnew int64(0xca273ece, 0xea26619c), new int64(0xd186b8c7, 0x21c0c207),\r\n\t\t\tnew int64(0xeada7dd6, 0xcde0eb1e), new int64(0xf57d4f7f, 0xee6ed178),\r\n\t\t\tnew int64(0x06f067aa, 0x72176fba), new int64(0x0a637dc5, 0xa2c898a6),\r\n\t\t\tnew int64(0x113f9804, 0xbef90dae), new int64(0x1b710b35, 0x131c471b),\r\n\t\t\tnew int64(0x28db77f5, 0x23047d84), new int64(0x32caab7b, 0x40c72493),\r\n\t\t\tnew int64(0x3c9ebe0a, 0x15c9bebc), new int64(0x431d67c4, 0x9c100d4c),\r\n\t\t\tnew int64(0x4cc5d4be, 0xcb3e42b6), new int64(0x597f299c, 0xfc657e2a),\r\n\t\t\tnew int64(0x5fcb6fab, 0x3ad6faec), new int64(0x6c44198c, 0x4a475817)];\r\n\r\n\t\tvar W = new Array(64);\r\n\t\tvar a, b, c, d, e, f, g, h, i, j;\r\n\t\tvar T1, T2;\r\n\t\tvar charsize = 8;\r\n\r\n\t\tfunction utf8_encode(str) {\r\n\t\t\treturn unescape(encodeURIComponent(str));\r\n\t\t}\r\n\r\n\t\tfunction str2binb(str) {\r\n\t\t\tvar bin = [];\r\n\t\t\tvar mask = (1 << charsize) - 1;\r\n\t\t\tvar len = str.length * charsize;\r\n\r\n\t\t\tfor (var i = 0; i < len; i += charsize) {\r\n\t\t\t\tbin[i >> 5] |= (str.charCodeAt(i / charsize) & mask) << (32 - charsize - (i % 32));\r\n\t\t\t}\r\n\r\n\t\t\treturn bin;\r\n\t\t}\r\n\r\n\t\tfunction binb2hex(binarray) {\r\n\t\t\tvar hex_tab = \"0123456789abcdef\";\r\n\t\t\tvar str = \"\";\r\n\t\t\tvar length = binarray.length * 4;\r\n\t\t\tvar srcByte;\r\n\r\n\t\t\tfor (var i = 0; i < length; i += 1) {\r\n\t\t\t\tsrcByte = binarray[i >> 2] >> ((3 - (i % 4)) * 8);\r\n\t\t\t\tstr += hex_tab.charAt((srcByte >> 4) & 0xF) + hex_tab.charAt(srcByte & 0xF);\r\n\t\t\t}\r\n\r\n\t\t\treturn str;\r\n\t\t}\r\n\r\n\t\tfunction safe_add_2(x, y) {\r\n\t\t\tvar lsw, msw, lowOrder, highOrder;\r\n\r\n\t\t\tlsw = (x.lowOrder & 0xFFFF) + (y.lowOrder & 0xFFFF);\r\n\t\t\tmsw = (x.lowOrder >>> 16) + (y.lowOrder >>> 16) + (lsw >>> 16);\r\n\t\t\tlowOrder = ((msw & 0xFFFF) << 16) | (lsw & 0xFFFF);\r\n\r\n\t\t\tlsw = (x.highOrder & 0xFFFF) + (y.highOrder & 0xFFFF) + (msw >>> 16);\r\n\t\t\tmsw = (x.highOrder >>> 16) + (y.highOrder >>> 16) + (lsw >>> 16);\r\n\t\t\thighOrder = ((msw & 0xFFFF) << 16) | (lsw & 0xFFFF);\r\n\r\n\t\t\treturn new int64(highOrder, lowOrder);\r\n\t\t}\r\n\r\n\t\tfunction safe_add_4(a, b, c, d) {\r\n\t\t\tvar lsw, msw, lowOrder, highOrder;\r\n\r\n\t\t\tlsw = (a.lowOrder & 0xFFFF) + (b.lowOrder & 0xFFFF) + (c.lowOrder & 0xFFFF) + (d.lowOrder & 0xFFFF);\r\n\t\t\tmsw = (a.lowOrder >>> 16) + (b.lowOrder >>> 16) + (c.lowOrder >>> 16) + (d.lowOrder >>> 16) + (lsw >>> 16);\r\n\t\t\tlowOrder = ((msw & 0xFFFF) << 16) | (lsw & 0xFFFF);\r\n\r\n\t\t\tlsw = (a.highOrder & 0xFFFF) + (b.highOrder & 0xFFFF) + (c.highOrder & 0xFFFF) + (d.highOrder & 0xFFFF) + (msw >>> 16);\r\n\t\t\tmsw = (a.highOrder >>> 16) + (b.highOrder >>> 16) + (c.highOrder >>> 16) + (d.highOrder >>> 16) + (lsw >>> 16);\r\n\t\t\thighOrder = ((msw & 0xFFFF) << 16) | (lsw & 0xFFFF);\r\n\r\n\t\t\treturn new int64(highOrder, lowOrder);\r\n\t\t}\r\n\r\n\t\tfunction safe_add_5(a, b, c, d, e) {\r\n\t\t\tvar lsw, msw, lowOrder, highOrder;\r\n\r\n\t\t\tlsw = (a.lowOrder & 0xFFFF) + (b.lowOrder & 0xFFFF) + (c.lowOrder & 0xFFFF) + (d.lowOrder & 0xFFFF) + (e.lowOrder & 0xFFFF);\r\n\t\t\tmsw = (a.lowOrder >>> 16) + (b.lowOrder >>> 16) + (c.lowOrder >>> 16) + (d.lowOrder >>> 16) + (e.lowOrder >>> 16) + (lsw >>> 16);\r\n\t\t\tlowOrder = ((msw & 0xFFFF) << 16) | (lsw & 0xFFFF);\r\n\r\n\t\t\tlsw = (a.highOrder & 0xFFFF) + (b.highOrder & 0xFFFF) + (c.highOrder & 0xFFFF) + (d.highOrder & 0xFFFF) + (e.highOrder & 0xFFFF) + (msw >>> 16);\r\n\t\t\tmsw = (a.highOrder >>> 16) + (b.highOrder >>> 16) + (c.highOrder >>> 16) + (d.highOrder >>> 16) + (e.highOrder >>> 16) + (lsw >>> 16);\r\n\t\t\thighOrder = ((msw & 0xFFFF) << 16) | (lsw & 0xFFFF);\r\n\r\n\t\t\treturn new int64(highOrder, lowOrder);\r\n\t\t}\r\n\r\n\t\tfunction maj(x, y, z) {\r\n\t\t\treturn new int64(\r\n\t\t\t\t(x.highOrder & y.highOrder) ^ (x.highOrder & z.highOrder) ^ (y.highOrder & z.highOrder),\r\n\t\t\t\t(x.lowOrder & y.lowOrder) ^ (x.lowOrder & z.lowOrder) ^ (y.lowOrder & z.lowOrder)\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tfunction ch(x, y, z) {\r\n\t\t\treturn new int64(\r\n\t\t\t\t(x.highOrder & y.highOrder) ^ (~x.highOrder & z.highOrder),\r\n\t\t\t\t(x.lowOrder & y.lowOrder) ^ (~x.lowOrder & z.lowOrder)\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tfunction rotr(x, n) {\r\n\t\t\tif (n <= 32) {\r\n\t\t\t\treturn new int64(\r\n\t\t\t\t\t(x.highOrder >>> n) | (x.lowOrder << (32 - n)),\r\n\t\t\t\t\t(x.lowOrder >>> n) | (x.highOrder << (32 - n))\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\treturn new int64(\r\n\t\t\t\t\t(x.lowOrder >>> n) | (x.highOrder << (32 - n)),\r\n\t\t\t\t\t(x.highOrder >>> n) | (x.lowOrder << (32 - n))\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction sigma0(x) {\r\n\t\t\tvar rotr28 = rotr(x, 28);\r\n\t\t\tvar rotr34 = rotr(x, 34);\r\n\t\t\tvar rotr39 = rotr(x, 39);\r\n\r\n\t\t\treturn new int64(\r\n\t\t\t\trotr28.highOrder ^ rotr34.highOrder ^ rotr39.highOrder,\r\n\t\t\t\trotr28.lowOrder ^ rotr34.lowOrder ^ rotr39.lowOrder\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tfunction sigma1(x) {\r\n\t\t\tvar rotr14 = rotr(x, 14);\r\n\t\t\tvar rotr18 = rotr(x, 18);\r\n\t\t\tvar rotr41 = rotr(x, 41);\r\n\r\n\t\t\treturn new int64(\r\n\t\t\t\trotr14.highOrder ^ rotr18.highOrder ^ rotr41.highOrder,\r\n\t\t\t\trotr14.lowOrder ^ rotr18.lowOrder ^ rotr41.lowOrder\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tfunction gamma0(x) {\r\n\t\t\tvar rotr1 = rotr(x, 1), rotr8 = rotr(x, 8), shr7 = shr(x, 7);\r\n\r\n\t\t\treturn new int64(\r\n\t\t\t\trotr1.highOrder ^ rotr8.highOrder ^ shr7.highOrder,\r\n\t\t\t\trotr1.lowOrder ^ rotr8.lowOrder ^ shr7.lowOrder\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tfunction gamma1(x) {\r\n\t\t\tvar rotr19 = rotr(x, 19);\r\n\t\t\tvar rotr61 = rotr(x, 61);\r\n\t\t\tvar shr6 = shr(x, 6);\r\n\r\n\t\t\treturn new int64(\r\n\t\t\t\trotr19.highOrder ^ rotr61.highOrder ^ shr6.highOrder,\r\n\t\t\t\trotr19.lowOrder ^ rotr61.lowOrder ^ shr6.lowOrder\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tfunction shr(x, n) {\r\n\t\t\tif (n <= 32) {\r\n\t\t\t\treturn new int64(\r\n\t\t\t\t\tx.highOrder >>> n,\r\n\t\t\t\t\tx.lowOrder >>> n | (x.highOrder << (32 - n))\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\treturn new int64(\r\n\t\t\t\t\t0,\r\n\t\t\t\t\tx.highOrder << (32 - n)\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar str = utf8_encode(str);\r\n\t\tvar strlen = str.length*charsize;\r\n\t\tstr = str2binb(str);\r\n\r\n\t\tstr[strlen >> 5] |= 0x80 << (24 - strlen % 32);\r\n\t\tstr[(((strlen + 128) >> 10) << 5) + 31] = strlen;\r\n\r\n\t\tfor (var i = 0; i < str.length; i += 32) {\r\n\t\t\ta = H[0];\r\n\t\t\tb = H[1];\r\n\t\t\tc = H[2];\r\n\t\t\td = H[3];\r\n\t\t\te = H[4];\r\n\t\t\tf = H[5];\r\n\t\t\tg = H[6];\r\n\t\t\th = H[7];\r\n\r\n\t\t\tfor (var j = 0; j < 80; j++) {\r\n\t\t\t\tif (j < 16) {\r\n\t\t\t\t\tW[j] = new int64(str[j*2 + i], str[j*2 + i + 1]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tW[j] = safe_add_4(gamma1(W[j - 2]), W[j - 7], gamma0(W[j - 15]), W[j - 16]);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tT1 = safe_add_5(h, sigma1(e), ch(e, f, g), K[j], W[j]);\r\n\t\t\t\tT2 = safe_add_2(sigma0(a), maj(a, b, c));\r\n\t\t\t\th = g;\r\n\t\t\t\tg = f;\r\n\t\t\t\tf = e;\r\n\t\t\t\te = safe_add_2(d, T1);\r\n\t\t\t\td = c;\r\n\t\t\t\tc = b;\r\n\t\t\t\tb = a;\r\n\t\t\t\ta = safe_add_2(T1, T2);\r\n\t\t\t}\r\n\r\n\t\t\tH[0] = safe_add_2(a, H[0]);\r\n\t\t\tH[1] = safe_add_2(b, H[1]);\r\n\t\t\tH[2] = safe_add_2(c, H[2]);\r\n\t\t\tH[3] = safe_add_2(d, H[3]);\r\n\t\t\tH[4] = safe_add_2(e, H[4]);\r\n\t\t\tH[5] = safe_add_2(f, H[5]);\r\n\t\t\tH[6] = safe_add_2(g, H[6]);\r\n\t\t\tH[7] = safe_add_2(h, H[7]);\r\n\t\t}\r\n\r\n\t\tvar binarray = [];\r\n\t\tfor (var i = 0; i < H.length; i++) {\r\n\t\t\tbinarray.push(H[i].highOrder);\r\n\t\t\tbinarray.push(H[i].lowOrder);\r\n\t\t}\r\n\r\n\t\treturn binb2hex(binarray);\r\n\t});\r\n\r\n})));\r\n\r\n\r\n/***/ })\r\n\r\n/******/ \t});\r\n/************************************************************************/\r\n/******/ \t// The module cache\r\n/******/ \tvar __webpack_module_cache__ = {};\r\n/******/\r\n/******/ \t// The require function\r\n/******/ \tfunction __webpack_require__(moduleId) {\r\n/******/ \t\t// Check if module is in cache\r\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\r\n/******/ \t\tif (cachedModule !== undefined) {\r\n/******/ \t\t\treturn cachedModule.exports;\r\n/******/ \t\t}\r\n/******/ \t\t// Create a new module (and put it into the cache)\r\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\r\n/******/ \t\t\t// no module.id needed\r\n/******/ \t\t\t// no module.loaded needed\r\n/******/ \t\t\texports: {}\r\n/******/ \t\t};\r\n/******/\r\n/******/ \t\t// Execute the module function\r\n/******/ \t\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\r\n/******/\r\n/******/ \t\t// Return the exports of the module\r\n/******/ \t\treturn module.exports;\r\n/******/ \t}\r\n/******/\r\n/************************************************************************/\r\n/******/ \t/* webpack/runtime/compat get default export */\r\n/******/ \t!function() {\r\n/******/ \t\t// getDefaultExport function for compatibility with non-harmony modules\r\n/******/ \t\t__webpack_require__.n = function(module) {\r\n/******/ \t\t\tvar getter = module && module.__esModule ?\r\n/******/ \t\t\t\tfunction() { return module['default']; } :\r\n/******/ \t\t\t\tfunction() { return module; };\r\n/******/ \t\t\t__webpack_require__.d(getter, { a: getter });\r\n/******/ \t\t\treturn getter;\r\n/******/ \t\t};\r\n/******/ \t}();\r\n/******/\r\n/******/ \t/* webpack/runtime/define property getters */\r\n/******/ \t!function() {\r\n/******/ \t\t// define getter functions for harmony exports\r\n/******/ \t\t__webpack_require__.d = function(exports, definition) {\r\n/******/ \t\t\tfor(var key in definition) {\r\n/******/ \t\t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\r\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\r\n/******/ \t\t\t\t}\r\n/******/ \t\t\t}\r\n/******/ \t\t};\r\n/******/ \t}();\r\n/******/\r\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\r\n/******/ \t!function() {\r\n/******/ \t\t__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }\r\n/******/ \t}();\r\n/******/\r\n/************************************************************************/\r\nvar __webpack_exports__ = {};\r\n// This entry need to be wrapped in an IIFE because it need to be in strict mode.\r\n!function() {\r\n\"use strict\";\r\n\r\n// EXPORTS\r\n__webpack_require__.d(__webpack_exports__, {\r\n\t\"default\": function() { return /* binding */ jsuites; }\r\n});\r\n\r\n;// CONCATENATED MODULE: ./src/utils/helpers.js\r\nvar Helpers = {};\r\n\r\n// Two digits\r\nHelpers.two = function(value) {\r\n\tvalue = '' + value;\r\n\tif (value.length == 1) {\r\n\t\tvalue = '0' + value;\r\n\t}\r\n\treturn value;\r\n}\r\n\r\nHelpers.focus = function(el) {\r\n\tif (el.innerText.length) {\r\n\t\tvar range = document.createRange();\r\n\t\tvar sel = window.getSelection();\r\n\t\tvar node = el.childNodes[el.childNodes.length-1];\r\n\t\trange.setStart(node, node.length)\r\n\t\trange.collapse(true)\r\n\t\tsel.removeAllRanges()\r\n\t\tsel.addRange(range)\r\n\t\tel.scrollLeft = el.scrollWidth;\r\n\t}\r\n}\r\n\r\nHelpers.isNumeric = (function (num) {\r\n\tif (typeof(num) === 'string') {\r\n\t\tnum = num.trim();\r\n\t}\r\n\treturn !isNaN(num) && num !== null && num !== '';\r\n});\r\n\r\nHelpers.guid = function() {\r\n\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\r\n\t\tvar r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\r\n\t\treturn v.toString(16);\r\n\t});\r\n}\r\n\r\nHelpers.getNode = function() {\r\n\tvar node = document.getSelection().anchorNode;\r\n\tif (node) {\r\n\t\treturn (node.nodeType == 3 ? node.parentNode : node);\r\n\t} else {\r\n\t\treturn null;\r\n\t}\r\n}\r\n/**\r\n * Generate hash from a string\r\n */\r\nHelpers.hash = function(str) {\r\n\tvar hash = 0, i, chr;\r\n\r\n\tif (str.length === 0) {\r\n\t\treturn hash;\r\n\t} else {\r\n\t\tfor (i = 0; i < str.length; i++) {\r\n\t\t\tchr = str.charCodeAt(i);\r\n\t\t\tif (chr > 32) {\r\n\t\t\t\thash = ((hash << 5) - hash) + chr;\r\n\t\t\t\thash |= 0;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn hash;\r\n}\r\n\r\n/**\r\n * Generate a random color\r\n */\r\nHelpers.randomColor = function(h) {\r\n\tvar lum = -0.25;\r\n\tvar hex = String('#' + Math.random().toString(16).slice(2, 8).toUpperCase()).replace(/[^0-9a-f]/gi, '');\r\n\tif (hex.length < 6) {\r\n\t\thex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];\r\n\t}\r\n\tvar rgb = [], c, i;\r\n\tfor (i = 0; i < 3; i++) {\r\n\t\tc = parseInt(hex.substr(i * 2, 2), 16);\r\n\t\tc = Math.round(Math.min(Math.max(0, c + (c * lum)), 255)).toString(16);\r\n\t\trgb.push((\"00\" + c).substr(c.length));\r\n\t}\r\n\r\n\t// Return hex\r\n\tif (h == true) {\r\n\t\treturn '#' + Helpers.two(rgb[0].toString(16)) + Helpers.two(rgb[1].toString(16)) + Helpers.two(rgb[2].toString(16));\r\n\t}\r\n\r\n\treturn rgb;\r\n}\r\n\r\nHelpers.getWindowWidth = function() {\r\n\tvar w = window,\r\n\td = document,\r\n\te = d.documentElement,\r\n\tg = d.getElementsByTagName('body')[0],\r\n\tx = w.innerWidth || e.clientWidth || g.clientWidth;\r\n\treturn x;\r\n}\r\n\r\nHelpers.getWindowHeight = function() {\r\n\tvar w = window,\r\n\td = document,\r\n\te = d.documentElement,\r\n\tg = d.getElementsByTagName('body')[0],\r\n\ty = w.innerHeight|| e.clientHeight|| g.clientHeight;\r\n\treturn  y;\r\n}\r\n\r\nHelpers.getPosition = function(e) {\r\n\tif (e.changedTouches && e.changedTouches[0]) {\r\n\t\tvar x = e.changedTouches[0].pageX;\r\n\t\tvar y = e.changedTouches[0].pageY;\r\n\t} else {\r\n\t\tvar x = (window.Event) ? e.pageX : e.clientX + (document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft);\r\n\t\tvar y = (window.Event) ? e.pageY : e.clientY + (document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop);\r\n\t}\r\n\r\n\treturn [ x, y ];\r\n}\r\n\r\nHelpers.click = function(el) {\r\n\tif (el.click) {\r\n\t\tel.click();\r\n\t} else {\r\n\t\tvar evt = new MouseEvent('click', {\r\n\t\t\tbubbles: true,\r\n\t\t\tcancelable: true,\r\n\t\t\tview: window\r\n\t\t});\r\n\t\tel.dispatchEvent(evt);\r\n\t}\r\n}\r\n\r\nHelpers.findElement = function(element, condition) {\r\n\tvar foundElement = false;\r\n\r\n\tfunction path (element) {\r\n\t\tif (element && ! foundElement) {\r\n\t\t\tif (typeof(condition) == 'function') {\r\n\t\t\t\tfoundElement = condition(element)\r\n\t\t\t} else if (typeof(condition) == 'string') {\r\n\t\t\t\tif (element.classList && element.classList.contains(condition)) {\r\n\t\t\t\t\tfoundElement = element;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (element.parentNode && ! foundElement) {\r\n\t\t\tpath(element.parentNode);\r\n\t\t}\r\n\t}\r\n\r\n\tpath(element);\r\n\r\n\treturn foundElement;\r\n}\r\n\r\n/* harmony default export */ var helpers = (Helpers);\r\n;// CONCATENATED MODULE: ./src/utils/helpers.date.js\r\n\r\n\r\nfunction HelpersDate() {\r\n\tvar Component = {};\r\n\r\n\tComponent.now = function (date, dateOnly) {\r\n\t\tvar y = null;\r\n\t\tvar m = null;\r\n\t\tvar d = null;\r\n\t\tvar h = null;\r\n\t\tvar i = null;\r\n\t\tvar s = null;\r\n\r\n\t\tif (Array.isArray(date)) {\r\n\t\t\ty = date[0];\r\n\t\t\tm = date[1];\r\n\t\t\td = date[2];\r\n\t\t\th = date[3];\r\n\t\t\ti = date[4];\r\n\t\t\ts = date[5];\r\n\t\t} else {\r\n\t\t\tif (! date) {\r\n\t\t\t\tdate = new Date();\r\n\t\t\t}\r\n\t\t\ty = date.getFullYear();\r\n\t\t\tm = date.getMonth() + 1;\r\n\t\t\td = date.getDate();\r\n\t\t\th = date.getHours();\r\n\t\t\ti = date.getMinutes();\r\n\t\t\ts = date.getSeconds();\r\n\t\t}\r\n\r\n\t\tif (dateOnly == true) {\r\n\t\t\treturn helpers.two(y) + '-' + helpers.two(m) + '-' + helpers.two(d);\r\n\t\t} else {\r\n\t\t\treturn helpers.two(y) + '-' + helpers.two(m) + '-' + helpers.two(d) + ' ' + helpers.two(h) + ':' + helpers.two(i) + ':' + helpers.two(s);\r\n\t\t}\r\n\t}\r\n\r\n\tComponent.toArray = function (value) {\r\n\t\tvar date = value.split(((value.indexOf('T') !== -1) ? 'T' : ' '));\r\n\t\tvar time = date[1];\r\n\t\tvar date = date[0].split('-');\r\n\t\tvar y = parseInt(date[0]);\r\n\t\tvar m = parseInt(date[1]);\r\n\t\tvar d = parseInt(date[2]);\r\n\t\tvar h = 0;\r\n\t\tvar i = 0;\r\n\r\n\t\tif (time) {\r\n\t\t\ttime = time.split(':');\r\n\t\t\th = parseInt(time[0]);\r\n\t\t\ti = parseInt(time[1]);\r\n\t\t}\r\n\t\treturn [y, m, d, h, i, 0];\r\n\t}\r\n\r\n\tvar excelInitialTime = Date.UTC(1900, 0, 0);\r\n\tvar excelLeapYearBug = Date.UTC(1900, 1, 29);\r\n\tvar millisecondsPerDay = 86400000;\r\n\r\n\t/**\r\n\t * Date to number\r\n\t */\r\n\tComponent.dateToNum = function (jsDate) {\r\n\t\tif (typeof (jsDate) === 'string') {\r\n\t\t\tjsDate = new Date(jsDate + '  GMT+0');\r\n\t\t}\r\n\t\tvar jsDateInMilliseconds = jsDate.getTime();\r\n\t\tif (jsDateInMilliseconds >= excelLeapYearBug) {\r\n\t\t\tjsDateInMilliseconds += millisecondsPerDay;\r\n\t\t}\r\n\t\tjsDateInMilliseconds -= excelInitialTime;\r\n\r\n\t\treturn jsDateInMilliseconds / millisecondsPerDay;\r\n\t}\r\n\r\n\t/**\r\n\t * Number to date\r\n\t *\r\n\t * IMPORTANT: Excel incorrectly considers 1900 to be a leap year\r\n\t */\r\n\tComponent.numToDate = function (excelSerialNumber) {\r\n\t\tvar jsDateInMilliseconds = excelInitialTime + excelSerialNumber * millisecondsPerDay;\r\n\t\tif (jsDateInMilliseconds >= excelLeapYearBug) {\r\n\t\t\tjsDateInMilliseconds -= millisecondsPerDay;\r\n\t\t}\r\n\r\n\t\tconst d = new Date(jsDateInMilliseconds);\r\n\r\n\t\tvar date = [\r\n\t\t\td.getUTCFullYear(),\r\n\t\t\td.getUTCMonth() + 1,\r\n\t\t\td.getUTCDate(),\r\n\t\t\td.getUTCHours(),\r\n\t\t\td.getUTCMinutes(),\r\n\t\t\td.getUTCSeconds(),\r\n\t\t];\r\n\r\n\t\treturn Component.now(date);\r\n\t}\r\n\r\n\t// Jsuites calendar labels\r\n\tComponent.weekdays = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\r\n\tComponent.months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\r\n\tComponent.weekdaysShort = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\r\n\tComponent.monthsShort = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\r\n\r\n\treturn Component;\r\n}\r\n\r\n/* harmony default export */ var helpers_date = (HelpersDate());\r\n;// CONCATENATED MODULE: ./src/utils/dictionary.js\r\n\r\n\r\n// Update dictionary\r\nvar setDictionary = function(d) {\r\n\tif (! document.dictionary) {\r\n\t\tdocument.dictionary = {}\r\n\t}\r\n\t// Replace the key into the dictionary and append the new ones\r\n\tvar t = null;\r\n\tvar i = null;\r\n\tvar k = Object.keys(d);\r\n\tfor (i = 0; i < k.length; i++) {\r\n\t\tdocument.dictionary[k[i]] = d[k[i]];\r\n\t}\r\n\r\n\t// Translations\r\n\tfor (i = 0; i < helpers_date.weekdays.length; i++) {\r\n\t\tt =  translate(helpers_date.weekdays[i]);\r\n\t\tif (helpers_date.weekdays[i]) {\r\n\t\t\thelpers_date.weekdays[i] = t;\r\n\t\t\thelpers_date.weekdaysShort[i] = t.substr(0,3);\r\n\t\t}\r\n\t}\r\n\tfor (i = 0; i < helpers_date.months.length; i++) {\r\n\t\tt = translate(helpers_date.months[i]);\r\n\t\tif (t) {\r\n\t\t\thelpers_date.months[i] = t;\r\n\t\t\thelpers_date.monthsShort[i] = t.substr(0,3);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// Translate\r\nvar translate = function(t) {\r\n\tif (typeof(document) !== \"undefined\" && document.dictionary) {\r\n\t\treturn document.dictionary[t] || t;\r\n\t} else {\r\n\t\treturn t;\r\n\t}\r\n}\r\n\r\n\r\n/* harmony default export */ var dictionary = ({ setDictionary, translate });\r\n;// CONCATENATED MODULE: ./src/utils/tracking.js\r\nfunction Tracking(component, state) {\r\n\tif (state == true) {\r\n\t\tdocument.jsuitesComponents = document.jsuitesComponents.filter(function(v) {\r\n\t\t\treturn v !== null;\r\n\t\t});\r\n\r\n\t\t// Start after all events\r\n\t\tsetTimeout(function() {\r\n\t\t\tdocument.jsuitesComponents.push(component);\r\n\t\t}, 0);\r\n\r\n\t} else {\r\n\t\tvar index = document.jsuitesComponents.indexOf(component);\r\n\t\tif (index >= 0) {\r\n\t\t\tdocument.jsuitesComponents.splice(index, 1);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n;// CONCATENATED MODULE: ./src/utils/path.js\r\nfunction Path(str, val, remove) {\r\n\tstr = str.split('.');\r\n\tif (str.length) {\r\n\t\tlet o = this;\r\n\t\tlet p = null;\r\n\t\twhile (str.length > 1) {\r\n\t\t\t// Get the property\r\n\t\t\tp = str.shift();\r\n\t\t\t// Check if the property exists\r\n\t\t\tif (o.hasOwnProperty(p)) {\r\n\t\t\t\to = o[p];\r\n\t\t\t} else {\r\n\t\t\t\t// Property does not exists\r\n\t\t\t\tif (typeof(val) === 'undefined') {\r\n\t\t\t\t\treturn undefined;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Create the property\r\n\t\t\t\t\to[p] = {};\r\n\t\t\t\t\t// Next property\r\n\t\t\t\t\to = o[p];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Get the property\r\n\t\tp = str.shift();\r\n\t\t// Set or get the value\r\n\t\tif (typeof(val) !== 'undefined') {\r\n\t\t\tif (remove === true) {\r\n\t\t\t\tdelete o[p];\r\n\t\t\t} else {\r\n\t\t\t\to[p] = val;\r\n\t\t\t}\r\n\t\t\t// Success\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\t// Return the value\r\n\t\t\tif (o) {\r\n\t\t\t\treturn o[p];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t// Something went wrong\r\n\treturn false;\r\n}\r\n;// CONCATENATED MODULE: ./src/utils/sorting.js\r\nfunction Sorting(el, options) {\r\n\tvar obj = {};\r\n\tobj.options = {};\r\n\r\n\tvar defaults = {\r\n\t\tpointer: null,\r\n\t\tdirection: null,\r\n\t\tondragstart: null,\r\n\t\tondragend: null,\r\n\t\tondrop: null,\r\n\t}\r\n\r\n\tvar dragElement = null;\r\n\r\n\t// Loop through the initial configuration\r\n\tfor (var property in defaults) {\r\n\t\tif (options && options.hasOwnProperty(property)) {\r\n\t\t\tobj.options[property] = options[property];\r\n\t\t} else {\r\n\t\t\tobj.options[property] = defaults[property];\r\n\t\t}\r\n\t}\r\n\r\n\tel.classList.add('jsorting');\r\n\r\n\tel.addEventListener('dragstart', function(e) {\r\n\t\tvar position = Array.prototype.indexOf.call(e.target.parentNode.children, e.target);\r\n\t\tdragElement = {\r\n\t\t\telement: e.target,\r\n\t\t\to: position,\r\n\t\t\td: position\r\n\t\t}\r\n\t\te.target.style.opacity = '0.25';\r\n\r\n\t\tif (typeof(obj.options.ondragstart) == 'function') {\r\n\t\t\tobj.options.ondragstart(el, e.target, e);\r\n\t\t}\r\n\t});\r\n\r\n\tel.addEventListener('dragover', function(e) {\r\n\t\te.preventDefault();\r\n\r\n\t\tif (getElement(e.target) && dragElement) {\r\n\t\t\tif (e.target.getAttribute('draggable') == 'true' && dragElement.element != e.target) {\r\n\t\t\t\tif (! obj.options.direction) {\r\n\t\t\t\t\tvar condition = e.target.clientHeight / 2 > e.offsetY;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar condition = e.target.clientWidth / 2 > e.offsetX;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (condition) {\r\n\t\t\t\t\te.target.parentNode.insertBefore(dragElement.element, e.target);\r\n\t\t\t\t} else {\r\n\t\t\t\t\te.target.parentNode.insertBefore(dragElement.element, e.target.nextSibling);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdragElement.d = Array.prototype.indexOf.call(e.target.parentNode.children, dragElement.element);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tel.addEventListener('dragleave', function(e) {\r\n\t\te.preventDefault();\r\n\t});\r\n\r\n\tel.addEventListener('dragend', function(e) {\r\n\t\te.preventDefault();\r\n\r\n\t\tif (dragElement) {\r\n\t\t\tif (typeof(obj.options.ondragend) == 'function') {\r\n\t\t\t\tobj.options.ondragend(el, dragElement.element, e);\r\n\t\t\t}\r\n\r\n\t\t\t// Cancelled put element to the original position\r\n\t\t\tif (dragElement.o < dragElement.d) {\r\n\t\t\t\te.target.parentNode.insertBefore(dragElement.element, e.target.parentNode.children[dragElement.o]);\r\n\t\t\t} else {\r\n\t\t\t\te.target.parentNode.insertBefore(dragElement.element, e.target.parentNode.children[dragElement.o].nextSibling);\r\n\t\t\t}\r\n\r\n\t\t\tdragElement.element.style.opacity = '';\r\n\t\t\tdragElement = null;\r\n\t\t}\r\n\t});\r\n\r\n\tel.addEventListener('drop', function(e) {\r\n\t\te.preventDefault();\r\n\r\n\t\tif (dragElement && (dragElement.o != dragElement.d)) {\r\n\t\t\tif (typeof(obj.options.ondrop) == 'function') {\r\n\t\t\t\tobj.options.ondrop(el, dragElement.o, dragElement.d, dragElement.element, e.target, e);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdragElement.element.style.opacity = '';\r\n\t\tdragElement = null;\r\n\t});\r\n\r\n\tvar getElement = function(element) {\r\n\t\tvar sorting = false;\r\n\r\n\t\tfunction path (element) {\r\n\t\t\tif (element.className) {\r\n\t\t\t\tif (element.classList.contains('jsorting')) {\r\n\t\t\t\t\tsorting = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (! sorting) {\r\n\t\t\t\tpath(element.parentNode);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpath(element);\r\n\r\n\t\treturn sorting;\r\n\t}\r\n\r\n\tfor (var i = 0; i < el.children.length; i++) {\r\n\t\tif (! el.children[i].hasAttribute('draggable')) {\r\n\t\t\tel.children[i].setAttribute('draggable', 'true');\r\n\t\t}\r\n\t}\r\n\r\n\tel.val = function() {\r\n\t\tvar id = null;\r\n\t\tvar data = [];\r\n\t\tfor (var i = 0; i < el.children.length; i++) {\r\n\t\t\tif (id = el.children[i].getAttribute('data-id')) {\r\n\t\t\t\tdata.push(id);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn data;\r\n\t}\r\n\r\n\treturn el;\r\n}\r\n;// CONCATENATED MODULE: ./src/utils/lazyloading.js\r\nfunction LazyLoading(el, options) {\r\n\tvar obj = {}\r\n\r\n\t// Mandatory options\r\n\tif (! options.loadUp || typeof(options.loadUp) != 'function') {\r\n\t\toptions.loadUp = function() {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\tif (! options.loadDown || typeof(options.loadDown) != 'function') {\r\n\t\toptions.loadDown = function() {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\t// Timer ms\r\n\tif (! options.timer) {\r\n\t\toptions.timer = 100;\r\n\t}\r\n\r\n\t// Timer\r\n\tvar timeControlLoading = null;\r\n\r\n\t// Controls\r\n\tvar scrollControls = function(e) {\r\n\t\tif (timeControlLoading == null) {\r\n\t\t\tvar event = false;\r\n\t\t\tvar scrollTop = el.scrollTop;\r\n\t\t\tif (el.scrollTop + (el.clientHeight * 2) >= el.scrollHeight) {\r\n\t\t\t\tif (options.loadDown()) {\r\n\t\t\t\t\tif (scrollTop == el.scrollTop) {\r\n\t\t\t\t\t\tel.scrollTop = el.scrollTop - (el.clientHeight);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tevent = true;\r\n\t\t\t\t}\r\n\t\t\t} else if (el.scrollTop <= el.clientHeight) {\r\n\t\t\t\tif (options.loadUp()) {\r\n\t\t\t\t\tif (scrollTop == el.scrollTop) {\r\n\t\t\t\t\t\tel.scrollTop = el.scrollTop + (el.clientHeight);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tevent = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\ttimeControlLoading = setTimeout(function() {\r\n\t\t\t\ttimeControlLoading = null;\r\n\t\t\t}, options.timer);\r\n\r\n\t\t\tif (event) {\r\n\t\t\t\tif (typeof(options.onupdate) == 'function') {\r\n\t\t\t\t\toptions.onupdate();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// Onscroll\r\n\tel.onscroll = function(e) {\r\n\t\tscrollControls(e);\r\n\t}\r\n\r\n\tel.onwheel = function(e) {\r\n\t\tscrollControls(e);\r\n\t}\r\n\r\n\treturn obj;\r\n}\r\n;// CONCATENATED MODULE: ./src/plugins/ajax.js\r\nfunction Ajax() {\r\n\tvar Component = (function(options, complete) {\r\n\t\tif (Array.isArray(options)) {\r\n\t\t\t// Create multiple request controller\r\n\t\t\tvar multiple = {\r\n\t\t\t\tinstance: [],\r\n\t\t\t\tcomplete: complete,\r\n\t\t\t}\r\n\r\n\t\t\tif (options.length > 0) {\r\n\t\t\t\tfor (var i = 0; i < options.length; i++) {\r\n\t\t\t\t\toptions[i].multiple = multiple;\r\n\t\t\t\t\tmultiple.instance.push(Component(options[i]));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn multiple;\r\n\t\t}\r\n\r\n\t\tif (! options.data) {\r\n\t\t\toptions.data = {};\r\n\t\t}\r\n\r\n\t\tif (options.type) {\r\n\t\t\toptions.method = options.type;\r\n\t\t}\r\n\r\n\t\t// Default method\r\n\t\tif (! options.method) {\r\n\t\t\toptions.method = 'GET';\r\n\t\t}\r\n\r\n\t\t// Default type\r\n\t\tif (! options.dataType) {\r\n\t\t\toptions.dataType = 'json';\r\n\t\t}\r\n\r\n\t\tif (options.data) {\r\n\t\t\t// Parse object to variables format\r\n\t\t\tvar parseData = function (value, key) {\r\n\t\t\t\tvar vars = [];\r\n\t\t\t\tif (value) {\r\n\t\t\t\t\tvar keys = Object.keys(value);\r\n\t\t\t\t\tif (keys.length) {\r\n\t\t\t\t\t\tfor (var i = 0; i < keys.length; i++) {\r\n\t\t\t\t\t\t\tif (key) {\r\n\t\t\t\t\t\t\t\tvar k = key + '[' + keys[i] + ']';\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tvar k = keys[i];\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (value[k] instanceof FileList) {\r\n\t\t\t\t\t\t\t\tvars[k] = value[keys[i]];\r\n\t\t\t\t\t\t\t} else if (value[keys[i]] === null || value[keys[i]] === undefined) {\r\n\t\t\t\t\t\t\t\tvars[k] = '';\r\n\t\t\t\t\t\t\t} else if (typeof(value[keys[i]]) == 'object') {\r\n\t\t\t\t\t\t\t\tvar r = parseData(value[keys[i]], k);\r\n\t\t\t\t\t\t\t\tvar o = Object.keys(r);\r\n\t\t\t\t\t\t\t\tfor (var j = 0; j < o.length; j++) {\r\n\t\t\t\t\t\t\t\t\tvars[o[j]] = r[o[j]];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tvars[k] = value[keys[i]];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn vars;\r\n\t\t\t}\r\n\r\n\t\t\tvar d = parseData(options.data);\r\n\t\t\tvar k = Object.keys(d);\r\n\r\n\t\t\t// Data form\r\n\t\t\tif (options.method == 'GET') {\r\n\t\t\t\tif (k.length) {\r\n\t\t\t\t\tvar data = [];\r\n\t\t\t\t\tfor (var i = 0; i < k.length; i++) {\r\n\t\t\t\t\t\tdata.push(k[i] + '=' + encodeURIComponent(d[k[i]]));\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (options.url.indexOf('?') < 0) {\r\n\t\t\t\t\t\toptions.url += '?';\r\n\t\t\t\t\t}\r\n\t\t\t\t\toptions.url += data.join('&');\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tvar data = new FormData();\r\n\t\t\t\tfor (var i = 0; i < k.length; i++) {\r\n\t\t\t\t\tif (d[k[i]] instanceof FileList) {\r\n\t\t\t\t\t\tif (d[k[i]].length) {\r\n\t\t\t\t\t\t\tfor (var j = 0; j < d[k[i]].length; j++) {\r\n\t\t\t\t\t\t\t\tdata.append(k[i], d[k[i]][j], d[k[i]][j].name);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdata.append(k[i], d[k[i]]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar httpRequest = new XMLHttpRequest();\r\n\t\thttpRequest.open(options.method, options.url, true);\r\n\t\thttpRequest.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\r\n\r\n\t\t// Content type\r\n\t\tif (options.contentType) {\r\n\t\t\thttpRequest.setRequestHeader('Content-Type', options.contentType);\r\n\t\t}\r\n\r\n\t\t// Headers\r\n\t\tif (options.method === 'POST') {\r\n\t\t\thttpRequest.setRequestHeader('Accept', 'application/json');\r\n\t\t} else {\r\n\t\t\tif (options.dataType === 'blob') {\r\n\t\t\t\thttpRequest.responseType = \"blob\";\r\n\t\t\t} else {\r\n\t\t\t\tif (! options.contentType) {\r\n\t\t\t\t\tif (options.dataType === 'json') {\r\n\t\t\t\t\t\thttpRequest.setRequestHeader('Content-Type', 'text/json');\r\n\t\t\t\t\t} else if (options.dataType === 'html') {\r\n\t\t\t\t\t\thttpRequest.setRequestHeader('Content-Type', 'text/html');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// No cache\r\n\t\tif (options.cache !== true) {\r\n\t\t\thttpRequest.setRequestHeader('pragma', 'no-cache');\r\n\t\t\thttpRequest.setRequestHeader('cache-control', 'no-cache');\r\n\t\t}\r\n\r\n\t\t// Authentication\r\n\t\tif (options.withCredentials === true) {\r\n\t\t\thttpRequest.withCredentials = true\r\n\t\t}\r\n\r\n\t\t// Before send\r\n\t\tif (typeof(options.beforeSend) == 'function') {\r\n\t\t\toptions.beforeSend(httpRequest);\r\n\t\t}\r\n\r\n\t\t// Before send\r\n\t\tif (typeof(Component.beforeSend) == 'function') {\r\n\t\t\tComponent.beforeSend(httpRequest);\r\n\t\t}\r\n\r\n\t\tif (document.ajax && typeof(document.ajax.beforeSend) == 'function') {\r\n\t\t\tdocument.ajax.beforeSend(httpRequest);\r\n\t\t}\r\n\r\n\t\thttpRequest.onload = function() {\r\n\t\t\tif (httpRequest.status >= 200 && httpRequest.status < 300) {\r\n\t\t\t\tif (options.dataType === 'json') {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tvar result = JSON.parse(httpRequest.responseText);\r\n\r\n\t\t\t\t\t\tif (options.success && typeof(options.success) == 'function') {\r\n\t\t\t\t\t\t\toptions.success(result);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch(err) {\r\n\t\t\t\t\t\tif (options.error && typeof(options.error) == 'function') {\r\n\t\t\t\t\t\t\toptions.error(err, result);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (options.dataType === 'blob') {\r\n\t\t\t\t\t\tvar result = httpRequest.response;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar result = httpRequest.responseText;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (options.success && typeof(options.success) == 'function') {\r\n\t\t\t\t\t\toptions.success(result);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (options.error && typeof(options.error) == 'function') {\r\n\t\t\t\t\toptions.error(httpRequest.responseText, httpRequest.status);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Global queue\r\n\t\t\tif (Component.queue && Component.queue.length > 0) {\r\n\t\t\t\tComponent.send(Component.queue.shift());\r\n\t\t\t}\r\n\r\n\t\t\t// Global complete method\r\n\t\t\tif (Component.requests && Component.requests.length) {\r\n\t\t\t\t// Get index of this request in the container\r\n\t\t\t\tvar index = Component.requests.indexOf(httpRequest);\r\n\t\t\t\t// Remove from the ajax requests container\r\n\t\t\t\tComponent.requests.splice(index, 1);\r\n\t\t\t\t// Deprecated: Last one?\r\n\t\t\t\tif (! Component.requests.length) {\r\n\t\t\t\t\t// Object event\r\n\t\t\t\t\tif (options.complete && typeof(options.complete) == 'function') {\r\n\t\t\t\t\t\toptions.complete(result);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// Group requests\r\n\t\t\t\tif (options.group) {\r\n\t\t\t\t\tif (Component.oncomplete && typeof(Component.oncomplete[options.group]) == 'function') {\r\n\t\t\t\t\t\tif (! Component.pending(options.group)) {\r\n\t\t\t\t\t\t\tComponent.oncomplete[options.group]();\r\n\t\t\t\t\t\t\tComponent.oncomplete[options.group] = null;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// Multiple requests controller\r\n\t\t\t\tif (options.multiple && options.multiple.instance) {\r\n\t\t\t\t\t// Get index of this request in the container\r\n\t\t\t\t\tvar index = options.multiple.instance.indexOf(httpRequest);\r\n\t\t\t\t\t// Remove from the ajax requests container\r\n\t\t\t\t\toptions.multiple.instance.splice(index, 1);\r\n\t\t\t\t\t// If this is the last one call method complete\r\n\t\t\t\t\tif (! options.multiple.instance.length) {\r\n\t\t\t\t\t\tif (options.multiple.complete && typeof(options.multiple.complete) == 'function') {\r\n\t\t\t\t\t\t\toptions.multiple.complete(result);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Keep the options\r\n\t\thttpRequest.options = options;\r\n\t\t// Data\r\n\t\thttpRequest.data = data;\r\n\r\n\t\t// Queue\r\n\t\tif (options.queue === true && Component.requests.length > 0) {\r\n\t\t\tComponent.queue.push(httpRequest);\r\n\t\t} else {\r\n\t\t\tComponent.send(httpRequest)\r\n\t\t}\r\n\r\n\t\treturn httpRequest;\r\n\t});\r\n\r\n\tComponent.send = function(httpRequest) {\r\n\t\tif (httpRequest.data) {\r\n\t\t\tif (Array.isArray(httpRequest.data)) {\r\n\t\t\t\thttpRequest.send(httpRequest.data.join('&'));\r\n\t\t\t} else {\r\n\t\t\t\thttpRequest.send(httpRequest.data);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\thttpRequest.send();\r\n\t\t}\r\n\r\n\t\tComponent.requests.push(httpRequest);\r\n\t}\r\n\r\n\tComponent.exists = function(url, __callback) {\r\n\t\tvar http = new XMLHttpRequest();\r\n\t\thttp.open('HEAD', url, false);\r\n\t\thttp.send();\r\n\t\tif (http.status) {\r\n\t\t\t__callback(http.status);\r\n\t\t}\r\n\t}\r\n\r\n\tComponent.pending = function(group) {\r\n\t\tvar n = 0;\r\n\t\tvar o = Component.requests;\r\n\t\tif (o && o.length) {\r\n\t\t\tfor (var i = 0; i < o.length; i++) {\r\n\t\t\t\tif (! group || group == o[i].options.group) {\r\n\t\t\t\t\tn++\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn n;\r\n\t}\r\n\r\n\tComponent.oncomplete = {};\r\n\tComponent.requests = [];\r\n\tComponent.queue = [];\r\n\r\n\treturn Component\r\n}\r\n\r\n/* harmony default export */ var ajax = (Ajax());\r\n;// CONCATENATED MODULE: ./src/plugins/animation.js\r\nfunction Animation() {\r\n\tconst Component = {\r\n\t\tloading: {}\r\n\t}\r\n\r\n\tComponent.loading.show = function(timeout) {\r\n\t\tif (! Component.loading.element) {\r\n\t\t\tComponent.loading.element = document.createElement('div');\r\n\t\t\tComponent.loading.element.className = 'jloading';\r\n\t\t}\r\n\t\tdocument.body.appendChild(Component.loading.element);\r\n\r\n\t\t// Max timeout in seconds\r\n\t\tif (timeout > 0) {\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tComponent.loading.hide();\r\n\t\t\t}, timeout * 1000)\r\n\t\t}\r\n\t}\r\n\r\n\tComponent.loading.hide = function() {\r\n\t\tif (Component.loading.element && Component.loading.element.parentNode) {\r\n\t\t\tdocument.body.removeChild(Component.loading.element);\r\n\t\t}\r\n\t}\r\n\r\n\tComponent.slideLeft = function (element, direction, done) {\r\n\t\tif (direction == true) {\r\n\t\t\telement.classList.add('jslide-left-in');\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\telement.classList.remove('jslide-left-in');\r\n\t\t\t\tif (typeof (done) == 'function') {\r\n\t\t\t\t\tdone();\r\n\t\t\t\t}\r\n\t\t\t}, 400);\r\n\t\t} else {\r\n\t\t\telement.classList.add('jslide-left-out');\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\telement.classList.remove('jslide-left-out');\r\n\t\t\t\tif (typeof (done) == 'function') {\r\n\t\t\t\t\tdone();\r\n\t\t\t\t}\r\n\t\t\t}, 400);\r\n\t\t}\r\n\t}\r\n\r\n\tComponent.slideRight = function (element, direction, done) {\r\n\t\tif (direction === true) {\r\n\t\t\telement.classList.add('jslide-right-in');\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\telement.classList.remove('jslide-right-in');\r\n\t\t\t\tif (typeof (done) == 'function') {\r\n\t\t\t\t\tdone();\r\n\t\t\t\t}\r\n\t\t\t}, 400);\r\n\t\t} else {\r\n\t\t\telement.classList.add('jslide-right-out');\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\telement.classList.remove('jslide-right-out');\r\n\t\t\t\tif (typeof (done) == 'function') {\r\n\t\t\t\t\tdone();\r\n\t\t\t\t}\r\n\t\t\t}, 400);\r\n\t\t}\r\n\t}\r\n\r\n\tComponent.slideTop = function (element, direction, done) {\r\n\t\tif (direction === true) {\r\n\t\t\telement.classList.add('jslide-top-in');\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\telement.classList.remove('jslide-top-in');\r\n\t\t\t\tif (typeof (done) == 'function') {\r\n\t\t\t\t\tdone();\r\n\t\t\t\t}\r\n\t\t\t}, 400);\r\n\t\t} else {\r\n\t\t\telement.classList.add('jslide-top-out');\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\telement.classList.remove('jslide-top-out');\r\n\t\t\t\tif (typeof (done) == 'function') {\r\n\t\t\t\t\tdone();\r\n\t\t\t\t}\r\n\t\t\t}, 400);\r\n\t\t}\r\n\t}\r\n\r\n\tComponent.slideBottom = function (element, direction, done) {\r\n\t\tif (direction === true) {\r\n\t\t\telement.classList.add('jslide-bottom-in');\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\telement.classList.remove('jslide-bottom-in');\r\n\t\t\t\tif (typeof (done) == 'function') {\r\n\t\t\t\t\tdone();\r\n\t\t\t\t}\r\n\t\t\t}, 400);\r\n\t\t} else {\r\n\t\t\telement.classList.add('jslide-bottom-out');\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\telement.classList.remove('jslide-bottom-out');\r\n\t\t\t\tif (typeof (done) == 'function') {\r\n\t\t\t\t\tdone();\r\n\t\t\t\t}\r\n\t\t\t}, 100);\r\n\t\t}\r\n\t}\r\n\r\n\tComponent.fadeIn = function (element, done) {\r\n\t\telement.style.display = '';\r\n\t\telement.classList.add('jfade-in');\r\n\t\tsetTimeout(function () {\r\n\t\t\telement.classList.remove('jfade-in');\r\n\t\t\tif (typeof (done) == 'function') {\r\n\t\t\t\tdone();\r\n\t\t\t}\r\n\t\t}, 2000);\r\n\t}\r\n\r\n\tComponent.fadeOut = function (element, done) {\r\n\t\telement.classList.add('jfade-out');\r\n\t\tsetTimeout(function () {\r\n\t\t\telement.style.display = 'none';\r\n\t\t\telement.classList.remove('jfade-out');\r\n\t\t\tif (typeof (done) == 'function') {\r\n\t\t\t\tdone();\r\n\t\t\t}\r\n\t\t}, 1000);\r\n\t}\r\n\r\n\treturn Component;\r\n}\r\n\r\n/* harmony default export */ var animation = (Animation());\r\n;// CONCATENATED MODULE: ./src/plugins/mask.js\r\n\r\n\r\n\r\nfunction Mask() {\r\n\t// Currency\r\n\tvar tokens = {\r\n\t\t// Text\r\n\t\ttext: [ '@' ],\r\n\t\t// Currency tokens\r\n\t\tcurrency: [ '#(.{1})##0?(.{1}0+)?( ?;(.*)?)?', '#' ],\r\n\t\t// Percentage\r\n\t\tpercentage: [ '0{1}(.{1}0+)?%' ],\r\n\t\t// Number\r\n\t\tnumeric: [ '0{1}(.{1}0+)?' ],\r\n\t\t// Data tokens\r\n\t\tdatetime: [ 'YYYY', 'YYY', 'YY', 'MMMMM', 'MMMM', 'MMM', 'MM', 'DDDDD', 'DDDD', 'DDD', 'DD', 'DY', 'DAY', 'WD', 'D', 'Q', 'MONTH', 'MON', 'HH24', 'HH12', 'HH', '\\\\[H\\\\]', 'H', 'AM/PM', 'MI', 'SS', 'MS', 'Y', 'M' ],\r\n\t\t// Other\r\n\t\tgeneral: [ 'A', '0', '[0-9a-zA-Z\\$]+', '.']\r\n\t}\r\n\r\n\tvar getDate = function() {\r\n\t\tif (this.mask.toLowerCase().indexOf('[h]') !== -1) {\r\n\t\t\tvar m = 0;\r\n\t\t\tif (this.date[4]) {\r\n\t\t\t\tm = parseFloat(this.date[4] / 60);\r\n\t\t\t}\r\n\t\t\tvar v = parseInt(this.date[3]) + m;\r\n\t\t\tv /= 24;\r\n\t\t} else if (! (this.date[0] && this.date[1] && this.date[2]) && (this.date[3] || this.date[4])) {\r\n\t\t\tv = helpers.two(this.date[3]) + ':' + helpers.two(this.date[4]) + ':' + helpers.two(this.date[5])\r\n\t\t} else {\r\n\t\t\tif (this.date[0] && this.date[1] && ! this.date[2]) {\r\n\t\t\t\tthis.date[2] = 1;\r\n\t\t\t}\r\n\t\t\tv = helpers.two(this.date[0]) + '-' + helpers.two(this.date[1]) + '-' + helpers.two(this.date[2]);\r\n\r\n\t\t\tif (this.date[3] || this.date[4] || this.date[5]) {\r\n\t\t\t\tv += ' ' + helpers.two(this.date[3]) + ':' + helpers.two(this.date[4]) + ':' + helpers.two(this.date[5]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn v;\r\n\t}\r\n\r\n\tvar extractDate = function() {\r\n\t\tvar v = '';\r\n\t\tif (! (this.date[0] && this.date[1] && this.date[2]) && (this.date[3] || this.date[4])) {\r\n\t\t\tif (this.mask.toLowerCase().indexOf('[h]') !== -1) {\r\n\t\t\t\tv = parseInt(this.date[3]);\r\n\t\t\t} else {\r\n\t\t\t\tlet h = parseInt(this.date[3]);\r\n\t\t\t\tif (h < 13 && this.values.indexOf('PM') !== -1) {\r\n\t\t\t\t\tv = (h+12) % 24;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tv = h % 24;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (this.date[4]) {\r\n\t\t\t\tv += parseFloat(this.date[4] / 60);\r\n\t\t\t}\r\n\t\t\tif (this.date[5]) {\r\n\t\t\t\tv += parseFloat(this.date[5] / 3600);\r\n\t\t\t}\r\n\t\t\tv /= 24;\r\n\t\t} else if (this.date[0] || this.date[1] || this.date[2] || this.date[3] || this.date[4] || this.date[5]) {\r\n\t\t\tif (this.date[0] && this.date[1] && ! this.date[2]) {\r\n\t\t\t\tthis.date[2] = 1;\r\n\t\t\t}\r\n\t\t\tvar t = helpers_date.now(this.date);\r\n\t\t\tv = helpers_date.dateToNum(t);\r\n\t\t\tif (this.date[4]) {\r\n\t\t\t\tv += parseFloat(this.date[4] / 60);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (isNaN(v)) {\r\n\t\t\tv = '';\r\n\t\t}\r\n\r\n\t\treturn v;\r\n\t}\r\n\r\n\tvar isBlank = function(v) {\r\n\t\treturn v === null || v === '' || v === undefined ? true : false;\r\n\t}\r\n\r\n\tvar isFormula = function(value) {\r\n\t\tvar v = (''+value)[0];\r\n\t\treturn v == '=' ? true : false;\r\n\t}\r\n\r\n\tvar isNumeric = function(t) {\r\n\t\treturn t === 'currency' || t === 'percentage' || t === 'numeric' ? true : false;\r\n\t}\r\n\r\n\t/**\r\n\t * Get the decimal defined in the mask configuration\r\n\t */\r\n\tvar getDecimal = function(v) {\r\n\t\tif (v && Number(v) == v) {\r\n\t\t\treturn '.';\r\n\t\t} else {\r\n\t\t\tif (this.options.decimal) {\r\n\t\t\t\treturn this.options.decimal;\r\n\t\t\t} else {\r\n\t\t\t\tif (this.locale) {\r\n\t\t\t\t\tvar t = Intl.NumberFormat(this.locale).format(1.1);\r\n\t\t\t\t\treturn this.options.decimal = t[1];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (! v) {\r\n\t\t\t\t\t\tv  = this.mask;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar e = new RegExp('0{1}(.{1})0+', 'ig');\r\n\t\t\t\t\tvar t = e.exec(v);\r\n\t\t\t\t\tif (t && t[1] && t[1].length == 1) {\r\n\t\t\t\t\t\t// Save decimal\r\n\t\t\t\t\t\tthis.options.decimal = t[1];\r\n\t\t\t\t\t\t// Return decimal\r\n\t\t\t\t\t\treturn t[1];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// Did not find any decimal last resort the default\r\n\t\t\t\t\t\tvar e = new RegExp('#{1}(.{1})#+', 'ig');\r\n\t\t\t\t\t\tvar t = e.exec(v);\r\n\t\t\t\t\t\tif (t && t[1] && t[1].length == 1) {\r\n\t\t\t\t\t\t\tif (t[1] === ',') {\r\n\t\t\t\t\t\t\t\tthis.options.decimal = '.';\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.options.decimal = ',';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.options.decimal = '1.1'.toLocaleString().substring(1,2);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this.options.decimal) {\r\n\t\t\treturn this.options.decimal;\r\n\t\t} else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tvar ParseValue = function(v, decimal) {\r\n\t\tif (v == '') {\r\n\t\t\treturn '';\r\n\t\t}\r\n\r\n\t\t// Get decimal\r\n\t\tif (! decimal) {\r\n\t\t\tdecimal = getDecimal.call(this);\r\n\t\t}\r\n\r\n\t\t// New value\r\n\t\tv = (''+v).split(decimal);\r\n\r\n\t\t// Signal\r\n\t\tvar signal = v[0].match(/[-]+/g);\r\n\t\tif (signal && signal.length) {\r\n\t\t\tsignal = true;\r\n\t\t} else {\r\n\t\t\tsignal = false;\r\n\t\t}\r\n\r\n\t\tv[0] = v[0].match(/[0-9]+/g);\r\n\r\n\t\tif (v[0]) {\r\n\t\t\tif (signal) {\r\n\t\t\t\tv[0].unshift('-');\r\n\t\t\t}\r\n\t\t\tv[0] = v[0].join('');\r\n\t\t} else {\r\n\t\t\tif (signal) {\r\n\t\t\t\tv[0] = '-';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (v[0] || v[1]) {\r\n\t\t\tif (v[1] !== undefined) {\r\n\t\t\t\tv[1] = v[1].match(/[0-9]+/g);\r\n\t\t\t\tif (v[1]) {\r\n\t\t\t\t\tv[1] = v[1].join('');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tv[1] = '';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn '';\r\n\t\t}\r\n\t\treturn v;\r\n\t}\r\n\r\n\tvar FormatValue = function(v, event) {\r\n\t\tif (v === '') {\r\n\t\t\treturn '';\r\n\t\t}\r\n\t\t// Get decimal\r\n\t\tvar d = getDecimal.call(this);\r\n\t\t// Convert value\r\n\t\tvar o = this.options;\r\n\t\t// Parse value\r\n\t\tv = ParseValue.call(this, v);\r\n\t\tif (v === '') {\r\n\t\t\treturn '';\r\n\t\t}\r\n\t\tvar t = null;\r\n\t\t// Temporary value\r\n\t\tif (v[0]) {\r\n\t\t\tif (o.style === 'percent') {\r\n\t\t\t\tt = parseFloat(v[0]) / 100;\r\n\t\t\t} else {\r\n\t\t\t\tt = parseFloat(v[0] + '.1');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ((v[0] === '-' || v[0] === '-00') && ! v[1] && (event && event.inputType == \"deleteContentBackward\")) {\r\n\t\t\treturn '';\r\n\t\t}\r\n\r\n\t\tvar n = new Intl.NumberFormat(this.locale, o).format(t);\r\n\t\tn = n.split(d);\r\n\r\n\t\tif (o.style === 'percent') {\r\n\t\t\tif (n[0].indexOf('%') !== -1) {\r\n\t\t\t\tn[0] = n[0].replace('%', '');\r\n\t\t\t\tn[2] = '%';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (typeof(n[1]) !== 'undefined') {\r\n\t\t\tvar s = n[1].replace(/[0-9]*/g, '');\r\n\t\t\tif (s) {\r\n\t\t\t\tn[2] = s;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (v[1] !== undefined) {\r\n\t\t\tn[1] = d + v[1];\r\n\t\t} else {\r\n\t\t\tn[1] = '';\r\n\t\t}\r\n\r\n\t\treturn n.join('');\r\n\t}\r\n\r\n\tvar Format = function(e, event) {\r\n\t\tvar v = Value.call(e);\r\n\t\tif (! v) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Get decimal\r\n\t\tvar n = FormatValue.call(this, v, event);\r\n\t\tvar t = (n.length) - v.length;\r\n\t\tvar index = Caret.call(e) + t;\r\n\t\t// Set value and update caret\r\n\t\tValue.call(e, n, index, true);\r\n\t}\r\n\r\n\tvar Extract = function(v) {\r\n\t\t// Keep the raw value\r\n\t\tvar current = ParseValue.call(this, v);\r\n\t\tif (current) {\r\n\t\t\t// Negative values\r\n\t\t\tif (current[0] === '-') {\r\n\t\t\t\tcurrent[0] = '-0';\r\n\t\t\t}\r\n\t\t\treturn parseFloat(current.join('.'));\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\t/**\r\n\t * Caret getter and setter methods\r\n\t */\r\n\tvar Caret = function(index, adjustNumeric) {\r\n\t\tif (index === undefined) {\r\n\t\t\tif (this.tagName == 'DIV') {\r\n\t\t\t\tvar pos = 0;\r\n\t\t\t\tvar s = window.getSelection();\r\n\t\t\t\tif (s) {\r\n\t\t\t\t\tif (s.rangeCount !== 0) {\r\n\t\t\t\t\t\tvar r = s.getRangeAt(0);\r\n\t\t\t\t\t\tvar p = r.cloneRange();\r\n\t\t\t\t\t\tp.selectNodeContents(this);\r\n\t\t\t\t\t\tp.setEnd(r.endContainer, r.endOffset);\r\n\t\t\t\t\t\tpos = p.toString().length;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn pos;\r\n\t\t\t} else {\r\n\t\t\t\treturn this.selectionStart;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// Get the current value\r\n\t\t\tvar n = Value.call(this);\r\n\r\n\t\t\t// Review the position\r\n\t\t\tif (adjustNumeric) {\r\n\t\t\t\tvar p = null;\r\n\t\t\t\tfor (var i = 0; i < n.length; i++) {\r\n\t\t\t\t\tif (n[i].match(/[\\-0-9]/g) || n[i] === '.' || n[i] === ',') {\r\n\t\t\t\t\t\tp = i;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// If the string has no numbers\r\n\t\t\t\tif (p === null) {\r\n\t\t\t\t\tp = n.indexOf(' ');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (index >= p) {\r\n\t\t\t\t\tindex = p + 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Do not update caret\r\n\t\t\tif (index > n.length) {\r\n\t\t\t\tindex = n.length;\r\n\t\t\t}\r\n\r\n\t\t\tif (index) {\r\n\t\t\t\t// Set caret\r\n\t\t\t\tif (this.tagName == 'DIV') {\r\n\t\t\t\t\tvar s = window.getSelection();\r\n\t\t\t\t\tvar r = document.createRange();\r\n\r\n\t\t\t\t\tif (this.childNodes[0]) {\r\n\t\t\t\t\t\tr.setStart(this.childNodes[0], index);\r\n\t\t\t\t\t\ts.removeAllRanges();\r\n\t\t\t\t\t\ts.addRange(r);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.selectionStart = index;\r\n\t\t\t\t\tthis.selectionEnd = index;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Value getter and setter method\r\n\t */\r\n\tvar Value = function(v, updateCaret, adjustNumeric) {\r\n\t\tif (this.tagName == 'DIV') {\r\n\t\t\tif (v === undefined) {\r\n\t\t\t\tvar v = this.innerText;\r\n\t\t\t\tif (this.value && this.value.length > v.length) {\r\n\t\t\t\t\tv = this.value;\r\n\t\t\t\t}\r\n\t\t\t\treturn v;\r\n\t\t\t} else {\r\n\t\t\t\tif (this.innerText !== v) {\r\n\t\t\t\t\tthis.innerText = v;\r\n\r\n\t\t\t\t\tif (updateCaret) {\r\n\t\t\t\t\t\tCaret.call(this, updateCaret, adjustNumeric);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (v === undefined) {\r\n\t\t\t\treturn this.value;\r\n\t\t\t} else {\r\n\t\t\t\tif (this.value !== v) {\r\n\t\t\t\t\tthis.value = v;\r\n\t\t\t\t\tif (updateCaret) {\r\n\t\t\t\t\t\tCaret.call(this, updateCaret, adjustNumeric);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// Labels\r\n\tvar weekDaysFull = helpers_date.weekdays;\r\n\tvar weekDays = helpers_date.weekdaysShort;\r\n\tvar monthsFull = helpers_date.months;\r\n\tvar months = helpers_date.monthsShort;\r\n\r\n\tvar parser = {\r\n\t\t'YEAR': function(v, s) {\r\n\t\t\tvar y = ''+new Date().getFullYear();\r\n\r\n\t\t\tif (typeof(this.values[this.index]) === 'undefined') {\r\n\t\t\t\tthis.values[this.index] = '';\r\n\t\t\t}\r\n\t\t\tif (parseInt(v) >= 0 && parseInt(v) <= 10) {\r\n\t\t\t\tif (this.values[this.index].length < s) {\r\n\t\t\t\t\tthis.values[this.index] += v;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (this.values[this.index].length == s) {\r\n\t\t\t\tif (s == 2) {\r\n\t\t\t\t\tvar y = y.substr(0,2) + this.values[this.index];\r\n\t\t\t\t} else if (s == 3) {\r\n\t\t\t\t\tvar y = y.substr(0,1) + this.values[this.index];\r\n\t\t\t\t} else if (s == 4) {\r\n\t\t\t\t\tvar y = this.values[this.index];\r\n\t\t\t\t}\r\n\t\t\t\tthis.date[0] = y;\r\n\t\t\t\tthis.index++;\r\n\t\t\t}\r\n\t\t},\r\n\t\t'YYYY': function(v) {\r\n\t\t\tparser.YEAR.call(this, v, 4);\r\n\t\t},\r\n\t\t'YYY': function(v) {\r\n\t\t\tparser.YEAR.call(this, v, 3);\r\n\t\t},\r\n\t\t'YY': function(v) {\r\n\t\t\tparser.YEAR.call(this, v, 2);\r\n\t\t},\r\n\t\t'FIND': function(v, a) {\r\n\t\t\tif (isBlank(this.values[this.index])) {\r\n\t\t\t\tthis.values[this.index] = '';\r\n\t\t\t}\r\n\t\t\tif (this.event && this.event.inputType && this.event.inputType.indexOf('delete') > -1) {\r\n\t\t\t\tthis.values[this.index] += v;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar pos = 0;\r\n\t\t\tvar count = 0;\r\n\t\t\tvar value = (this.values[this.index] + v).toLowerCase();\r\n\t\t\tfor (var i = 0; i < a.length; i++) {\r\n\t\t\t\tif (a[i].toLowerCase().indexOf(value) == 0) {\r\n\t\t\t\t\tpos = i;\r\n\t\t\t\t\tcount++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (count > 1) {\r\n\t\t\t\tthis.values[this.index] += v;\r\n\t\t\t} else if (count == 1) {\r\n\t\t\t\t// Jump number of chars\r\n\t\t\t\tvar t = (a[pos].length - this.values[this.index].length) - 1;\r\n\t\t\t\tthis.position += t;\r\n\r\n\t\t\t\tthis.values[this.index] = a[pos];\r\n\t\t\t\tthis.index++;\r\n\t\t\t\treturn pos;\r\n\t\t\t}\r\n\t\t},\r\n\t\t'MMM': function(v) {\r\n\t\t\tvar ret = parser.FIND.call(this, v, months);\r\n\t\t\tif (ret !== undefined) {\r\n\t\t\t\tthis.date[1] = ret + 1;\r\n\t\t\t}\r\n\t\t},\r\n\t\t'MON': function(v) {\r\n\t\t\tparser['MMM'].call(this, v);\r\n\t\t},\r\n\t\t'MMMM': function(v) {\r\n\t\t\tvar ret = parser.FIND.call(this, v, monthsFull);\r\n\t\t\tif (ret !== undefined) {\r\n\t\t\t\tthis.date[1] = ret + 1;\r\n\t\t\t}\r\n\t\t},\r\n\t\t'MONTH': function(v) {\r\n\t\t\tparser['MMMM'].call(this, v);\r\n\t\t},\r\n\t\t'MMMMM': function(v) {\r\n\t\t\tif (isBlank(this.values[this.index])) {\r\n\t\t\t\tthis.values[this.index] = '';\r\n\t\t\t}\r\n\t\t\tvar pos = 0;\r\n\t\t\tvar count = 0;\r\n\t\t\tvar value = (this.values[this.index] + v).toLowerCase();\r\n\t\t\tfor (var i = 0; i < monthsFull.length; i++) {\r\n\t\t\t\tif (monthsFull[i][0].toLowerCase().indexOf(value) == 0) {\r\n\t\t\t\t\tthis.values[this.index] = monthsFull[i][0];\r\n\t\t\t\t\tthis.date[1] = i + 1;\r\n\t\t\t\t\tthis.index++;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t'MM': function(v) {\r\n\t\t\tif (isBlank(this.values[this.index])) {\r\n\t\t\t\tif (parseInt(v) > 1 && parseInt(v) < 10) {\r\n\t\t\t\t\tthis.date[1] = this.values[this.index] = '0' + v;\r\n\t\t\t\t\tthis.index++;\r\n\t\t\t\t} else if (parseInt(v) < 2) {\r\n\t\t\t\t\tthis.values[this.index] = v;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (this.values[this.index] == 1 && parseInt(v) < 3) {\r\n\t\t\t\t\tthis.date[1] = this.values[this.index] += v;\r\n\t\t\t\t\tthis.index++;\r\n\t\t\t\t} else if (this.values[this.index] == 0 && parseInt(v) > 0 && parseInt(v) < 10) {\r\n\t\t\t\t\tthis.date[1] = this.values[this.index] += v;\r\n\t\t\t\t\tthis.index++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t'M': function(v) {\r\n\t\t\tvar test = false;\r\n\t\t\tif (parseInt(v) >= 0 && parseInt(v) < 10) {\r\n\t\t\t\tif (isBlank(this.values[this.index])) {\r\n\t\t\t\t\tthis.values[this.index] = v;\r\n\t\t\t\t\tif (v > 1) {\r\n\t\t\t\t\t\tthis.date[1] = this.values[this.index];\r\n\t\t\t\t\t\tthis.index++;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (this.values[this.index] == 1 && parseInt(v) < 3) {\r\n\t\t\t\t\t\tthis.date[1] = this.values[this.index] += v;\r\n\t\t\t\t\t\tthis.index++;\r\n\t\t\t\t\t} else if (this.values[this.index] == 0 && parseInt(v) > 0) {\r\n\t\t\t\t\t\tthis.date[1] = this.values[this.index] += v;\r\n\t\t\t\t\t\tthis.index++;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar test = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tvar test = true;\r\n\t\t\t}\r\n\r\n\t\t\t// Re-test\r\n\t\t\tif (test == true) {\r\n\t\t\t\tvar t = parseInt(this.values[this.index]);\r\n\t\t\t\tif (t > 0 && t < 12) {\r\n\t\t\t\t\tthis.date[1] = this.values[this.index];\r\n\t\t\t\t\tthis.index++;\r\n\t\t\t\t\t// Repeat the character\r\n\t\t\t\t\tthis.position--;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t'D': function(v) {\r\n\t\t\tvar test = false;\r\n\t\t\tif (parseInt(v) >= 0 && parseInt(v) < 10) {\r\n\t\t\t\tif (isBlank(this.values[this.index])) {\r\n\t\t\t\t\tthis.values[this.index] = v;\r\n\t\t\t\t\tif (parseInt(v) > 3) {\r\n\t\t\t\t\t\tthis.date[2] = this.values[this.index];\r\n\t\t\t\t\t\tthis.index++;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (this.values[this.index] == 3 && parseInt(v) < 2) {\r\n\t\t\t\t\t\tthis.date[2] = this.values[this.index] += v;\r\n\t\t\t\t\t\tthis.index++;\r\n\t\t\t\t\t} else if (this.values[this.index] == 1 || this.values[this.index] == 2) {\r\n\t\t\t\t\t\tthis.date[2] = this.values[this.index] += v;\r\n\t\t\t\t\t\tthis.index++;\r\n\t\t\t\t\t} else if (this.values[this.index] == 0 && parseInt(v) > 0) {\r\n\t\t\t\t\t\tthis.date[2] = this.values[this.index] += v;\r\n\t\t\t\t\t\tthis.index++;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar test = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tvar test = true;\r\n\t\t\t}\r\n\r\n\t\t\t// Re-test\r\n\t\t\tif (test == true) {\r\n\t\t\t\tvar t = parseInt(this.values[this.index]);\r\n\t\t\t\tif (t > 0 && t < 32) {\r\n\t\t\t\t\tthis.date[2] = this.values[this.index];\r\n\t\t\t\t\tthis.index++;\r\n\t\t\t\t\t// Repeat the character\r\n\t\t\t\t\tthis.position--;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t'DD': function(v) {\r\n\t\t\tif (isBlank(this.values[this.index])) {\r\n\t\t\t\tif (parseInt(v) > 3 && parseInt(v) < 10) {\r\n\t\t\t\t\tthis.date[2] = this.values[this.index] = '0' + v;\r\n\t\t\t\t\tthis.index++;\r\n\t\t\t\t} else if (parseInt(v) < 10) {\r\n\t\t\t\t\tthis.values[this.index] = v;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (this.values[this.index] == 3 && parseInt(v) < 2) {\r\n\t\t\t\t\tthis.date[2] = this.values[this.index] += v;\r\n\t\t\t\t\tthis.index++;\r\n\t\t\t\t} else if ((this.values[this.index] == 1 || this.values[this.index] == 2) && parseInt(v) < 10) {\r\n\t\t\t\t\tthis.date[2] = this.values[this.index] += v;\r\n\t\t\t\t\tthis.index++;\r\n\t\t\t\t} else if (this.values[this.index] == 0 && parseInt(v) > 0 && parseInt(v) < 10) {\r\n\t\t\t\t\tthis.date[2] = this.values[this.index] += v;\r\n\t\t\t\t\tthis.index++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t'DDD': function(v) {\r\n\t\t\tparser.FIND.call(this, v, weekDays);\r\n\t\t},\r\n\t\t'DY': function(v) {\r\n\t\t\tparser['DDD'].call(this, v);\r\n\t\t},\r\n\t\t'DDDD': function(v) {\r\n\t\t\tparser.FIND.call(this, v, weekDaysFull);\r\n\t\t},\r\n\t\t'DAY': function(v) {\r\n\t\t\tparser['DDDD'].call(this, v);\r\n\t\t},\r\n\t\t'HH12': function(v, two) {\r\n\t\t\tif (isBlank(this.values[this.index])) {\r\n\t\t\t\tif (parseInt(v) > 1 && parseInt(v) < 10) {\r\n\t\t\t\t\tif (two) {\r\n\t\t\t\t\t\tv = 0 + v;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.date[3] = this.values[this.index] = v;\r\n\t\t\t\t\tthis.index++;\r\n\t\t\t\t} else if (parseInt(v) < 10) {\r\n\t\t\t\t\tthis.values[this.index] = v;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (this.values[this.index] == 1 && parseInt(v) < 3) {\r\n\t\t\t\t\tthis.date[3] = this.values[this.index] += v;\r\n\t\t\t\t\tthis.index++;\r\n\t\t\t\t} else if (this.values[this.index] < 1 && parseInt(v) < 10) {\r\n\t\t\t\t\tthis.date[3] = this.values[this.index] += v;\r\n\t\t\t\t\tthis.index++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t'HH24': function(v, two) {\r\n\t\t\tif (parseInt(v) >= 0 && parseInt(v) < 10) {\r\n\t\t\t\tif (this.values[this.index] == null || this.values[this.index] == '') {\r\n\t\t\t\t\tif (parseInt(v) > 2 && parseInt(v) < 10) {\r\n\t\t\t\t\t\tif (two) {\r\n\t\t\t\t\t\t\tv = 0 + v;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.date[3] = this.values[this.index] = v;\r\n\t\t\t\t\t\tthis.index++;\r\n\t\t\t\t\t} else if (parseInt(v) < 10) {\r\n\t\t\t\t\t\tthis.values[this.index] = v;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (this.values[this.index] == 2 && parseInt(v) < 4) {\r\n\t\t\t\t\t\tif (! two && this.values[this.index] === '0') {\r\n\t\t\t\t\t\t\tthis.values[this.index] = '';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.date[3] = this.values[this.index] += v;\r\n\t\t\t\t\t\tthis.index++;\r\n\t\t\t\t\t} else if (this.values[this.index] < 2 && parseInt(v) < 10) {\r\n\t\t\t\t\t\tif (! two && this.values[this.index] === '0') {\r\n\t\t\t\t\t\t\tthis.values[this.index] = '';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.date[3] = this.values[this.index] += v;\r\n\t\t\t\t\t\tthis.index++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t'HH': function(v) {\r\n\t\t\tparser['HH24'].call(this, v, 1);\r\n\t\t},\r\n\t\t'H': function(v) {\r\n\t\t\tparser['HH24'].call(this, v, 0);\r\n\t\t},\r\n\t\t'\\\\[H\\\\]': function(v) {\r\n\t\t\tif (this.values[this.index] == undefined) {\r\n\t\t\t\tthis.values[this.index] = '';\r\n\t\t\t}\r\n\t\t\tif (v.match(/[0-9]/g)) {\r\n\t\t\t\tthis.date[3] = this.values[this.index] += v;\r\n\t\t\t} else {\r\n\t\t\t\tif (this.values[this.index].match(/[0-9]/g)) {\r\n\t\t\t\t\tthis.date[3] = this.values[this.index];\r\n\t\t\t\t\tthis.index++;\r\n\t\t\t\t\t// Repeat the character\r\n\t\t\t\t\tthis.position--;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t'N60': function(v, i) {\r\n\t\t\tif (this.values[this.index] == null || this.values[this.index] == '') {\r\n\t\t\t\tif (parseInt(v) > 5 && parseInt(v) < 10) {\r\n\t\t\t\t\tthis.date[i] = this.values[this.index] = '0' + v;\r\n\t\t\t\t\tthis.index++;\r\n\t\t\t\t} else if (parseInt(v) < 10) {\r\n\t\t\t\t\tthis.values[this.index] = v;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (parseInt(v) < 10) {\r\n\t\t\t\t\tthis.date[i] = this.values[this.index] += v;\r\n\t\t\t\t\tthis.index++;\r\n\t\t\t\t }\r\n\t\t\t}\r\n\t\t},\r\n\t\t'MI': function(v) {\r\n\t\t\tparser.N60.call(this, v, 4);\r\n\t\t},\r\n\t\t'SS': function(v) {\r\n\t\t\tparser.N60.call(this, v, 5);\r\n\t\t},\r\n\t\t'AM/PM': function(v) {\r\n\t\t\tif (typeof(this.values[this.index]) === 'undefined') {\r\n\t\t\t\tthis.values[this.index] = '';\r\n\t\t\t}\r\n\r\n\t\t\tif (this.values[this.index] === '') {\r\n\t\t\t\tif (v.match(/a/i) && this.date[3] < 13) {\r\n\t\t\t\t\tthis.values[this.index] += 'A';\r\n\t\t\t\t} else if (v.match(/p/i)) {\r\n\t\t\t\t\tthis.values[this.index] += 'P';\r\n\t\t\t\t}\r\n\t\t\t} else if (this.values[this.index] === 'A' || this.values[this.index] === 'P') {\r\n\t\t\t\tthis.values[this.index] += 'M';\r\n\t\t\t\tthis.index++;\r\n\t\t\t}\r\n\t\t},\r\n\t\t'WD': function(v) {\r\n\t\t\tif (typeof(this.values[this.index]) === 'undefined') {\r\n\t\t\t\tthis.values[this.index] = '';\r\n\t\t\t}\r\n\t\t\tif (parseInt(v) >= 0 && parseInt(v) < 7) {\r\n\t\t\t\tthis.values[this.index] = v;\r\n\t\t\t}\r\n\t\t\tif (this.values[this.index].length == 1) {\r\n\t\t\t\tthis.index++;\r\n\t\t\t}\r\n\t\t},\r\n\t\t'0{1}(.{1}0+)?': function(v) {\r\n\t\t\t// Get decimal\r\n\t\t\tvar decimal = getDecimal.call(this);\r\n\t\t\t// Negative number\r\n\t\t\tvar neg = false;\r\n\t\t\t// Create if is blank\r\n\t\t\tif (isBlank(this.values[this.index])) {\r\n\t\t\t\tthis.values[this.index] = '';\r\n\t\t\t} else {\r\n\t\t\t\tif (this.values[this.index] == '-') {\r\n\t\t\t\t\tneg = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar current = ParseValue.call(this, this.values[this.index], decimal);\r\n\t\t\tif (current) {\r\n\t\t\t\tthis.values[this.index] = current.join(decimal);\r\n\t\t\t}\r\n\t\t\t// New entry\r\n\t\t\tif (parseInt(v) >= 0 && parseInt(v) < 10) {\r\n\t\t\t\t// Replace the zero for a number\r\n\t\t\t\tif (this.values[this.index] == '0' && v > 0) {\r\n\t\t\t\t\tthis.values[this.index] = '';\r\n\t\t\t\t} else if (this.values[this.index] == '-0' && v > 0) {\r\n\t\t\t\t\tthis.values[this.index] = '-';\r\n\t\t\t\t}\r\n\t\t\t\t// Don't add up zeros because does not mean anything here\r\n\t\t\t\tif ((this.values[this.index] != '0' && this.values[this.index] != '-0') || v == decimal) {\r\n\t\t\t\t\tthis.values[this.index] += v;\r\n\t\t\t\t}\r\n\t\t\t} else if (decimal && v == decimal) {\r\n\t\t\t\tif (this.values[this.index].indexOf(decimal) == -1) {\r\n\t\t\t\t\tif (! this.values[this.index]) {\r\n\t\t\t\t\t\tthis.values[this.index] = '0';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.values[this.index] += v;\r\n\t\t\t\t}\r\n\t\t\t} else if (v == '-') {\r\n\t\t\t\t// Negative signed\r\n\t\t\t\tneg = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (neg === true && this.values[this.index][0] !== '-') {\r\n\t\t\t\tthis.values[this.index] = '-' + this.values[this.index];\r\n\t\t\t}\r\n\t\t},\r\n\t\t'0{1}(.{1}0+)?%': function(v) {\r\n\t\t\tparser['0{1}(.{1}0+)?'].call(this, v);\r\n\r\n\t\t\tif (this.values[this.index].match(/[\\-0-9]/g)) {\r\n\t\t\t\tif (this.values[this.index] && this.values[this.index].indexOf('%') == -1) {\r\n\t\t\t\t\tthis.values[this.index] += '%';\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.values[this.index] = '';\r\n\t\t\t}\r\n\t\t},\r\n\t\t'#(.{1})##0?(.{1}0+)?( ?;(.*)?)?': function(v) {\r\n\t\t\t// Parse number\r\n\t\t\tparser['0{1}(.{1}0+)?'].call(this, v);\r\n\t\t\t// Get decimal\r\n\t\t\tvar decimal = getDecimal.call(this);\r\n\t\t\t// Get separator\r\n\t\t\tvar separator = this.tokens[this.index].substr(1,1);\r\n\t\t\t// Negative\r\n\t\t\tvar negative = this.values[this.index][0] === '-' ? true : false;\r\n\t\t\t// Current value\r\n\t\t\tvar current = ParseValue.call(this, this.values[this.index], decimal);\r\n\r\n\t\t\t// Get main and decimal parts\r\n\t\t\tif (current !== '') {\r\n\t\t\t\t// Format number\r\n\t\t\t\tvar n = current[0].match(/[0-9]/g);\r\n\t\t\t\tif (n) {\r\n\t\t\t\t\t// Format\r\n\t\t\t\t\tn = n.join('');\r\n\t\t\t\t\tvar t = [];\r\n\t\t\t\t\tvar s = 0;\r\n\t\t\t\t\tfor (var j = n.length - 1; j >= 0 ; j--) {\r\n\t\t\t\t\t\tt.push(n[j]);\r\n\t\t\t\t\t\ts++;\r\n\t\t\t\t\t\tif (! (s % 3)) {\r\n\t\t\t\t\t\t\tt.push(separator);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tt = t.reverse();\r\n\t\t\t\t\tcurrent[0] = t.join('');\r\n\t\t\t\t\tif (current[0].substr(0,1) == separator) {\r\n\t\t\t\t\t\tcurrent[0] = current[0].substr(1);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcurrent[0] = '';\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Value\r\n\t\t\t\tthis.values[this.index] = current.join(decimal);\r\n\r\n\t\t\t\t// Negative\r\n\t\t\t\tif (negative) {\r\n\t\t\t\t\tthis.values[this.index] = '-' + this.values[this.index];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t'0': function(v) {\r\n\t\t\tif (v.match(/[0-9]/g)) {\r\n\t\t\t\tthis.values[this.index] = v;\r\n\t\t\t\tthis.index++;\r\n\t\t\t}\r\n\t\t},\r\n\t\t'[0-9a-zA-Z$]+': function(v) {\r\n\t\t\tif (isBlank(this.values[this.index])) {\r\n\t\t\t\tthis.values[this.index] = '';\r\n\t\t\t}\r\n\t\t\tvar t = this.tokens[this.index];\r\n\t\t\tvar s = this.values[this.index];\r\n\t\t\tvar i = s.length;\r\n\r\n\t\t\tif (t[i] == v) {\r\n\t\t\t\tthis.values[this.index] += v;\r\n\r\n\t\t\t\tif (this.values[this.index] == t) {\r\n\t\t\t\t\tthis.index++;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.values[this.index] = t;\r\n\t\t\t\tthis.index++;\r\n\r\n\t\t\t\tif (v.match(/[\\-0-9]/g)) {\r\n\t\t\t\t\t// Repeat the character\r\n\t\t\t\t\tthis.position--;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t'A': function(v) {\r\n\t\t\tif (v.match(/[a-zA-Z]/gi)) {\r\n\t\t\t\tthis.values[this.index] = v;\r\n\t\t\t\tthis.index++;\r\n\t\t\t}\r\n\t\t},\r\n\t\t'.': function(v) {\r\n\t\t\tparser['[0-9a-zA-Z$]+'].call(this, v);\r\n\t\t},\r\n\t\t'@': function(v) {\r\n\t\t\tif (isBlank(this.values[this.index])) {\r\n\t\t\t\tthis.values[this.index] = '';\r\n\t\t\t}\r\n\t\t\tthis.values[this.index] += v;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Get the tokens in the mask string\r\n\t */\r\n\tvar getTokens = function(str) {\r\n\t\tif (this.type == 'general') {\r\n\t\t\tvar t = [].concat(tokens.general);\r\n\t\t} else {\r\n\t\t\tvar t = [].concat(tokens.currency, tokens.datetime, tokens.percentage, tokens.numeric, tokens.text, tokens.general);\r\n\t\t}\r\n\t\t// Expression to extract all tokens from the string\r\n\t\tvar e = new RegExp(t.join('|'), 'gi');\r\n\t\t// Extract\r\n\t\treturn str.match(e);\r\n\t}\r\n\r\n\t/**\r\n\t * Get the method of one given token\r\n\t */\r\n\tvar getMethod = function(str) {\r\n\t\tif (! this.type) {\r\n\t\t\tvar types = Object.keys(tokens);\r\n\t\t} else if (this.type == 'text') {\r\n\t\t\tvar types = [ 'text' ];\r\n\t\t} else if (this.type == 'general') {\r\n\t\t\tvar types = [ 'general' ];\r\n\t\t} else if (this.type == 'datetime') {\r\n\t\t\tvar types = [ 'numeric', 'datetime', 'general' ];\r\n\t\t} else {\r\n\t\t\tvar types = [ 'currency', 'percentage', 'numeric', 'general' ];\r\n\t\t}\r\n\r\n\t\t// Found\r\n\t\tfor (var i = 0; i < types.length; i++) {\r\n\t\t\tvar type = types[i];\r\n\t\t\tfor (var j = 0; j < tokens[type].length; j++) {\r\n\t\t\t\tvar e = new RegExp(tokens[type][j], 'gi');\r\n\t\t\t\tvar r = str.match(e);\r\n\t\t\t\tif (r) {\r\n\t\t\t\t\treturn { type: type, method: tokens[type][j] }\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Identify each method for each token\r\n\t */\r\n\tvar getMethods = function(t) {\r\n\t\tvar result = [];\r\n\t\tfor (var i = 0; i < t.length; i++) {\r\n\t\t\tvar m = getMethod.call(this, t[i]);\r\n\t\t\tif (m) {\r\n\t\t\t\tresult.push(m.method);\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(null);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Compatibility with excel\r\n\t\tfor (var i = 0; i < result.length; i++) {\r\n\t\t\tif (result[i] == 'MM') {\r\n\t\t\t\t// Not a month, correct to minutes\r\n\t\t\t\tif (result[i-1] && result[i-1].indexOf('H') >= 0) {\r\n\t\t\t\t\tresult[i] = 'MI';\r\n\t\t\t\t} else if (result[i-2] && result[i-2].indexOf('H') >= 0) {\r\n\t\t\t\t\tresult[i] = 'MI';\r\n\t\t\t\t} else if (result[i+1] && result[i+1].indexOf('S') >= 0) {\r\n\t\t\t\t\tresult[i] = 'MI';\r\n\t\t\t\t} else if (result[i+2] && result[i+2].indexOf('S') >= 0) {\r\n\t\t\t\t\tresult[i] = 'MI';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\t/**\r\n\t * Get the type for one given token\r\n\t */\r\n\tvar getType = function(str) {\r\n\t\tvar m = getMethod.call(this, str);\r\n\t\tif (m) {\r\n\t\t\tvar type = m.type;\r\n\t\t}\r\n\r\n\t\tif (type) {\r\n\t\t\tvar numeric = 0;\r\n\t\t\t// Make sure the correct type\r\n\t\t\tvar t = getTokens.call(this, str);\r\n\t\t\tfor (var i = 0; i < t.length; i++) {\r\n\t\t\t\tm = getMethod.call(this, t[i]);\r\n\t\t\t\tif (m && isNumeric(m.type)) {\r\n\t\t\t\t\tnumeric++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (numeric > 1) {\r\n\t\t\t\ttype = 'general';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn type;\r\n\t}\r\n\r\n\t/**\r\n\t * Parse character per character using the detected tokens in the mask\r\n\t */\r\n\tvar parse = function() {\r\n\t\t// Parser method for this position\r\n\t\tif (typeof(parser[this.methods[this.index]]) == 'function') {\r\n\t\t\tparser[this.methods[this.index]].call(this, this.value[this.position]);\r\n\t\t\tthis.position++;\r\n\t\t} else {\r\n\t\t\tthis.values[this.index] = this.tokens[this.index];\r\n\t\t\tthis.index++;\r\n\t\t}\r\n\t}\r\n\r\n\tvar toPlainString = function(num) {\r\n\t\treturn (''+ +num).replace(/(-?)(\\d*)\\.?(\\d*)e([+-]\\d+)/,\r\n\t\t  function(a,b,c,d,e) {\r\n\t\t\treturn e < 0\r\n\t\t\t  ? b + '0.' + Array(1-e-c.length).join(0) + c + d\r\n\t\t\t  : b + c + d + Array(e-d.length+1).join(0);\r\n\t\t  });\r\n\t}\r\n\r\n\t/**\r\n\t * Mask function\r\n\t * @param {mixed|string} JS input or a string to be parsed\r\n\t * @param {object|string} When the first param is a string, the second is the mask or object with the mask options\r\n\t */\r\n\tvar obj = function(e, config, returnObject) {\r\n\t\t// Options\r\n\t\tvar r = null;\r\n\t\tvar t = null;\r\n\t\tvar o = {\r\n\t\t\t// Element\r\n\t\t\tinput: null,\r\n\t\t\t// Current value\r\n\t\t\tvalue: null,\r\n\t\t\t// Mask options\r\n\t\t\toptions: {},\r\n\t\t\t// New values for each token found\r\n\t\t\tvalues: [],\r\n\t\t\t// Token position\r\n\t\t\tindex: 0,\r\n\t\t\t// Character position\r\n\t\t\tposition: 0,\r\n\t\t\t// Date raw values\r\n\t\t\tdate: [0,0,0,0,0,0],\r\n\t\t\t// Raw number for the numeric values\r\n\t\t\tnumber: 0,\r\n\t\t}\r\n\r\n\t\t// This is a JavaScript Event\r\n\t\tif (typeof(e) == 'object') {\r\n\t\t\t// Element\r\n\t\t\to.input = e.target;\r\n\t\t\t// Current value\r\n\t\t\to.value = Value.call(e.target);\r\n\t\t\t// Current caret position\r\n\t\t\to.caret = Caret.call(e.target);\r\n\t\t\t// Mask\r\n\t\t\tif (t = e.target.getAttribute('data-mask')) {\r\n\t\t\t\to.mask = t;\r\n\t\t\t}\r\n\t\t\t// Type\r\n\t\t\tif (t = e.target.getAttribute('data-type')) {\r\n\t\t\t\to.type = t;\r\n\t\t\t}\r\n\t\t\t// Options\r\n\t\t\tif (e.target.mask) {\r\n\t\t\t\tif (e.target.mask.options) {\r\n\t\t\t\t\to.options = e.target.mask.options;\r\n\t\t\t\t}\r\n\t\t\t\tif (e.target.mask.locale) {\r\n\t\t\t\t\to.locale = e.target.mask.locale;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t// Locale\r\n\t\t\t\tif (t = e.target.getAttribute('data-locale')) {\r\n\t\t\t\t\to.locale = t;\r\n\t\t\t\t\tif (o.mask) {\r\n\t\t\t\t\t\to.options.style = o.mask;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// Extra configuration\r\n\t\t\tif (e.target.attributes && e.target.attributes.length) {\r\n\t\t\t\tfor (var i = 0; i < e.target.attributes.length; i++) {\r\n\t\t\t\t\tvar k = e.target.attributes[i].name;\r\n\t\t\t\t\tvar v = e.target.attributes[i].value;\r\n\t\t\t\t\tif (k.substr(0,4) == 'data') {\r\n\t\t\t\t\t\to.options[k.substr(5)] = v;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// Options\r\n\t\t\tif (typeof(config) == 'string') {\r\n\t\t\t\t// Mask\r\n\t\t\t\to.mask = config;\r\n\t\t\t} else {\r\n\t\t\t\t// Mask\r\n\t\t\t\tvar k = Object.keys(config);\r\n\t\t\t\tfor (var i = 0; i < k.length; i++) {\r\n\t\t\t\t\to[k[i]] = config[k[i]];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof(e) === 'number') {\r\n\t\t\t\t// Get decimal\r\n\t\t\t\tgetDecimal.call(o, o.mask);\r\n\t\t\t\t// Replace to the correct decimal\r\n\t\t\t\te = (''+e).replace('.', o.options.decimal);\r\n\t\t\t}\r\n\r\n\t\t\t// Current\r\n\t\t\to.value = e;\r\n\r\n\t\t\tif (o.input) {\r\n\t\t\t\t// Value\r\n\t\t\t\tValue.call(o.input, e);\r\n\t\t\t\t// Focus\r\n\t\t\t\thelpers.focus(o.input);\r\n\t\t\t\t// Caret\r\n\t\t\t\to.caret = Caret.call(o.input);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Mask detected start the process\r\n\t\tif (! isFormula(o.value) && (o.mask || o.locale)) {\r\n\t\t\t// Compatibility fixes\r\n\t\t\tif (o.mask) {\r\n\t\t\t\t// Remove []\r\n\t\t\t\to.mask = o.mask.replace(new RegExp(/\\[h]/),'|h|');\r\n\t\t\t\to.mask = o.mask.replace(new RegExp(/\\[.*?\\]/),'');\r\n\t\t\t\to.mask = o.mask.replace(new RegExp(/\\|h\\|/),'[h]');\r\n\t\t\t\tif (o.mask.indexOf(';') !== -1) {\r\n\t\t\t\t\tvar t = o.mask.split(';');\r\n\t\t\t\t\to.mask = t[0];\r\n\t\t\t\t}\r\n\t\t\t\t// Excel mask TODO: Improve\r\n\t\t\t\tif (o.mask.indexOf('##') !== -1) {\r\n\t\t\t\t\tvar d = o.mask.split(';');\r\n\t\t\t\t\tif (d[0]) {\r\n\t\t\t\t\t\tif (typeof(e) == 'object') {\r\n\t\t\t\t\t\t\td[0] = d[0].replace(new RegExp(/_\\)/g), '');\r\n\t\t\t\t\t\t\td[0] = d[0].replace(new RegExp(/_\\(/g), '');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\td[0] = d[0].replace('*', '\\t');\r\n\t\t\t\t\t\td[0] = d[0].replace(new RegExp(/_-/g), '');\r\n\t\t\t\t\t\td[0] = d[0].replace(new RegExp(/_/g), '');\r\n\t\t\t\t\t\td[0] = d[0].replace(new RegExp(/\"/g), '');\r\n\t\t\t\t\t\td[0] = d[0].replace('##0.###','##0.000');\r\n\t\t\t\t\t\td[0] = d[0].replace('##0.##','##0.00');\r\n\t\t\t\t\t\td[0] = d[0].replace('##0.#','##0.0');\r\n\t\t\t\t\t\td[0] = d[0].replace('##0,###','##0,000');\r\n\t\t\t\t\t\td[0] = d[0].replace('##0,##','##0,00');\r\n\t\t\t\t\t\td[0] = d[0].replace('##0,#','##0,0');\r\n\t\t\t\t\t}\r\n\t\t\t\t\to.mask = d[0];\r\n\t\t\t\t}\r\n\t\t\t\t// Remove back slashes\r\n\t\t\t\tif (o.mask.indexOf('\\\\') !== -1) {\r\n\t\t\t\t\tvar d = o.mask.split(';');\r\n\t\t\t\t\td[0] = d[0].replace(new RegExp(/\\\\/g), '');\r\n\t\t\t\t\to.mask = d[0];\r\n\t\t\t\t}\r\n\t\t\t\t// Get type\r\n\t\t\t\tif (! o.type) {\r\n\t\t\t\t\to.type = getType.call(o, o.mask);\r\n\t\t\t\t}\r\n\t\t\t\t// Get tokens\r\n\t\t\t\to.tokens = getTokens.call(o, o.mask);\r\n\t\t\t}\r\n\r\n\t\t\t// On new input\r\n\t\t\tif (typeof(e) !== 'object'  || ! e.inputType || ! e.inputType.indexOf('insert') || ! e.inputType.indexOf('delete')) {\r\n\t\t\t\t// Start transformation\r\n\t\t\t\tif (o.locale) {\r\n\t\t\t\t\tif (o.input) {\r\n\t\t\t\t\t\tFormat.call(o, o.input, e);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar newValue = FormatValue.call(o, o.value);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Get tokens\r\n\t\t\t\t\to.methods = getMethods.call(o, o.tokens);\r\n\t\t\t\t\to.event = e;\r\n\r\n\t\t\t\t\t// Go through all tokes\r\n\t\t\t\t\twhile (o.position < o.value.length && typeof(o.tokens[o.index]) !== 'undefined') {\r\n\t\t\t\t\t\t// Get the appropriate parser\r\n\t\t\t\t\t\tparse.call(o);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// New value\r\n\t\t\t\t\tvar newValue = o.values.join('');\r\n\r\n\t\t\t\t\t// Add tokens to the end of string only if string is not empty\r\n\t\t\t\t\tif (isNumeric(o.type) && newValue !== '') {\r\n\t\t\t\t\t\t// Complement things in the end of the mask\r\n\t\t\t\t\t\twhile (typeof(o.tokens[o.index]) !== 'undefined') {\r\n\t\t\t\t\t\t\tvar t = getMethod.call(o, o.tokens[o.index]);\r\n\t\t\t\t\t\t\tif (t && t.type == 'general') {\r\n\t\t\t\t\t\t\t\to.values[o.index] = o.tokens[o.index];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\to.index++;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar adjustNumeric = true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar adjustNumeric = false;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// New value\r\n\t\t\t\t\tnewValue = o.values.join('');\r\n\r\n\t\t\t\t\t// Reset value\r\n\t\t\t\t\tif (o.input) {\r\n\t\t\t\t\t\tt = newValue.length - o.value.length;\r\n\t\t\t\t\t\tif (t > 0) {\r\n\t\t\t\t\t\t\tvar caret = o.caret + t;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvar caret = o.caret;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tValue.call(o.input, newValue, caret, adjustNumeric);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Update raw data\r\n\t\t\tif (o.input) {\r\n\t\t\t\tvar label = null;\r\n\t\t\t\tif (isNumeric(o.type)) {\r\n\t\t\t\t\tlet v = Value.call(o.input);\r\n\t\t\t\t\t// Extract the number\r\n\t\t\t\t\to.number = Extract.call(o, v);\r\n\t\t\t\t\t// Keep the raw data as a property of the tag\r\n\t\t\t\t\tif (o.type == 'percentage' && v.indexOf('%') !== -1) {\r\n\t\t\t\t\t\tlabel = obj.adjustPrecision(o.number / 100);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlabel = o.number;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (o.type == 'datetime') {\r\n\t\t\t\t\tlabel = getDate.call(o);\r\n\r\n\t\t\t\t\tif (o.date[0] && o.date[1] && o.date[2]) {\r\n\t\t\t\t\t\to.input.setAttribute('data-completed', true);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (label) {\r\n\t\t\t\t\to.input.setAttribute('data-value', label);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (newValue !== undefined) {\r\n\t\t\t\tif (returnObject) {\r\n\t\t\t\t\treturn o;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn newValue;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tobj.adjustPrecision = function(num) {\r\n\t\tif (typeof num === 'number' && !Number.isInteger(num)) {\r\n\t\t\tconst v = num.toString().split('.');\r\n\r\n\t\t\tif (v[1] && v[1].length > 10) {\r\n\t\t\t\tlet t0 = 0;\r\n\t\t\t\tconst t1 = v[1][v[1].length - 2];\r\n\r\n\t\t\t\tif (t1 == 0 || t1 == 9) {\r\n\t\t\t\t\tfor (let i = v[1].length - 2; i > 0; i--) {\r\n\t\t\t\t\t\tif (t0 >= 0 && v[1][i] == t1) {\r\n\t\t\t\t\t\t\tt0++;\r\n\t\t\t\t\t\t\tif (t0 > 6) {\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tt0 = 0;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (t0) {\r\n\t\t\t\t\t\treturn parseFloat(parseFloat(num).toFixed(v[1].length - 1));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn num;\r\n\t}\r\n\r\n\t// Get the type of the mask\r\n\tobj.getType = getType;\r\n\r\n\t// Extract the tokens from a mask\r\n\tobj.prepare = function(str, o) {\r\n\t\tif (! o) {\r\n\t\t\to = {};\r\n\t\t}\r\n\t\treturn getTokens.call(o, str);\r\n\t}\r\n\r\n\t/**\r\n\t * Apply the mask to a element (legacy)\r\n\t */\r\n\tobj.apply = function(e) {\r\n\t\tvar v = Value.call(e.target);\r\n\t\tif (e.key.length == 1) {\r\n\t\t\tv += e.key;\r\n\t\t}\r\n\t\tValue.call(e.target, obj(v, e.target.getAttribute('data-mask')));\r\n\t}\r\n\r\n\t/**\r\n\t * Legacy support\r\n\t */\r\n\tobj.run = function(value, mask, decimal) {\r\n\t\treturn obj(value, { mask: mask, decimal: decimal });\r\n\t}\r\n\r\n\t/**\r\n\t * Extract number from masked string\r\n\t */\r\n\tobj.extract = function(v, options, returnObject) {\r\n\t\tif (isBlank(v)) {\r\n\t\t\treturn v;\r\n\t\t}\r\n\t\tif (typeof(options) != 'object') {\r\n\t\t\treturn v;\r\n\t\t} else {\r\n\t\t\toptions = Object.assign({}, options);\r\n\r\n\t\t\tif (! options.options) {\r\n\t\t\t\toptions.options = {};\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Compatibility\r\n\t\tif (! options.mask && options.format) {\r\n\t\t\toptions.mask = options.format;\r\n\t\t}\r\n\r\n\t\t// Remove []\r\n\t\tif (options.mask) {\r\n\t\t\tif (options.mask.indexOf(';') !== -1) {\r\n\t\t\t\tvar t = options.mask.split(';');\r\n\t\t\t\toptions.mask = t[0];\r\n\t\t\t}\r\n\t\t\toptions.mask = options.mask.replace(new RegExp(/\\[h]/),'|h|');\r\n\t\t\toptions.mask = options.mask.replace(new RegExp(/\\[.*?\\]/),'');\r\n\t\t\toptions.mask = options.mask.replace(new RegExp(/\\|h\\|/),'[h]');\r\n\t\t}\r\n\r\n\t\t// Get decimal\r\n\t\tgetDecimal.call(options, options.mask);\r\n\r\n\t\tvar type = null;\r\n\t\tvar value = null;\r\n\r\n\t\tif (options.type == 'percent' || options.options.style == 'percent') {\r\n\t\t\ttype = 'percentage';\r\n\t\t} else if (options.mask) {\r\n\t\t\ttype = getType.call(options, options.mask);\r\n\t\t}\r\n\r\n\t\tif (type === 'general') {\r\n\t\t\tvar o = obj(v, options, true);\r\n\r\n\t\t\tvalue = v;\r\n\t\t} else if (type === 'datetime') {\r\n\t\t\tif (v instanceof Date) {\r\n\t\t\t\tv = obj.getDateString(v, options.mask);\r\n\t\t\t}\r\n\r\n\t\t\tvar o = obj(v, options, true);\r\n\r\n\t\t\tif (helpers.isNumeric(v)) {\r\n\t\t\t\tvalue = v;\r\n\t\t\t} else {\r\n\t\t\t\tvalue = extractDate.call(o);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvalue = Extract.call(options, v);\r\n\t\t\t// Percentage\r\n\t\t\tif (type === 'percentage' && v.indexOf('%') !== -1) {\r\n\t\t\t\tvalue /= 100;\r\n\t\t\t}\r\n\t\t\tvar o = options;\r\n\t\t}\r\n\r\n\t\to.value = value;\r\n\r\n\t\tif (! o.type && type) {\r\n\t\t\to.type = type;\r\n\t\t}\r\n\r\n\t\tif (returnObject) {\r\n\t\t\treturn o;\r\n\t\t} else {\r\n\t\t\treturn value;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Render\r\n\t */\r\n\tobj.render = function(value, options, fullMask) {\r\n\t\tif (isBlank(value)) {\r\n\t\t\treturn value;\r\n\t\t}\r\n\r\n\t\tif (typeof(options) != 'object') {\r\n\t\t\treturn value;\r\n\t\t} else {\r\n\t\t\toptions = Object.assign({}, options);\r\n\r\n\t\t\tif (! options.options) {\r\n\t\t\t\toptions.options = {};\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Compatibility\r\n\t\tif (! options.mask && options.format) {\r\n\t\t\toptions.mask = options.format;\r\n\t\t}\r\n\r\n\t\t// Remove []\r\n\t\tif (options.mask) {\r\n\t\t\tif (options.mask.indexOf(';') !== -1) {\r\n\t\t\t\tvar t = options.mask.split(';');\r\n\t\t\t\tif (! fullMask) {\r\n\t\t\t\t\tt[0] = t[0].replace(new RegExp(/_\\)/g), '');\r\n\t\t\t\t\tt[0] = t[0].replace(new RegExp(/_\\(/g), '');\r\n\t\t\t\t}\r\n\t\t\t\toptions.mask = t[0];\r\n\t\t\t}\r\n\t\t\toptions.mask = options.mask.replace(new RegExp(/\\[h]/),'|h|');\r\n\t\t\toptions.mask = options.mask.replace(new RegExp(/\\[.*?\\]/),'');\r\n\t\t\toptions.mask = options.mask.replace(new RegExp(/\\|h\\|/),'[h]');\r\n\t\t}\r\n\r\n\t\tvar type = null;\r\n\t\tif (options.type == 'percent' || options.options.style == 'percent') {\r\n\t\t\ttype = 'percentage';\r\n\t\t} else if (options.mask) {\r\n\t\t\ttype = getType.call(options, options.mask);\r\n\t\t} else if (value instanceof Date) {\r\n\t\t\ttype = 'datetime';\r\n\t\t}\r\n\r\n\t\t// Fill with blanks\r\n\t\tvar fillWithBlanks = false;\r\n\r\n\t\tif (type =='datetime' || options.type == 'calendar') {\r\n\t\t\tvar t = obj.getDateString(value, options.mask);\r\n\t\t\tif (t) {\r\n\t\t\t\tvalue = t;\r\n\t\t\t}\r\n\t\t\tif (options.mask && fullMask) {\r\n\t\t\t\tfillWithBlanks = true;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// Percentage\r\n\t\t\tif (type === 'percentage') {\r\n\t\t\t\tvalue = obj.adjustPrecision(value*100);\r\n\t\t\t}\r\n\t\t\t// Number of decimal places\r\n\t\t\tif (typeof(value) === 'number') {\r\n\t\t\t\tvar t = null;\r\n\t\t\t\tif (options.mask && fullMask && ((''+value).indexOf('e') === -1)) {\r\n\t\t\t\t\tvar d = getDecimal.call(options, options.mask);\r\n\t\t\t\t\tif (options.mask.indexOf(d) !== -1) {\r\n\t\t\t\t\t\td = options.mask.split(d);\r\n\t\t\t\t\t\td = (''+d[1].match(/[0-9]+/g))\r\n\t\t\t\t\t\td = d.length;\r\n\t\t\t\t\t\tt = value.toFixed(d);\r\n\t\t\t\t\t\tlet n = value.toString().split('.');\r\n\t\t\t\t\t\tlet fraction = n[1];\r\n\t\t\t\t\t\tif (fraction && fraction.length > d && fraction[fraction.length-1] === '5') {\r\n\t\t\t\t\t\t\tt = parseFloat(n[0] + '.' + fraction + '1').toFixed(d);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tt = value.toFixed(d);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tt = value.toFixed(0);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (options.locale && fullMask) {\r\n\t\t\t\t\t// Append zeros\r\n\t\t\t\t\tvar d = (''+value).split('.');\r\n\t\t\t\t\tif (options.options) {\r\n\t\t\t\t\t\tif (typeof(d[1]) === 'undefined') {\r\n\t\t\t\t\t\t\td[1] = '';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar len = d[1].length;\r\n\t\t\t\t\t\tif (options.options.minimumFractionDigits > len) {\r\n\t\t\t\t\t\t\tfor (var i = 0; i < options.options.minimumFractionDigits - len; i++) {\r\n\t\t\t\t\t\t\t\td[1] += '0';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (! d[1].length) {\r\n\t\t\t\t\t\tt = d[0]\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tt = d.join('.');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar len = d[1].length;\r\n\t\t\t\t\tif (options.options && options.options.maximumFractionDigits < len) {\r\n\t\t\t\t\t\tt = parseFloat(t).toFixed(options.options.maximumFractionDigits);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tt = toPlainString(value);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (t !== null) {\r\n\t\t\t\t\tvalue = t;\r\n\t\t\t\t\t// Get decimal\r\n\t\t\t\t\tgetDecimal.call(options, options.mask);\r\n\t\t\t\t\t// Replace to the correct decimal\r\n\t\t\t\t\tif (options.options.decimal) {\r\n\t\t\t\t\t\tvalue = value.replace('.', options.options.decimal);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (options.mask && fullMask) {\r\n\t\t\t\t\tfillWithBlanks = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (fillWithBlanks) {\r\n\t\t\tvar s = options.mask.length - value.length;\r\n\t\t\tif (s > 0) {\r\n\t\t\t\tfor (var i = 0; i < s; i++) {\r\n\t\t\t\t\tvalue += ' ';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvalue = obj(value, options);\r\n\r\n\t\t// Numeric mask, number of zeros\r\n\t\tif (fullMask && type === 'numeric') {\r\n\t\t\tvar maskZeros = options.mask.match(new RegExp(/^[0]+$/gm));\r\n\t\t\tif (maskZeros && maskZeros.length === 1) {\r\n\t\t\t\tvar maskLength = maskZeros[0].length;\r\n\t\t\t\tif (maskLength > 3) {\r\n\t\t\t\t\tvalue = '' + value;\r\n\t\t\t\t\twhile (value.length < maskLength) {\r\n\t\t\t\t\t\tvalue = '0' + value;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn value;\r\n\t}\r\n\r\n\tobj.set = function(e, m) {\r\n\t\tif (m) {\r\n\t\t\te.setAttribute('data-mask', m);\r\n\t\t\t// Reset the value\r\n\t\t\tvar event = new Event('input', {\r\n\t\t\t\tbubbles: true,\r\n\t\t\t\tcancelable: true,\r\n\t\t\t});\r\n\t\t\te.dispatchEvent(event);\r\n\t\t}\r\n\t}\r\n\r\n\t// Helper to extract date from a string\r\n\tobj.extractDateFromString = function (date, format) {\r\n\t\tvar o = obj(date, { mask: format }, true);\r\n\r\n\t\t// Check if in format Excel (Need difference with format date or type detected is numeric)\r\n\t\tif (date > 0 && Number(date) == date && (o.values.join(\"\") !== o.value || o.type == \"numeric\")) {\r\n\t\t\tvar d = new Date(Math.round((date - 25569) * 86400 * 1000));\r\n\t\t\treturn d.getFullYear() + \"-\" + helpers.two(d.getMonth()) + \"-\" + helpers.two(d.getDate()) + ' 00:00:00';\r\n\t\t}\r\n\r\n\t\tvar complete = false;\r\n\r\n\t\tif (o.values.length === o.tokens.length && o.values[o.values.length - 1].length >= o.tokens[o.tokens.length - 1].length) {\r\n\t\t\tcomplete = true;\r\n\t\t}\r\n\r\n\t\tif (o.date[0] && o.date[1] && (o.date[2] || complete)) {\r\n\t\t\tif (!o.date[2]) {\r\n\t\t\t\to.date[2] = 1;\r\n\t\t\t}\r\n\r\n\t\t\treturn o.date[0] + '-' + helpers.two(o.date[1]) + '-' + helpers.two(o.date[2]) + ' ' + helpers.two(o.date[3]) + ':' + helpers.two(o.date[4]) + ':' + helpers.two(o.date[5]);\r\n\t\t}\r\n\r\n\t\treturn '';\r\n\t}\r\n\r\n\t// Helper to convert date into string\r\n\tobj.getDateString = function (value, options) {\r\n\t\tif (!options) {\r\n\t\t\tvar options = {};\r\n\t\t}\r\n\r\n\t\t// Labels\r\n\t\tif (options && typeof (options) == 'object') {\r\n\t\t\tif (options.format) {\r\n\t\t\t\tvar format = options.format;\r\n\t\t\t} else if (options.mask) {\r\n\t\t\t\tvar format = options.mask;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar format = options;\r\n\t\t}\r\n\r\n\t\tif (!format) {\r\n\t\t\tformat = 'YYYY-MM-DD';\r\n\t\t}\r\n\r\n\t\t// Convert to number of hours\r\n\t\tif (format.indexOf('[h]') >= 0) {\r\n\t\t\tvar result = 0;\r\n\t\t\tif (value && helpers.isNumeric(value)) {\r\n\t\t\t\tresult = parseFloat(24 * Number(value));\r\n\t\t\t\tif (format.indexOf('mm') >= 0) {\r\n\t\t\t\t\tvar h = ('' + result).split('.');\r\n\t\t\t\t\tif (h[1]) {\r\n\t\t\t\t\t\tvar d = 60 * parseFloat('0.' + h[1])\r\n\t\t\t\t\t\td = parseFloat(d.toFixed(2));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar d = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tresult = parseInt(h[0]) + ':' + helpers.two(d);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t}\r\n\r\n\t\t// Date instance\r\n\t\tif (value instanceof Date) {\r\n\t\t\tvalue = helpers_date.now(value);\r\n\t\t} else if (value && helpers.isNumeric(value)) {\r\n\t\t\tvalue = helpers_date.numToDate(value);\r\n\t\t}\r\n\r\n\t\t// Tokens\r\n\t\tvar tokens = ['DAY', 'WD', 'DDDD', 'DDD', 'DD', 'D', 'Q', 'HH24', 'HH12', 'HH', 'H', 'AM/PM', 'MI', 'SS', 'MS', 'YYYY', 'YYY', 'YY', 'Y', 'MONTH', 'MON', 'MMMMM', 'MMMM', 'MMM', 'MM', 'M', '.'];\r\n\r\n\t\t// Expression to extract all tokens from the string\r\n\t\tvar e = new RegExp(tokens.join('|'), 'gi');\r\n\t\t// Extract\r\n\t\tvar t = format.match(e);\r\n\r\n\t\t// Compatibility with excel\r\n\t\tfor (var i = 0; i < t.length; i++) {\r\n\t\t\tif (t[i].toUpperCase() == 'MM') {\r\n\t\t\t\t// Not a month, correct to minutes\r\n\t\t\t\tif (t[i - 1] && t[i - 1].toUpperCase().indexOf('H') >= 0) {\r\n\t\t\t\t\tt[i] = 'mi';\r\n\t\t\t\t} else if (t[i - 2] && t[i - 2].toUpperCase().indexOf('H') >= 0) {\r\n\t\t\t\t\tt[i] = 'mi';\r\n\t\t\t\t} else if (t[i + 1] && t[i + 1].toUpperCase().indexOf('S') >= 0) {\r\n\t\t\t\t\tt[i] = 'mi';\r\n\t\t\t\t} else if (t[i + 2] && t[i + 2].toUpperCase().indexOf('S') >= 0) {\r\n\t\t\t\t\tt[i] = 'mi';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Object\r\n\t\tvar o = {\r\n\t\t\ttokens: t\r\n\t\t}\r\n\r\n\t\t// Value\r\n\t\tif (value) {\r\n\t\t\tvar d = '' + value;\r\n\t\t\tvar splitStr = (d.indexOf('T') !== -1) ? 'T' : ' ';\r\n\t\t\td = d.split(splitStr);\r\n\r\n\t\t\tvar h = 0;\r\n\t\t\tvar m = 0;\r\n\t\t\tvar s = 0;\r\n\r\n\t\t\tif (d[1]) {\r\n\t\t\t\th = d[1].split(':');\r\n\t\t\t\tm = h[1] ? h[1] : 0;\r\n\t\t\t\ts = h[2] ? h[2] : 0;\r\n\t\t\t\th = h[0] ? h[0] : 0;\r\n\t\t\t}\r\n\r\n\t\t\td = d[0].split('-');\r\n\r\n\t\t\tif (d[0] && d[1] && d[2] && d[0] > 0 && d[1] > 0 && d[1] < 13 && d[2] > 0 && d[2] < 32) {\r\n\r\n\t\t\t\t// Data\r\n\t\t\t\to.data = [d[0], d[1], d[2], h, m, s];\r\n\r\n\t\t\t\t// Value\r\n\t\t\t\to.value = [];\r\n\r\n\t\t\t\t// Calendar instance\r\n\t\t\t\tvar calendar = new Date(o.data[0], o.data[1] - 1, o.data[2], o.data[3], o.data[4], o.data[5]);\r\n\r\n\t\t\t\t// Get method\r\n\t\t\t\tvar get = function (i) {\r\n\t\t\t\t\t// Token\r\n\t\t\t\t\tvar t = this.tokens[i];\r\n\t\t\t\t\t// Case token\r\n\t\t\t\t\tvar s = t.toUpperCase();\r\n\t\t\t\t\tvar v = null;\r\n\r\n\t\t\t\t\tif (s === 'YYYY') {\r\n\t\t\t\t\t\tv = this.data[0];\r\n\t\t\t\t\t} else if (s === 'YYY') {\r\n\t\t\t\t\t\tv = this.data[0].substring(1, 4);\r\n\t\t\t\t\t} else if (s === 'YY') {\r\n\t\t\t\t\t\tv = this.data[0].substring(2, 4);\r\n\t\t\t\t\t} else if (s === 'Y') {\r\n\t\t\t\t\t\tv = this.data[0].substring(3, 4);\r\n\t\t\t\t\t} else if (t === 'MON') {\r\n\t\t\t\t\t\tv = helpers_date.months[calendar.getMonth()].substr(0, 3).toUpperCase();\r\n\t\t\t\t\t} else if (t === 'mon') {\r\n\t\t\t\t\t\tv = helpers_date.months[calendar.getMonth()].substr(0, 3).toLowerCase();\r\n\t\t\t\t\t} else if (t === 'MONTH') {\r\n\t\t\t\t\t\tv = helpers_date.months[calendar.getMonth()].toUpperCase();\r\n\t\t\t\t\t} else if (t === 'month') {\r\n\t\t\t\t\t\tv = helpers_date.months[calendar.getMonth()].toLowerCase();\r\n\t\t\t\t\t} else if (s === 'MMMMM') {\r\n\t\t\t\t\t\tv = helpers_date.months[calendar.getMonth()].substr(0, 1);\r\n\t\t\t\t\t} else if (s === 'MMMM' || t === 'Month') {\r\n\t\t\t\t\t\tv = helpers_date.months[calendar.getMonth()];\r\n\t\t\t\t\t} else if (s === 'MMM' || t == 'Mon') {\r\n\t\t\t\t\t\tv = helpers_date.months[calendar.getMonth()].substr(0, 3);\r\n\t\t\t\t\t} else if (s === 'MM') {\r\n\t\t\t\t\t\tv = helpers.two(this.data[1]);\r\n\t\t\t\t\t} else if (s === 'M') {\r\n\t\t\t\t\t\tv = calendar.getMonth() + 1;\r\n\t\t\t\t\t} else if (t === 'DAY') {\r\n\t\t\t\t\t\tv = helpers_date.weekdays[calendar.getDay()].toUpperCase();\r\n\t\t\t\t\t} else if (t === 'day') {\r\n\t\t\t\t\t\tv = helpers_date.weekdays[calendar.getDay()].toLowerCase();\r\n\t\t\t\t\t} else if (s === 'DDDD' || t == 'Day') {\r\n\t\t\t\t\t\tv = helpers_date.weekdays[calendar.getDay()];\r\n\t\t\t\t\t} else if (s === 'DDD') {\r\n\t\t\t\t\t\tv = helpers_date.weekdays[calendar.getDay()].substr(0, 3);\r\n\t\t\t\t\t} else if (s === 'DD') {\r\n\t\t\t\t\t\tv = helpers.two(this.data[2]);\r\n\t\t\t\t\t} else if (s === 'D') {\r\n\t\t\t\t\t\tv = parseInt(this.data[2]);\r\n\t\t\t\t\t} else if (s === 'Q') {\r\n\t\t\t\t\t\tv = Math.floor((calendar.getMonth() + 3) / 3);\r\n\t\t\t\t\t} else if (s === 'HH24' || s === 'HH') {\r\n\t\t\t\t\t\tv = this.data[3];\r\n\t\t\t\t\t\tif (v > 12 && this.tokens.indexOf('am/pm') !== -1) {\r\n\t\t\t\t\t\t\tv -= 12;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tv = helpers.two(v);\r\n\t\t\t\t\t} else if (s === 'HH12') {\r\n\t\t\t\t\t\tif (this.data[3] > 12) {\r\n\t\t\t\t\t\t\tv = helpers.two(this.data[3] - 12);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tv = helpers.two(this.data[3]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (s === 'H') {\r\n\t\t\t\t\t\tv = this.data[3];\r\n\t\t\t\t\t\tif (v > 12 && this.tokens.indexOf('am/pm') !== -1) {\r\n\t\t\t\t\t\t\tv -= 12;\r\n\t\t\t\t\t\t\tv = helpers.two(v);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (s === 'MI') {\r\n\t\t\t\t\t\tv = helpers.two(this.data[4]);\r\n\t\t\t\t\t} else if (s === 'SS') {\r\n\t\t\t\t\t\tv = helpers.two(this.data[5]);\r\n\t\t\t\t\t} else if (s === 'MS') {\r\n\t\t\t\t\t\tv = calendar.getMilliseconds();\r\n\t\t\t\t\t} else if (s === 'AM/PM') {\r\n\t\t\t\t\t\tif (this.data[3] >= 12) {\r\n\t\t\t\t\t\t\tv = 'PM';\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tv = 'AM';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (s === 'WD') {\r\n\t\t\t\t\t\tv = helpers_date.weekdays[calendar.getDay()];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (v === null) {\r\n\t\t\t\t\t\tthis.value[i] = this.tokens[i];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.value[i] = v;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor (var i = 0; i < o.tokens.length; i++) {\r\n\t\t\t\t\tget.call(o, i);\r\n\t\t\t\t}\r\n\t\t\t\t// Put pieces together\r\n\t\t\t\tvalue = o.value.join('');\r\n\t\t\t} else {\r\n\t\t\t\tvalue = '';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn value;\r\n\t}\r\n\r\n\treturn obj;\r\n}\r\n\r\n/* harmony default export */ var mask = (Mask());\r\n;// CONCATENATED MODULE: ./src/plugins/calendar.js\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction Calendar() {\r\n\tvar Component = (function (el, options) {\r\n\t\t// Already created, update options\r\n\t\tif (el.calendar) {\r\n\t\t\treturn el.calendar.setOptions(options, true);\r\n\t\t}\r\n\r\n\t\t// New instance\r\n\t\tvar obj = {type: 'calendar'};\r\n\t\tobj.options = {};\r\n\r\n\t\t// Date\r\n\t\tobj.date = null;\r\n\r\n\t\t/**\r\n\t\t * Update options\r\n\t\t */\r\n\t\tobj.setOptions = function (options, reset) {\r\n\t\t\t// Default configuration\r\n\t\t\tvar defaults = {\r\n\t\t\t\t// Render type: [ default | year-month-picker ]\r\n\t\t\t\ttype: 'default',\r\n\t\t\t\t// Restrictions\r\n\t\t\t\tvalidRange: null,\r\n\t\t\t\t// Starting weekday - 0 for sunday, 6 for saturday\r\n\t\t\t\tstartingDay: null,\r\n\t\t\t\t// Date format\r\n\t\t\t\tformat: 'DD/MM/YYYY',\r\n\t\t\t\t// Allow keyboard date entry\r\n\t\t\t\treadonly: true,\r\n\t\t\t\t// Today is default\r\n\t\t\t\ttoday: false,\r\n\t\t\t\t// Show timepicker\r\n\t\t\t\ttime: false,\r\n\t\t\t\t// Show the reset button\r\n\t\t\t\tresetButton: true,\r\n\t\t\t\t// Placeholder\r\n\t\t\t\tplaceholder: '',\r\n\t\t\t\t// Translations can be done here\r\n\t\t\t\tmonths: helpers_date.monthsShort,\r\n\t\t\t\tmonthsFull: helpers_date.months,\r\n\t\t\t\tweekdays: helpers_date.weekdays,\r\n\t\t\t\ttextDone: dictionary.translate('Done'),\r\n\t\t\t\ttextReset: dictionary.translate('Reset'),\r\n\t\t\t\ttextUpdate: dictionary.translate('Update'),\r\n\t\t\t\t// Value\r\n\t\t\t\tvalue: null,\r\n\t\t\t\t// Fullscreen (this is automatic set for screensize < 800)\r\n\t\t\t\tfullscreen: false,\r\n\t\t\t\t// Create the calendar closed as default\r\n\t\t\t\topened: false,\r\n\t\t\t\t// Events\r\n\t\t\t\tonopen: null,\r\n\t\t\t\tonclose: null,\r\n\t\t\t\tonchange: null,\r\n\t\t\t\tonupdate: null,\r\n\t\t\t\t// Internal mode controller\r\n\t\t\t\tmode: null,\r\n\t\t\t\tposition: null,\r\n\t\t\t\t// Data type\r\n\t\t\t\tdataType: null,\r\n\t\t\t\t// Controls\r\n\t\t\t\tcontrols: true,\r\n\t\t\t\t// Auto select\r\n\t\t\t\tautoSelect: true,\r\n\t\t\t}\r\n\r\n\t\t\t// Loop through our object\r\n\t\t\tfor (var property in defaults) {\r\n\t\t\t\tif (options && options.hasOwnProperty(property)) {\r\n\t\t\t\t\tobj.options[property] = options[property];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (typeof (obj.options[property]) == 'undefined' || reset === true) {\r\n\t\t\t\t\t\tobj.options[property] = defaults[property];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Reset button\r\n\t\t\tif (obj.options.resetButton == false) {\r\n\t\t\t\tcalendarReset.style.display = 'none';\r\n\t\t\t} else {\r\n\t\t\t\tcalendarReset.style.display = '';\r\n\t\t\t}\r\n\r\n\t\t\t// Readonly\r\n\t\t\tif (obj.options.readonly) {\r\n\t\t\t\tel.setAttribute('readonly', 'readonly');\r\n\t\t\t} else {\r\n\t\t\t\tel.removeAttribute('readonly');\r\n\t\t\t}\r\n\r\n\t\t\t// Placeholder\r\n\t\t\tif (obj.options.placeholder) {\r\n\t\t\t\tel.setAttribute('placeholder', obj.options.placeholder);\r\n\t\t\t} else {\r\n\t\t\t\tel.removeAttribute('placeholder');\r\n\t\t\t}\r\n\r\n\t\t\tif (helpers.isNumeric(obj.options.value) && obj.options.value > 0) {\r\n\t\t\t\tobj.options.value = Component.numToDate(obj.options.value);\r\n\t\t\t\t// Data type numeric\r\n\t\t\t\tobj.options.dataType = 'numeric';\r\n\t\t\t}\r\n\r\n\t\t\t// Texts\r\n\t\t\tcalendarReset.innerHTML = obj.options.textReset;\r\n\t\t\tcalendarConfirm.innerHTML = obj.options.textDone;\r\n\t\t\tcalendarControlsUpdateButton.innerHTML = obj.options.textUpdate;\r\n\r\n\t\t\t// Define mask\r\n\t\t\tel.setAttribute('data-mask', obj.options.format.toLowerCase());\r\n\r\n\t\t\t// Value\r\n\t\t\tif (!obj.options.value && obj.options.today) {\r\n\t\t\t\tvar value = Component.now();\r\n\t\t\t} else {\r\n\t\t\t\tvar value = obj.options.value;\r\n\t\t\t}\r\n\r\n\t\t\t// Set internal date\r\n\t\t\tif (value) {\r\n\t\t\t\t// Force the update\r\n\t\t\t\tobj.options.value = null;\r\n\t\t\t\t// New value\r\n\t\t\t\tobj.setValue(value);\r\n\t\t\t}\r\n\r\n\t\t\treturn obj;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Open the calendar\r\n\t\t */\r\n\t\tobj.open = function (value) {\r\n\t\t\tif (!calendar.classList.contains('jcalendar-focus')) {\r\n\t\t\t\tif (!calendar.classList.contains('jcalendar-inline')) {\r\n\t\t\t\t\t// Current\r\n\t\t\t\t\tComponent.current = obj;\r\n\t\t\t\t\t// Start tracking\r\n\t\t\t\t\tTracking(obj, true);\r\n\t\t\t\t\t// Create the days\r\n\t\t\t\t\tobj.getDays();\r\n\t\t\t\t\t// Render months\r\n\t\t\t\t\tif (obj.options.type == 'year-month-picker') {\r\n\t\t\t\t\t\tobj.getMonths();\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// Get time\r\n\t\t\t\t\tif (obj.options.time) {\r\n\t\t\t\t\t\tcalendarSelectHour.value = obj.date[3];\r\n\t\t\t\t\t\tcalendarSelectMin.value = obj.date[4];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Show calendar\r\n\t\t\t\t\tcalendar.classList.add('jcalendar-focus');\r\n\r\n\t\t\t\t\t// Get the position of the corner helper\r\n\t\t\t\t\tif (helpers.getWindowWidth() < 800 || obj.options.fullscreen) {\r\n\t\t\t\t\t\tcalendar.classList.add('jcalendar-fullsize');\r\n\t\t\t\t\t\t// Animation\r\n\t\t\t\t\t\tanimation.slideBottom(calendarContent, 1);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcalendar.classList.remove('jcalendar-fullsize');\r\n\r\n\t\t\t\t\t\tvar rect = el.getBoundingClientRect();\r\n\t\t\t\t\t\tvar rectContent = calendarContent.getBoundingClientRect();\r\n\r\n\t\t\t\t\t\tif (obj.options.position) {\r\n\t\t\t\t\t\t\tcalendarContainer.style.position = 'fixed';\r\n\t\t\t\t\t\t\tif (window.innerHeight < rect.bottom + rectContent.height) {\r\n\t\t\t\t\t\t\t\tcalendarContainer.style.top = (rect.top - (rectContent.height + 2)) + 'px';\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tcalendarContainer.style.top = (rect.top + rect.height + 2) + 'px';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tcalendarContainer.style.left = rect.left + 'px';\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (window.innerHeight < rect.bottom + rectContent.height) {\r\n\t\t\t\t\t\t\t\tvar d = -1 * (rect.height + rectContent.height + 2);\r\n\t\t\t\t\t\t\t\tif (d + rect.top < 0) {\r\n\t\t\t\t\t\t\t\t\td = -1 * (rect.top + rect.height);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tcalendarContainer.style.top = d + 'px';\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tcalendarContainer.style.top = 2 + 'px';\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (window.innerWidth < rect.left + rectContent.width) {\r\n\t\t\t\t\t\t\t\tvar d = window.innerWidth - (rect.left + rectContent.width + 20);\r\n\t\t\t\t\t\t\t\tcalendarContainer.style.left = d + 'px';\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tcalendarContainer.style.left = '0px';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Events\r\n\t\t\t\t\tif (typeof (obj.options.onopen) == 'function') {\r\n\t\t\t\t\t\tobj.options.onopen(el);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tobj.close = function (ignoreEvents, update) {\r\n\t\t\tif (obj.options.autoSelect !== true && typeof(update) === 'undefined') {\r\n\t\t\t\tupdate = false;\r\n\t\t\t}\r\n\t\t\tif (calendar.classList.contains('jcalendar-focus')) {\r\n\t\t\t\tif (update !== false) {\r\n\t\t\t\t\tvar element = calendar.querySelector('.jcalendar-selected');\r\n\r\n\t\t\t\t\tif (typeof (update) == 'string') {\r\n\t\t\t\t\t\tvar value = update;\r\n\t\t\t\t\t} else if (!element || element.classList.contains('jcalendar-disabled')) {\r\n\t\t\t\t\t\tvar value = obj.options.value\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar value = obj.getValue();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tobj.setValue(value);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (obj.options.value) {\r\n\t\t\t\t\t\tlet value = obj.options.value;\r\n\t\t\t\t\t\tobj.options.value = '';\r\n\t\t\t\t\t\tobj.setValue(value)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Events\r\n\t\t\t\tif (!ignoreEvents && typeof (obj.options.onclose) == 'function') {\r\n\t\t\t\t\tobj.options.onclose(el);\r\n\t\t\t\t}\r\n\t\t\t\t// Hide\r\n\t\t\t\tcalendar.classList.remove('jcalendar-focus');\r\n\t\t\t\t// Stop tracking\r\n\t\t\t\tTracking(obj, false);\r\n\t\t\t\t// Current\r\n\t\t\t\tComponent.current = null;\r\n\t\t\t}\r\n\r\n\t\t\treturn obj.options.value;\r\n\t\t}\r\n\r\n\t\tobj.prev = function () {\r\n\t\t\t// Check if the visualization is the days picker or years picker\r\n\t\t\tif (obj.options.mode == 'years') {\r\n\t\t\t\tobj.date[0] = obj.date[0] - 12;\r\n\r\n\t\t\t\t// Update picker table of days\r\n\t\t\t\tobj.getYears();\r\n\t\t\t} else if (obj.options.mode == 'months') {\r\n\t\t\t\tobj.date[0] = parseInt(obj.date[0]) - 1;\r\n\t\t\t\t// Update picker table of months\r\n\t\t\t\tobj.getMonths();\r\n\t\t\t} else {\r\n\t\t\t\t// Go to the previous month\r\n\t\t\t\tif (obj.date[1] < 2) {\r\n\t\t\t\t\tobj.date[0] = obj.date[0] - 1;\r\n\t\t\t\t\tobj.date[1] = 12;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tobj.date[1] = obj.date[1] - 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Update picker table of days\r\n\t\t\t\tobj.getDays();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tobj.next = function () {\r\n\t\t\t// Check if the visualization is the days picker or years picker\r\n\t\t\tif (obj.options.mode == 'years') {\r\n\t\t\t\tobj.date[0] = parseInt(obj.date[0]) + 12;\r\n\r\n\t\t\t\t// Update picker table of days\r\n\t\t\t\tobj.getYears();\r\n\t\t\t} else if (obj.options.mode == 'months') {\r\n\t\t\t\tobj.date[0] = parseInt(obj.date[0]) + 1;\r\n\t\t\t\t// Update picker table of months\r\n\t\t\t\tobj.getMonths();\r\n\t\t\t} else {\r\n\t\t\t\t// Go to the previous month\r\n\t\t\t\tif (obj.date[1] > 11) {\r\n\t\t\t\t\tobj.date[0] = parseInt(obj.date[0]) + 1;\r\n\t\t\t\t\tobj.date[1] = 1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tobj.date[1] = parseInt(obj.date[1]) + 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Update picker table of days\r\n\t\t\t\tobj.getDays();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Set today\r\n\t\t */\r\n\t\tobj.setToday = function () {\r\n\t\t\t// Today\r\n\t\t\tvar value = new Date().toISOString().substr(0, 10);\r\n\t\t\t// Change value\r\n\t\t\tobj.setValue(value);\r\n\t\t\t// Value\r\n\t\t\treturn value;\r\n\t\t}\r\n\r\n\t\tobj.setValue = function (val) {\r\n\t\t\tif (!val) {\r\n\t\t\t\tval = '' + val;\r\n\t\t\t}\r\n\t\t\t// Values\r\n\t\t\tvar newValue = val;\r\n\t\t\tvar oldValue = obj.options.value;\r\n\r\n\t\t\tif (oldValue != newValue) {\r\n\t\t\t\t// Set label\r\n\t\t\t\tif (!newValue) {\r\n\t\t\t\t\tobj.date = null;\r\n\t\t\t\t\tvar val = '';\r\n\t\t\t\t\tel.classList.remove('jcalendar_warning');\r\n\t\t\t\t\tel.title = '';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar value = obj.setLabel(newValue, obj.options);\r\n\t\t\t\t\tvar date = newValue.split(' ');\r\n\t\t\t\t\tif (!date[1]) {\r\n\t\t\t\t\t\tdate[1] = '00:00:00';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar time = date[1].split(':')\r\n\t\t\t\t\tvar date = date[0].split('-');\r\n\t\t\t\t\tvar y = parseInt(date[0]);\r\n\t\t\t\t\tvar m = parseInt(date[1]);\r\n\t\t\t\t\tvar d = parseInt(date[2]);\r\n\t\t\t\t\tvar h = parseInt(time[0]);\r\n\t\t\t\t\tvar i = parseInt(time[1]);\r\n\t\t\t\t\tobj.date = [y, m, d, h, i, 0];\r\n\t\t\t\t\tvar val = obj.setLabel(newValue, obj.options);\r\n\r\n\t\t\t\t\t// Current selection day\r\n\t\t\t\t\tvar current = Component.now(new Date(y, m - 1, d), true);\r\n\r\n\t\t\t\t\t// Available ranges\r\n\t\t\t\t\tif (obj.options.validRange) {\r\n\t\t\t\t\t\tif (!obj.options.validRange[0] || current >= obj.options.validRange[0]) {\r\n\t\t\t\t\t\t\tvar test1 = true;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvar test1 = false;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (!obj.options.validRange[1] || current <= obj.options.validRange[1]) {\r\n\t\t\t\t\t\t\tvar test2 = true;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvar test2 = false;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (!(test1 && test2)) {\r\n\t\t\t\t\t\t\tel.classList.add('jcalendar_warning');\r\n\t\t\t\t\t\t\tel.title = dictionary.translate('Date outside the valid range');\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tel.classList.remove('jcalendar_warning');\r\n\t\t\t\t\t\t\tel.title = '';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tel.classList.remove('jcalendar_warning');\r\n\t\t\t\t\t\tel.title = '';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// New value\r\n\t\t\t\tobj.options.value = newValue;\r\n\r\n\t\t\t\tif (typeof (obj.options.onchange) == 'function') {\r\n\t\t\t\t\tobj.options.onchange(el, newValue, oldValue);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Lemonade JS\r\n\t\t\t\tif (el.value != val) {\r\n\t\t\t\t\tel.value = val;\r\n\t\t\t\t\tif (typeof (el.oninput) == 'function') {\r\n\t\t\t\t\t\tel.oninput({\r\n\t\t\t\t\t\t\ttype: 'input',\r\n\t\t\t\t\t\t\ttarget: el,\r\n\t\t\t\t\t\t\tvalue: el.value\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tobj.getDays();\r\n\t\t\t// Render months\r\n\t\t\tif (obj.options.type == 'year-month-picker') {\r\n\t\t\t\tobj.getMonths();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tobj.getValue = function () {\r\n\t\t\tif (obj.date) {\r\n\t\t\t\tif (obj.options.time) {\r\n\t\t\t\t\treturn helpers.two(obj.date[0]) + '-' + helpers.two(obj.date[1]) + '-' + helpers.two(obj.date[2]) + ' ' + helpers.two(obj.date[3]) + ':' + helpers.two(obj.date[4]) + ':' + helpers.two(0);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn helpers.two(obj.date[0]) + '-' + helpers.two(obj.date[1]) + '-' + helpers.two(obj.date[2]) + ' ' + helpers.two(0) + ':' + helpers.two(0) + ':' + helpers.two(0);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\treturn \"\";\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t *  Calendar\r\n\t\t */\r\n\t\tobj.update = function (element, v) {\r\n\t\t\tif (element.classList.contains('jcalendar-disabled')) {\r\n\t\t\t\t// Do nothing\r\n\t\t\t} else {\r\n\t\t\t\tvar elements = calendar.querySelector('.jcalendar-selected');\r\n\t\t\t\tif (elements) {\r\n\t\t\t\t\telements.classList.remove('jcalendar-selected');\r\n\t\t\t\t}\r\n\t\t\t\telement.classList.add('jcalendar-selected');\r\n\r\n\t\t\t\tif (element.classList.contains('jcalendar-set-month')) {\r\n\t\t\t\t\tobj.date[1] = v;\r\n\t\t\t\t\tobj.date[2] = 1; // first day of the month\r\n\t\t\t\t} else {\r\n\t\t\t\t\tobj.date[2] = element.innerText;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!obj.options.time) {\r\n\t\t\t\t\tobj.close(null, true);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tobj.date[3] = calendarSelectHour.value;\r\n\t\t\t\t\tobj.date[4] = calendarSelectMin.value;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Update\r\n\t\t\tupdateActions();\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Set to blank\r\n\t\t */\r\n\t\tobj.reset = function () {\r\n\t\t\t// Close calendar\r\n\t\t\tobj.setValue('');\r\n\t\t\tobj.date = null;\r\n\t\t\tobj.close(false, false);\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Get calendar days\r\n\t\t */\r\n\t\tobj.getDays = function () {\r\n\t\t\t// Mode\r\n\t\t\tobj.options.mode = 'days';\r\n\r\n\t\t\t// Setting current values in case of NULLs\r\n\t\t\tvar date = new Date();\r\n\r\n\t\t\t// Current selection\r\n\t\t\tvar year = obj.date && helpers.isNumeric(obj.date[0]) ? obj.date[0] : parseInt(date.getFullYear());\r\n\t\t\tvar month = obj.date && helpers.isNumeric(obj.date[1]) ? obj.date[1] : parseInt(date.getMonth()) + 1;\r\n\t\t\tvar day = obj.date && helpers.isNumeric(obj.date[2]) ? obj.date[2] : parseInt(date.getDate());\r\n\t\t\tvar hour = obj.date && helpers.isNumeric(obj.date[3]) ? obj.date[3] : parseInt(date.getHours());\r\n\t\t\tvar min = obj.date && helpers.isNumeric(obj.date[4]) ? obj.date[4] : parseInt(date.getMinutes());\r\n\r\n\t\t\t// Selection container\r\n\t\t\tobj.date = [year, month, day, hour, min, 0];\r\n\r\n\t\t\t// Update title\r\n\t\t\tcalendarLabelYear.innerHTML = year;\r\n\t\t\tcalendarLabelMonth.innerHTML = obj.options.months[month - 1];\r\n\r\n\t\t\t// Current month and Year\r\n\t\t\tvar isCurrentMonthAndYear = (date.getMonth() == month - 1) && (date.getFullYear() == year) ? true : false;\r\n\t\t\tvar currentDay = date.getDate();\r\n\r\n\t\t\t// Number of days in the month\r\n\t\t\tvar date = new Date(year, month, 0, 0, 0);\r\n\t\t\tvar numberOfDays = date.getDate();\r\n\r\n\t\t\t// First day\r\n\t\t\tvar date = new Date(year, month - 1, 0, 0, 0);\r\n\t\t\tvar firstDay = date.getDay() + 1;\r\n\r\n\t\t\t// Index value\r\n\t\t\tvar index = obj.options.startingDay || 0;\r\n\r\n\t\t\t// First of day relative to the starting calendar weekday\r\n\t\t\tfirstDay = firstDay - index;\r\n\r\n\t\t\t// Reset table\r\n\t\t\tcalendarBody.innerHTML = '';\r\n\r\n\t\t\t// Weekdays Row\r\n\t\t\tvar row = document.createElement('tr');\r\n\t\t\trow.setAttribute('align', 'center');\r\n\t\t\tcalendarBody.appendChild(row);\r\n\r\n\t\t\t// Create weekdays row\r\n\t\t\tfor (var i = 0; i < 7; i++) {\r\n\t\t\t\tvar cell = document.createElement('td');\r\n\t\t\t\tcell.classList.add('jcalendar-weekday')\r\n\t\t\t\tcell.innerHTML = obj.options.weekdays[index].substr(0, 1);\r\n\t\t\t\trow.appendChild(cell);\r\n\t\t\t\t// Next week day\r\n\t\t\t\tindex++;\r\n\t\t\t\t// Restart index\r\n\t\t\t\tif (index > 6) {\r\n\t\t\t\t\tindex = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Index of days\r\n\t\t\tvar index = 0;\r\n\t\t\tvar d = 0;\r\n\r\n\t\t\t// Calendar table\r\n\t\t\tfor (var j = 0; j < 6; j++) {\r\n\t\t\t\t// Reset cells container\r\n\t\t\t\tvar row = document.createElement('tr');\r\n\t\t\t\trow.setAttribute('align', 'center');\r\n\t\t\t\trow.style.height = '34px';\r\n\r\n\t\t\t\t// Create cells\r\n\t\t\t\tfor (var i = 0; i < 7; i++) {\r\n\t\t\t\t\t// Create cell\r\n\t\t\t\t\tvar cell = document.createElement('td');\r\n\t\t\t\t\tcell.classList.add('jcalendar-set-day');\r\n\r\n\t\t\t\t\tif (index >= firstDay && index < (firstDay + numberOfDays)) {\r\n\t\t\t\t\t\t// Day cell\r\n\t\t\t\t\t\td++;\r\n\t\t\t\t\t\tcell.innerHTML = d;\r\n\r\n\t\t\t\t\t\t// Selected\r\n\t\t\t\t\t\tif (d == day) {\r\n\t\t\t\t\t\t\tcell.classList.add('jcalendar-selected');\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Current selection day is today\r\n\t\t\t\t\t\tif (isCurrentMonthAndYear && currentDay == d) {\r\n\t\t\t\t\t\t\tcell.style.fontWeight = 'bold';\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Current selection day\r\n\t\t\t\t\t\tvar current = Component.now(new Date(year, month - 1, d), true);\r\n\r\n\t\t\t\t\t\t// Available ranges\r\n\t\t\t\t\t\tif (obj.options.validRange) {\r\n\t\t\t\t\t\t\tif (!obj.options.validRange[0] || current >= obj.options.validRange[0]) {\r\n\t\t\t\t\t\t\t\tvar test1 = true;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tvar test1 = false;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (!obj.options.validRange[1] || current <= obj.options.validRange[1]) {\r\n\t\t\t\t\t\t\t\tvar test2 = true;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tvar test2 = false;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (!(test1 && test2)) {\r\n\t\t\t\t\t\t\t\tcell.classList.add('jcalendar-disabled');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// Day cell\r\n\t\t\t\t\trow.appendChild(cell);\r\n\t\t\t\t\t// Index\r\n\t\t\t\t\tindex++;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Add cell to the calendar body\r\n\t\t\t\tcalendarBody.appendChild(row);\r\n\t\t\t}\r\n\r\n\t\t\t// Show time controls\r\n\t\t\tif (obj.options.time) {\r\n\t\t\t\tcalendarControlsTime.style.display = '';\r\n\t\t\t} else {\r\n\t\t\t\tcalendarControlsTime.style.display = 'none';\r\n\t\t\t}\r\n\r\n\t\t\t// Update\r\n\t\t\tupdateActions();\r\n\t\t}\r\n\r\n\t\tobj.getMonths = function () {\r\n\t\t\t// Mode\r\n\t\t\tobj.options.mode = 'months';\r\n\r\n\t\t\t// Loading month labels\r\n\t\t\tvar months = obj.options.months;\r\n\r\n\t\t\t// Value\r\n\t\t\tvar value = obj.options.value;\r\n\r\n\t\t\t// Current date\r\n\t\t\tvar date = new Date();\r\n\t\t\tvar currentYear = parseInt(date.getFullYear());\r\n\t\t\tvar currentMonth = parseInt(date.getMonth()) + 1;\r\n\t\t\tvar selectedYear = obj.date && helpers.isNumeric(obj.date[0]) ? obj.date[0] : currentYear;\r\n\t\t\tvar selectedMonth = obj.date && helpers.isNumeric(obj.date[1]) ? obj.date[1] : currentMonth;\r\n\r\n\t\t\t// Update title\r\n\t\t\tcalendarLabelYear.innerHTML = obj.date[0];\r\n\t\t\tcalendarLabelMonth.innerHTML = months[selectedMonth - 1];\r\n\r\n\t\t\t// Table\r\n\t\t\tvar table = document.createElement('table');\r\n\t\t\ttable.setAttribute('width', '100%');\r\n\r\n\t\t\t// Row\r\n\t\t\tvar row = null;\r\n\r\n\t\t\t// Calendar table\r\n\t\t\tfor (var i = 0; i < 12; i++) {\r\n\t\t\t\tif (!(i % 4)) {\r\n\t\t\t\t\t// Reset cells container\r\n\t\t\t\t\tvar row = document.createElement('tr');\r\n\t\t\t\t\trow.setAttribute('align', 'center');\r\n\t\t\t\t\ttable.appendChild(row);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Create cell\r\n\t\t\t\tvar cell = document.createElement('td');\r\n\t\t\t\tcell.classList.add('jcalendar-set-month');\r\n\t\t\t\tcell.setAttribute('data-value', i + 1);\r\n\t\t\t\tcell.innerText = months[i];\r\n\r\n\t\t\t\tif (obj.options.validRange) {\r\n\t\t\t\t\tvar current = selectedYear + '-' + helpers.two(i + 1);\r\n\t\t\t\t\tif (!obj.options.validRange[0] || current >= obj.options.validRange[0].substr(0, 7)) {\r\n\t\t\t\t\t\tvar test1 = true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar test1 = false;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!obj.options.validRange[1] || current <= obj.options.validRange[1].substr(0, 7)) {\r\n\t\t\t\t\t\tvar test2 = true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar test2 = false;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!(test1 && test2)) {\r\n\t\t\t\t\t\tcell.classList.add('jcalendar-disabled');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (i + 1 == selectedMonth) {\r\n\t\t\t\t\tcell.classList.add('jcalendar-selected');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (currentYear == selectedYear && i + 1 == currentMonth) {\r\n\t\t\t\t\tcell.style.fontWeight = 'bold';\r\n\t\t\t\t}\r\n\r\n\t\t\t\trow.appendChild(cell);\r\n\t\t\t}\r\n\r\n\t\t\tcalendarBody.innerHTML = '<tr><td colspan=\"7\"></td></tr>';\r\n\t\t\tcalendarBody.children[0].children[0].appendChild(table);\r\n\r\n\t\t\t// Update\r\n\t\t\tupdateActions();\r\n\t\t}\r\n\r\n\t\tobj.getYears = function () {\r\n\t\t\t// Mode\r\n\t\t\tobj.options.mode = 'years';\r\n\r\n\t\t\t// Current date\r\n\t\t\tvar date = new Date();\r\n\t\t\tvar currentYear = date.getFullYear();\r\n\t\t\tvar selectedYear = obj.date && helpers.isNumeric(obj.date[0]) ? obj.date[0] : parseInt(date.getFullYear());\r\n\r\n\t\t\t// Array of years\r\n\t\t\tvar y = [];\r\n\t\t\tfor (var i = 0; i < 25; i++) {\r\n\t\t\t\ty[i] = parseInt(obj.date[0]) + (i - 12);\r\n\t\t\t}\r\n\r\n\t\t\t// Assembling the year tables\r\n\t\t\tvar table = document.createElement('table');\r\n\t\t\ttable.setAttribute('width', '100%');\r\n\r\n\t\t\tfor (var i = 0; i < 25; i++) {\r\n\t\t\t\tif (!(i % 5)) {\r\n\t\t\t\t\t// Reset cells container\r\n\t\t\t\t\tvar row = document.createElement('tr');\r\n\t\t\t\t\trow.setAttribute('align', 'center');\r\n\t\t\t\t\ttable.appendChild(row);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Create cell\r\n\t\t\t\tvar cell = document.createElement('td');\r\n\t\t\t\tcell.classList.add('jcalendar-set-year');\r\n\t\t\t\tcell.innerText = y[i];\r\n\r\n\t\t\t\tif (selectedYear == y[i]) {\r\n\t\t\t\t\tcell.classList.add('jcalendar-selected');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (currentYear == y[i]) {\r\n\t\t\t\t\tcell.style.fontWeight = 'bold';\r\n\t\t\t\t}\r\n\r\n\t\t\t\trow.appendChild(cell);\r\n\t\t\t}\r\n\r\n\t\t\tcalendarBody.innerHTML = '<tr><td colspan=\"7\"></td></tr>';\r\n\t\t\tcalendarBody.firstChild.firstChild.appendChild(table);\r\n\r\n\t\t\t// Update\r\n\t\t\tupdateActions();\r\n\t\t}\r\n\r\n\t\tobj.setLabel = function (value, mixed) {\r\n\t\t\treturn Component.getDateString(value, mixed);\r\n\t\t}\r\n\r\n\t\tobj.fromFormatted = function (value, format) {\r\n\t\t\treturn Component.extractDateFromString(value, format);\r\n\t\t}\r\n\r\n\t\tvar mouseUpControls = function (e) {\r\n\t\t\tvar element = helpers.findElement(e.target, 'jcalendar-container');\r\n\t\t\tif (element) {\r\n\t\t\t\tvar action = e.target.className;\r\n\r\n\t\t\t\t// Object id\r\n\t\t\t\tif (action == 'jcalendar-prev') {\r\n\t\t\t\t\tobj.prev();\r\n\t\t\t\t} else if (action == 'jcalendar-next') {\r\n\t\t\t\t\tobj.next();\r\n\t\t\t\t} else if (action == 'jcalendar-month') {\r\n\t\t\t\t\tobj.getMonths();\r\n\t\t\t\t} else if (action == 'jcalendar-year') {\r\n\t\t\t\t\tobj.getYears();\r\n\t\t\t\t} else if (action == 'jcalendar-set-year') {\r\n\t\t\t\t\tobj.date[0] = e.target.innerText;\r\n\t\t\t\t\tif (obj.options.type == 'year-month-picker') {\r\n\t\t\t\t\t\tobj.getMonths();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tobj.getDays();\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (e.target.classList.contains('jcalendar-set-month')) {\r\n\t\t\t\t\tvar month = parseInt(e.target.getAttribute('data-value'));\r\n\t\t\t\t\tif (obj.options.type == 'year-month-picker') {\r\n\t\t\t\t\t\tobj.update(e.target, month);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tobj.date[1] = month;\r\n\t\t\t\t\t\tobj.getDays();\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (action == 'jcalendar-confirm' || action == 'jcalendar-update' || action == 'jcalendar-close') {\r\n\t\t\t\t\tobj.close(null, true);\r\n\t\t\t\t} else if (action == 'jcalendar-backdrop') {\r\n\t\t\t\t\tobj.close(false, false);\r\n\t\t\t\t} else if (action == 'jcalendar-reset') {\r\n\t\t\t\t\tobj.reset();\r\n\t\t\t\t} else if (e.target.classList.contains('jcalendar-set-day') && e.target.innerText) {\r\n\t\t\t\t\tobj.update(e.target);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tobj.close(false, false);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar keyUpControls = function (e) {\r\n\t\t\tif (e.target.value && e.target.value.length > 3) {\r\n\t\t\t\tvar test = Component.extractDateFromString(e.target.value, obj.options.format);\r\n\t\t\t\tif (test) {\r\n\t\t\t\t\tobj.setValue(test);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Update actions button\r\n\t\tvar updateActions = function () {\r\n\t\t\tvar currentDay = calendar.querySelector('.jcalendar-selected');\r\n\r\n\t\t\tif (currentDay && currentDay.classList.contains('jcalendar-disabled')) {\r\n\t\t\t\tcalendarControlsUpdateButton.setAttribute('disabled', 'disabled');\r\n\t\t\t\tcalendarSelectHour.setAttribute('disabled', 'disabled');\r\n\t\t\t\tcalendarSelectMin.setAttribute('disabled', 'disabled');\r\n\t\t\t} else {\r\n\t\t\t\tcalendarControlsUpdateButton.removeAttribute('disabled');\r\n\t\t\t\tcalendarSelectHour.removeAttribute('disabled');\r\n\t\t\t\tcalendarSelectMin.removeAttribute('disabled');\r\n\t\t\t}\r\n\r\n\t\t\t// Event\r\n\t\t\tif (typeof (obj.options.onupdate) == 'function') {\r\n\t\t\t\tobj.options.onupdate(el, obj.getValue());\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar calendar = null;\r\n\t\tvar calendarReset = null;\r\n\t\tvar calendarConfirm = null;\r\n\t\tvar calendarContainer = null;\r\n\t\tvar calendarContent = null;\r\n\t\tvar calendarLabelYear = null;\r\n\t\tvar calendarLabelMonth = null;\r\n\t\tvar calendarTable = null;\r\n\t\tvar calendarBody = null;\r\n\r\n\t\tvar calendarControls = null;\r\n\t\tvar calendarControlsTime = null;\r\n\t\tvar calendarControlsUpdate = null;\r\n\t\tvar calendarControlsUpdateButton = null;\r\n\t\tvar calendarSelectHour = null;\r\n\t\tvar calendarSelectMin = null;\r\n\r\n\t\tvar init = function () {\r\n\t\t\t// Get value from initial element if that is an input\r\n\t\t\tif (el.tagName == 'INPUT' && el.value) {\r\n\t\t\t\toptions.value = el.value;\r\n\t\t\t}\r\n\r\n\t\t\t// Calendar DOM elements\r\n\t\t\tcalendarReset = document.createElement('div');\r\n\t\t\tcalendarReset.className = 'jcalendar-reset';\r\n\r\n\t\t\tcalendarConfirm = document.createElement('div');\r\n\t\t\tcalendarConfirm.className = 'jcalendar-confirm';\r\n\r\n\t\t\tcalendarControls = document.createElement('div');\r\n\t\t\tcalendarControls.className = 'jcalendar-controls'\r\n\t\t\tcalendarControls.style.borderBottom = '1px solid #ddd';\r\n\t\t\tcalendarControls.appendChild(calendarReset);\r\n\t\t\tcalendarControls.appendChild(calendarConfirm);\r\n\r\n\t\t\tcalendarContainer = document.createElement('div');\r\n\t\t\tcalendarContainer.className = 'jcalendar-container';\r\n\t\t\tcalendarContent = document.createElement('div');\r\n\t\t\tcalendarContent.className = 'jcalendar-content';\r\n\t\t\tcalendarContainer.appendChild(calendarContent);\r\n\r\n\t\t\t// Main element\r\n\t\t\tif (el.tagName == 'DIV') {\r\n\t\t\t\tcalendar = el;\r\n\t\t\t\tcalendar.classList.add('jcalendar-inline');\r\n\t\t\t} else {\r\n\t\t\t\t// Add controls to the screen\r\n\t\t\t\tcalendarContent.appendChild(calendarControls);\r\n\r\n\t\t\t\tcalendar = document.createElement('div');\r\n\t\t\t\tcalendar.className = 'jcalendar';\r\n\t\t\t}\r\n\t\t\tcalendar.classList.add('jcalendar-container');\r\n\t\t\tcalendar.appendChild(calendarContainer);\r\n\r\n\t\t\t// Table container\r\n\t\t\tvar calendarTableContainer = document.createElement('div');\r\n\t\t\tcalendarTableContainer.className = 'jcalendar-table';\r\n\t\t\tcalendarContent.appendChild(calendarTableContainer);\r\n\r\n\t\t\t// Previous button\r\n\t\t\tvar calendarHeaderPrev = document.createElement('td');\r\n\t\t\tcalendarHeaderPrev.setAttribute('colspan', '2');\r\n\t\t\tcalendarHeaderPrev.className = 'jcalendar-prev';\r\n\r\n\t\t\t// Header with year and month\r\n\t\t\tcalendarLabelYear = document.createElement('span');\r\n\t\t\tcalendarLabelYear.className = 'jcalendar-year';\r\n\t\t\tcalendarLabelMonth = document.createElement('span');\r\n\t\t\tcalendarLabelMonth.className = 'jcalendar-month';\r\n\r\n\t\t\tvar calendarHeaderTitle = document.createElement('td');\r\n\t\t\tcalendarHeaderTitle.className = 'jcalendar-header';\r\n\t\t\tcalendarHeaderTitle.setAttribute('colspan', '3');\r\n\t\t\tcalendarHeaderTitle.appendChild(calendarLabelMonth);\r\n\t\t\tcalendarHeaderTitle.appendChild(calendarLabelYear);\r\n\r\n\t\t\tvar calendarHeaderNext = document.createElement('td');\r\n\t\t\tcalendarHeaderNext.setAttribute('colspan', '2');\r\n\t\t\tcalendarHeaderNext.className = 'jcalendar-next';\r\n\r\n\t\t\tvar calendarHeader = document.createElement('thead');\r\n\t\t\tvar calendarHeaderRow = document.createElement('tr');\r\n\t\t\tcalendarHeaderRow.appendChild(calendarHeaderPrev);\r\n\t\t\tcalendarHeaderRow.appendChild(calendarHeaderTitle);\r\n\t\t\tcalendarHeaderRow.appendChild(calendarHeaderNext);\r\n\t\t\tcalendarHeader.appendChild(calendarHeaderRow);\r\n\r\n\t\t\tcalendarTable = document.createElement('table');\r\n\t\t\tcalendarBody = document.createElement('tbody');\r\n\t\t\tcalendarTable.setAttribute('cellpadding', '0');\r\n\t\t\tcalendarTable.setAttribute('cellspacing', '0');\r\n\t\t\tcalendarTable.appendChild(calendarHeader);\r\n\t\t\tcalendarTable.appendChild(calendarBody);\r\n\t\t\tcalendarTableContainer.appendChild(calendarTable);\r\n\r\n\t\t\tcalendarSelectHour = document.createElement('select');\r\n\t\t\tcalendarSelectHour.className = 'jcalendar-select';\r\n\t\t\tcalendarSelectHour.onchange = function () {\r\n\t\t\t\tobj.date[3] = this.value;\r\n\r\n\t\t\t\t// Event\r\n\t\t\t\tif (typeof (obj.options.onupdate) == 'function') {\r\n\t\t\t\t\tobj.options.onupdate(el, obj.getValue());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i = 0; i < 24; i++) {\r\n\t\t\t\tvar element = document.createElement('option');\r\n\t\t\t\telement.value = i;\r\n\t\t\t\telement.innerHTML = helpers.two(i);\r\n\t\t\t\tcalendarSelectHour.appendChild(element);\r\n\t\t\t}\r\n\r\n\t\t\tcalendarSelectMin = document.createElement('select');\r\n\t\t\tcalendarSelectMin.className = 'jcalendar-select';\r\n\t\t\tcalendarSelectMin.onchange = function () {\r\n\t\t\t\tobj.date[4] = this.value;\r\n\r\n\t\t\t\t// Event\r\n\t\t\t\tif (typeof (obj.options.onupdate) == 'function') {\r\n\t\t\t\t\tobj.options.onupdate(el, obj.getValue());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i = 0; i < 60; i++) {\r\n\t\t\t\tvar element = document.createElement('option');\r\n\t\t\t\telement.value = i;\r\n\t\t\t\telement.innerHTML = helpers.two(i);\r\n\t\t\t\tcalendarSelectMin.appendChild(element);\r\n\t\t\t}\r\n\r\n\t\t\t// Footer controls\r\n\t\t\tvar calendarControlsFooter = document.createElement('div');\r\n\t\t\tcalendarControlsFooter.className = 'jcalendar-controls';\r\n\r\n\t\t\tcalendarControlsTime = document.createElement('div');\r\n\t\t\tcalendarControlsTime.className = 'jcalendar-time';\r\n\t\t\tcalendarControlsTime.style.maxWidth = '140px';\r\n\t\t\tcalendarControlsTime.appendChild(calendarSelectHour);\r\n\t\t\tcalendarControlsTime.appendChild(calendarSelectMin);\r\n\r\n\t\t\tcalendarControlsUpdateButton = document.createElement('button');\r\n\t\t\tcalendarControlsUpdateButton.setAttribute('type', 'button');\r\n\t\t\tcalendarControlsUpdateButton.className = 'jcalendar-update';\r\n\r\n\t\t\tcalendarControlsUpdate = document.createElement('div');\r\n\t\t\tcalendarControlsUpdate.style.flexGrow = '10';\r\n\t\t\tcalendarControlsUpdate.appendChild(calendarControlsUpdateButton);\r\n\t\t\tcalendarControlsFooter.appendChild(calendarControlsTime);\r\n\r\n\t\t\t// Only show the update button for input elements\r\n\t\t\tif (el.tagName == 'INPUT') {\r\n\t\t\t\tcalendarControlsFooter.appendChild(calendarControlsUpdate);\r\n\t\t\t}\r\n\r\n\t\t\tcalendarContent.appendChild(calendarControlsFooter);\r\n\r\n\t\t\tvar calendarBackdrop = document.createElement('div');\r\n\t\t\tcalendarBackdrop.className = 'jcalendar-backdrop';\r\n\t\t\tcalendar.appendChild(calendarBackdrop);\r\n\r\n\t\t\t// Handle events\r\n\t\t\tel.addEventListener(\"keyup\", keyUpControls);\r\n\r\n\t\t\t// Add global events\r\n\t\t\tcalendar.addEventListener(\"swipeleft\", function (e) {\r\n\t\t\t\tanimation.slideLeft(calendarTable, 0, function () {\r\n\t\t\t\t\tobj.next();\r\n\t\t\t\t\tanimation.slideRight(calendarTable, 1);\r\n\t\t\t\t});\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t});\r\n\r\n\t\t\tcalendar.addEventListener(\"swiperight\", function (e) {\r\n\t\t\t\tanimation.slideRight(calendarTable, 0, function () {\r\n\t\t\t\t\tobj.prev();\r\n\t\t\t\t\tanimation.slideLeft(calendarTable, 1);\r\n\t\t\t\t});\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t});\r\n\r\n\t\t\tif ('ontouchend' in document.documentElement === true) {\r\n\t\t\t\tcalendar.addEventListener(\"touchend\", mouseUpControls);\r\n\t\t\t\tel.addEventListener(\"touchend\", obj.open);\r\n\t\t\t} else {\r\n\t\t\t\tcalendar.addEventListener(\"mouseup\", mouseUpControls);\r\n\t\t\t\tel.addEventListener(\"mouseup\", obj.open);\r\n\t\t\t}\r\n\r\n\t\t\t// Global controls\r\n\t\t\tif (!Component.hasEvents) {\r\n\t\t\t\t// Execute only one time\r\n\t\t\t\tComponent.hasEvents = true;\r\n\t\t\t\t// Enter and Esc\r\n\t\t\t\tdocument.addEventListener(\"keydown\", Component.keydown);\r\n\t\t\t}\r\n\r\n\t\t\t// Set configuration\r\n\t\t\tobj.setOptions(options);\r\n\r\n\t\t\t// Append element to the DOM\r\n\t\t\tif (el.tagName == 'INPUT') {\r\n\t\t\t\tel.parentNode.insertBefore(calendar, el.nextSibling);\r\n\t\t\t\t// Add properties\r\n\t\t\t\tel.setAttribute('autocomplete', 'off');\r\n\t\t\t\t// Element\r\n\t\t\t\tel.classList.add('jcalendar-input');\r\n\t\t\t\t// Value\r\n\t\t\t\tel.value = obj.setLabel(obj.getValue(), obj.options);\r\n\t\t\t} else {\r\n\t\t\t\t// Get days\r\n\t\t\t\tobj.getDays();\r\n\t\t\t\t// Hour\r\n\t\t\t\tif (obj.options.time) {\r\n\t\t\t\t\tcalendarSelectHour.value = obj.date[3];\r\n\t\t\t\t\tcalendarSelectMin.value = obj.date[4];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Default opened\r\n\t\t\tif (obj.options.opened == true) {\r\n\t\t\t\tobj.open();\r\n\t\t\t}\r\n\r\n\t\t\t// Controls\r\n\t\t\tif (obj.options.controls == false) {\r\n\t\t\t\tcalendarContainer.classList.add('jcalendar-hide-controls');\r\n\t\t\t}\r\n\r\n\t\t\t// Change method\r\n\t\t\tel.change = obj.setValue;\r\n\r\n\t\t\t// Global generic value handler\r\n\t\t\tel.val = function (val) {\r\n\t\t\t\tif (val === undefined) {\r\n\t\t\t\t\treturn obj.getValue();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tobj.setValue(val);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Keep object available from the node\r\n\t\t\tel.calendar = calendar.calendar = obj;\r\n\t\t}\r\n\r\n\t\tinit();\r\n\r\n\t\treturn obj;\r\n\t});\r\n\r\n\tComponent.keydown = function (e) {\r\n\t\tvar calendar = null;\r\n\t\tif (calendar = Component.current) {\r\n\t\t\tif (e.which == 13) {\r\n\t\t\t\t// ENTER\r\n\t\t\t\tcalendar.close(false, true);\r\n\t\t\t} else if (e.which == 27) {\r\n\t\t\t\t// ESC\r\n\t\t\t\tcalendar.close(false, false);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tComponent.prettify = function (d, texts) {\r\n\t\tif (!texts) {\r\n\t\t\tvar texts = {\r\n\t\t\t\tjustNow: 'Just now',\r\n\t\t\t\txMinutesAgo: '{0}m ago',\r\n\t\t\t\txHoursAgo: '{0}h ago',\r\n\t\t\t\txDaysAgo: '{0}d ago',\r\n\t\t\t\txWeeksAgo: '{0}w ago',\r\n\t\t\t\txMonthsAgo: '{0} mon ago',\r\n\t\t\t\txYearsAgo: '{0}y ago',\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (d.indexOf('GMT') === -1 && d.indexOf('Z') === -1) {\r\n\t\t\td += ' GMT';\r\n\t\t}\r\n\r\n\t\tvar d1 = new Date();\r\n\t\tvar d2 = new Date(d);\r\n\t\tvar total = parseInt((d1 - d2) / 1000 / 60);\r\n\r\n\t\tString.prototype.format = function (o) {\r\n\t\t\treturn this.replace('{0}', o);\r\n\t\t}\r\n\r\n\t\tif (total == 0) {\r\n\t\t\tvar text = texts.justNow;\r\n\t\t} else if (total < 90) {\r\n\t\t\tvar text = texts.xMinutesAgo.format(total);\r\n\t\t} else if (total < 1440) { // One day\r\n\t\t\tvar text = texts.xHoursAgo.format(Math.round(total / 60));\r\n\t\t} else if (total < 20160) { // 14 days\r\n\t\t\tvar text = texts.xDaysAgo.format(Math.round(total / 1440));\r\n\t\t} else if (total < 43200) { // 30 days\r\n\t\t\tvar text = texts.xWeeksAgo.format(Math.round(total / 10080));\r\n\t\t} else if (total < 1036800) { // 24 months\r\n\t\t\tvar text = texts.xMonthsAgo.format(Math.round(total / 43200));\r\n\t\t} else { // 24 months+\r\n\t\t\tvar text = texts.xYearsAgo.format(Math.round(total / 525600));\r\n\t\t}\r\n\r\n\t\treturn text;\r\n\t}\r\n\r\n\tComponent.prettifyAll = function () {\r\n\t\tvar elements = document.querySelectorAll('.prettydate');\r\n\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\tif (elements[i].getAttribute('data-date')) {\r\n\t\t\t\telements[i].innerHTML = Component.prettify(elements[i].getAttribute('data-date'));\r\n\t\t\t} else {\r\n\t\t\t\tif (elements[i].innerHTML) {\r\n\t\t\t\t\telements[i].setAttribute('title', elements[i].innerHTML);\r\n\t\t\t\t\telements[i].setAttribute('data-date', elements[i].innerHTML);\r\n\t\t\t\t\telements[i].innerHTML = Component.prettify(elements[i].innerHTML);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tComponent.now = helpers_date.now;\r\n\tComponent.toArray = helpers_date.toArray;\r\n\tComponent.dateToNum = helpers_date.dateToNum\r\n\tComponent.numToDate = helpers_date.numToDate;\r\n\tComponent.weekdays = helpers_date.weekdays;\r\n\tComponent.months = helpers_date.months;\r\n\tComponent.weekdaysShort = helpers_date.weekdaysShort;\r\n\tComponent.monthsShort = helpers_date.monthsShort;\r\n\r\n\t// Legacy shortcut\r\n\tComponent.extractDateFromString = mask.extractDateFromString;\r\n\tComponent.getDateString = mask.getDateString;\r\n\r\n\treturn Component;\r\n}\r\n\r\n/* harmony default export */ var calendar = (Calendar());\r\n;// CONCATENATED MODULE: ./src/plugins/palette.js\r\n// More palettes https://coolors.co/ or https://gka.github.io/palettes/#/10|s|003790,005647,ffffe0|ffffe0,ff005e,93003a|1|1\r\n\r\nfunction Palette() {\r\n\r\n\tvar palette = {\r\n\t\tmaterial: [\r\n\t\t\t[\"#ffebee\", \"#fce4ec\", \"#f3e5f5\", \"#e8eaf6\", \"#e3f2fd\", \"#e0f7fa\", \"#e0f2f1\", \"#e8f5e9\", \"#f1f8e9\", \"#f9fbe7\", \"#fffde7\", \"#fff8e1\", \"#fff3e0\", \"#fbe9e7\", \"#efebe9\", \"#fafafa\", \"#eceff1\"],\r\n\t\t\t[\"#ffcdd2\", \"#f8bbd0\", \"#e1bee7\", \"#c5cae9\", \"#bbdefb\", \"#b2ebf2\", \"#b2dfdb\", \"#c8e6c9\", \"#dcedc8\", \"#f0f4c3\", \"#fff9c4\", \"#ffecb3\", \"#ffe0b2\", \"#ffccbc\", \"#d7ccc8\", \"#f5f5f5\", \"#cfd8dc\"],\r\n\t\t\t[\"#ef9a9a\", \"#f48fb1\", \"#ce93d8\", \"#9fa8da\", \"#90caf9\", \"#80deea\", \"#80cbc4\", \"#a5d6a7\", \"#c5e1a5\", \"#e6ee9c\", \"#fff59d\", \"#ffe082\", \"#ffcc80\", \"#ffab91\", \"#bcaaa4\", \"#eeeeee\", \"#b0bec5\"],\r\n\t\t\t[\"#e57373\", \"#f06292\", \"#ba68c8\", \"#7986cb\", \"#64b5f6\", \"#4dd0e1\", \"#4db6ac\", \"#81c784\", \"#aed581\", \"#dce775\", \"#fff176\", \"#ffd54f\", \"#ffb74d\", \"#ff8a65\", \"#a1887f\", \"#e0e0e0\", \"#90a4ae\"],\r\n\t\t\t[\"#ef5350\", \"#ec407a\", \"#ab47bc\", \"#5c6bc0\", \"#42a5f5\", \"#26c6da\", \"#26a69a\", \"#66bb6a\", \"#9ccc65\", \"#d4e157\", \"#ffee58\", \"#ffca28\", \"#ffa726\", \"#ff7043\", \"#8d6e63\", \"#bdbdbd\", \"#78909c\"],\r\n\t\t\t[\"#f44336\", \"#e91e63\", \"#9c27b0\", \"#3f51b5\", \"#2196f3\", \"#00bcd4\", \"#009688\", \"#4caf50\", \"#8bc34a\", \"#cddc39\", \"#ffeb3b\", \"#ffc107\", \"#ff9800\", \"#ff5722\", \"#795548\", \"#9e9e9e\", \"#607d8b\"],\r\n\t\t\t[\"#e53935\", \"#d81b60\", \"#8e24aa\", \"#3949ab\", \"#1e88e5\", \"#00acc1\", \"#00897b\", \"#43a047\", \"#7cb342\", \"#c0ca33\", \"#fdd835\", \"#ffb300\", \"#fb8c00\", \"#f4511e\", \"#6d4c41\", \"#757575\", \"#546e7a\"],\r\n\t\t\t[\"#d32f2f\", \"#c2185b\", \"#7b1fa2\", \"#303f9f\", \"#1976d2\", \"#0097a7\", \"#00796b\", \"#388e3c\", \"#689f38\", \"#afb42b\", \"#fbc02d\", \"#ffa000\", \"#f57c00\", \"#e64a19\", \"#5d4037\", \"#616161\", \"#455a64\"],\r\n\t\t\t[\"#c62828\", \"#ad1457\", \"#6a1b9a\", \"#283593\", \"#1565c0\", \"#00838f\", \"#00695c\", \"#2e7d32\", \"#558b2f\", \"#9e9d24\", \"#f9a825\", \"#ff8f00\", \"#ef6c00\", \"#d84315\", \"#4e342e\", \"#424242\", \"#37474f\"],\r\n\t\t\t[\"#b71c1c\", \"#880e4f\", \"#4a148c\", \"#1a237e\", \"#0d47a1\", \"#006064\", \"#004d40\", \"#1b5e20\", \"#33691e\", \"#827717\", \"#f57f17\", \"#ff6f00\", \"#e65100\", \"#bf360c\", \"#3e2723\", \"#212121\", \"#263238\"],\r\n\t\t],\r\n\t\tfire: [\r\n\t\t\t[\"0b1a6d\", \"840f38\", \"b60718\", \"de030b\", \"ff0c0c\", \"fd491c\", \"fc7521\", \"faa331\", \"fbb535\", \"ffc73a\"],\r\n\t\t\t[\"071147\", \"5f0b28\", \"930513\", \"be0309\", \"ef0000\", \"fa3403\", \"fb670b\", \"f9991b\", \"faad1e\", \"ffc123\"],\r\n\t\t\t[\"03071e\", \"370617\", \"6a040f\", \"9d0208\", \"d00000\", \"dc2f02\", \"e85d04\", \"f48c06\", \"faa307\", \"ffba08\"],\r\n\t\t\t[\"020619\", \"320615\", \"61040d\", \"8c0207\", \"bc0000\", \"c82a02\", \"d05203\", \"db7f06\", \"e19405\", \"efab00\"],\r\n\t\t\t[\"020515\", \"2d0513\", \"58040c\", \"7f0206\", \"aa0000\", \"b62602\", \"b94903\", \"c57205\", \"ca8504\", \"d89b00\"],\r\n\t\t],\r\n\t\tbaby: [\r\n\t\t\t[\"eddcd2\", \"fff1e6\", \"fde2e4\", \"fad2e1\", \"c5dedd\", \"dbe7e4\", \"f0efeb\", \"d6e2e9\", \"bcd4e6\", \"99c1de\"],\r\n\t\t\t[\"e1c4b3\", \"ffd5b5\", \"fab6ba\", \"f5a8c4\", \"aacecd\", \"bfd5cf\", \"dbd9d0\", \"baceda\", \"9dc0db\", \"7eb1d5\"],\r\n\t\t\t[\"daa990\", \"ffb787\", \"f88e95\", \"f282a9\", \"8fc4c3\", \"a3c8be\", \"cec9b3\", \"9dbcce\", \"82acd2\", \"649dcb\"],\r\n\t\t\t[\"d69070\", \"ff9c5e\", \"f66770\", \"f05f8f\", \"74bbb9\", \"87bfae\", \"c5b993\", \"83aac3\", \"699bca\", \"4d89c2\"],\r\n\t\t\t[\"c97d5d\", \"f58443\", \"eb4d57\", \"e54a7b\", \"66a9a7\", \"78ae9c\", \"b5a67e\", \"7599b1\", \"5c88b7\", \"4978aa\"],\r\n\t\t],\r\n\t\tchart: [\r\n\t\t\t['#C1D37F', '#4C5454', '#FFD275', '#66586F', '#D05D5B', '#C96480', '#95BF8F', '#6EA240', '#0F0F0E', '#EB8258', '#95A3B3', '#995D81'],\r\n\t\t],\r\n\t}\r\n\r\n\tvar Component = function (o) {\r\n\t\t// Otherwise get palette value\r\n\t\tif (palette[o]) {\r\n\t\t\treturn palette[o];\r\n\t\t} else {\r\n\t\t\treturn palette.material;\r\n\t\t}\r\n\t}\r\n\r\n\tComponent.get = function (o) {\r\n\t\t// Otherwise get palette value\r\n\t\tif (palette[o]) {\r\n\t\t\treturn palette[o];\r\n\t\t} else {\r\n\t\t\treturn palette;\r\n\t\t}\r\n\t}\r\n\r\n\tComponent.set = function (o, v) {\r\n\t\tpalette[o] = v;\r\n\t}\r\n\r\n\treturn Component;\r\n}\r\n\r\n/* harmony default export */ var palette = (Palette());\r\n;// CONCATENATED MODULE: ./src/plugins/tabs.js\r\n\r\n\r\n\r\nfunction Tabs(el, options) {\r\n\tvar obj = {};\r\n\tobj.options = {};\r\n\r\n\t// Default configuration\r\n\tvar defaults = {\r\n\t\tdata: [],\r\n\t\tposition: null,\r\n\t\tallowCreate: false,\r\n\t\tallowChangePosition: false,\r\n\t\tonclick: null,\r\n\t\tonload: null,\r\n\t\tonchange: null,\r\n\t\toncreate: null,\r\n\t\tondelete: null,\r\n\t\tonbeforecreate: null,\r\n\t\tonchangeposition: null,\r\n\t\tanimation: false,\r\n\t\thideHeaders: false,\r\n\t\tpadding: null,\r\n\t\tpalette: null,\r\n\t\tmaxWidth: null,\r\n\t}\r\n\r\n\t// Loop through the initial configuration\r\n\tfor (var property in defaults) {\r\n\t\tif (options && options.hasOwnProperty(property)) {\r\n\t\t\tobj.options[property] = options[property];\r\n\t\t} else {\r\n\t\t\tobj.options[property] = defaults[property];\r\n\t\t}\r\n\t}\r\n\r\n\t// Class\r\n\tel.classList.add('jtabs');\r\n\r\n\tvar prev = null;\r\n\tvar next = null;\r\n\tvar border = null;\r\n\r\n\t// Helpers\r\n\tvar setBorder = function(index) {\r\n\t\tif (obj.options.animation) {\r\n\t\t\tvar rect = obj.headers.children[index].getBoundingClientRect();\r\n\r\n\t\t\tif (obj.options.palette === 'modern') {\r\n\t\t\t\tborder.style.width = rect.width - 4 + 'px';\r\n\t\t\t\tborder.style.left = obj.headers.children[index].offsetLeft + 2 + 'px';\r\n\t\t\t} else {\r\n\t\t\t\tborder.style.width = rect.width + 'px';\r\n\t\t\t\tborder.style.left = obj.headers.children[index].offsetLeft + 'px';\r\n\t\t\t}\r\n\r\n\t\t\tif (obj.options.position === 'bottom') {\r\n\t\t\t\tborder.style.top = '0px';\r\n\t\t\t} else {\r\n\t\t\t\tborder.style.bottom = '0px';\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tvar updateControls = function(x) {\r\n\t\tif (typeof(obj.headers.scrollTo) == 'function') {\r\n\t\t\tobj.headers.scrollTo({\r\n\t\t\t\tleft: x,\r\n\t\t\t\tbehavior: 'smooth',\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tobj.headers.scrollLeft = x;\r\n\t\t}\r\n\r\n\t\tif (x <= 1) {\r\n\t\t\tprev.classList.add('disabled');\r\n\t\t} else {\r\n\t\t\tprev.classList.remove('disabled');\r\n\t\t}\r\n\r\n\t\tif (x >= obj.headers.scrollWidth - obj.headers.offsetWidth) {\r\n\t\t\tnext.classList.add('disabled');\r\n\t\t} else {\r\n\t\t\tnext.classList.remove('disabled');\r\n\t\t}\r\n\r\n\t\tif (obj.headers.scrollWidth <= obj.headers.offsetWidth) {\r\n\t\t\tprev.style.display = 'none';\r\n\t\t\tnext.style.display = 'none';\r\n\t\t} else {\r\n\t\t\tprev.style.display = '';\r\n\t\t\tnext.style.display = '';\r\n\t\t}\r\n\t}\r\n\r\n\tobj.setBorder = setBorder;\r\n\r\n\t// Set value\r\n\tobj.open = function(index) {\r\n\t\tif (! obj.content.children[index]) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar previous = null;\r\n\t\tfor (var i = 0; i < obj.headers.children.length; i++) {\r\n\t\t\tif (obj.headers.children[i].classList.contains('jtabs-selected')) {\r\n\t\t\t\t// Current one\r\n\t\t\t\tprevious = i;\r\n\t\t\t}\r\n\t\t\t// Remote selected\r\n\t\t\tobj.headers.children[i].classList.remove('jtabs-selected');\r\n\t\t\tif (obj.content.children[i]) {\r\n\t\t\t\tobj.content.children[i].classList.remove('jtabs-selected');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tobj.headers.children[index].classList.add('jtabs-selected');\r\n\t\tif (obj.content.children[index]) {\r\n\t\t\tobj.content.children[index].classList.add('jtabs-selected');\r\n\t\t}\r\n\r\n\t\tif (previous != index && typeof(obj.options.onchange) == 'function') {\r\n\t\t\tif (obj.content.children[index]) {\r\n\t\t\t\tobj.options.onchange(el, obj, index, obj.headers.children[index], obj.content.children[index]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Hide\r\n\t\tif (obj.options.hideHeaders == true && (obj.headers.children.length < 3 && obj.options.allowCreate == false)) {\r\n\t\t\tobj.headers.parentNode.style.display = 'none';\r\n\t\t} else {\r\n\t\t\tobj.headers.parentNode.style.display = '';\r\n\r\n\t\t\tvar x1 = obj.headers.children[index].offsetLeft;\r\n\t\t\tvar x2 = x1 + obj.headers.children[index].offsetWidth;\r\n\t\t\tvar r1 = obj.headers.scrollLeft;\r\n\t\t\tvar r2 = r1 + obj.headers.offsetWidth;\r\n\r\n\t\t\tif (! (r1 <= x1 && r2 >= x2)) {\r\n\t\t\t\t// Out of the viewport\r\n\t\t\t\tupdateControls(x1 - 1);\r\n\t\t\t}\r\n\r\n\t\t\t// Set border\r\n\t\t\tsetBorder(index);\r\n\t\t}\r\n\t}\r\n\r\n\tobj.selectIndex = function(a) {\r\n\t\tvar index = Array.prototype.indexOf.call(obj.headers.children, a);\r\n\t\tif (index >= 0) {\r\n\t\t\tobj.open(index);\r\n\t\t}\r\n\r\n\t\treturn index;\r\n\t}\r\n\r\n\tobj.rename = function(i, title) {\r\n\t\tif (! title) {\r\n\t\t\ttitle = prompt('New title', obj.headers.children[i].innerText);\r\n\t\t}\r\n\t\tobj.headers.children[i].innerText = title;\r\n\t\tobj.open(i);\r\n\t}\r\n\r\n\tobj.create = function(title, url) {\r\n\t\tif (typeof(obj.options.onbeforecreate) == 'function') {\r\n\t\t\tvar ret = obj.options.onbeforecreate(el);\r\n\t\t\tif (ret === false) {\r\n\t\t\t\treturn false;\r\n\t\t\t} else {\r\n\t\t\t\ttitle = ret;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar div = obj.appendElement(title);\r\n\r\n\t\tif (typeof(obj.options.oncreate) == 'function') {\r\n\t\t\tobj.options.oncreate(el, div)\r\n\t\t}\r\n\r\n\t\tsetBorder();\r\n\r\n\t\treturn div;\r\n\t}\r\n\r\n\tobj.remove = function(index) {\r\n\t\treturn obj.deleteElement(index);\r\n\t}\r\n\r\n\tobj.nextNumber = function() {\r\n\t\tvar num = 0;\r\n\t\tfor (var i = 0; i < obj.headers.children.length; i++) {\r\n\t\t\tvar tmp = obj.headers.children[i].innerText.match(/[0-9].*/);\r\n\t\t\tif (tmp > num) {\r\n\t\t\t\tnum = parseInt(tmp);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (! num) {\r\n\t\t\tnum = 1;\r\n\t\t} else {\r\n\t\t\tnum++;\r\n\t\t}\r\n\r\n\t\treturn num;\r\n\t}\r\n\r\n\tobj.deleteElement = function(index) {\r\n\t\tif (! obj.headers.children[index]) {\r\n\t\t\treturn false;\r\n\t\t} else {\r\n\t\t\tobj.headers.removeChild(obj.headers.children[index]);\r\n\t\t\tobj.content.removeChild(obj.content.children[index]);\r\n\t\t}\r\n\r\n\t\tobj.open(0);\r\n\r\n\t\tif (typeof(obj.options.ondelete) == 'function') {\r\n\t\t\tobj.options.ondelete(el, index)\r\n\t\t}\r\n\t}\r\n\r\n\tobj.appendElement = function(title, cb, openTab, position) {\r\n\t\tif (! title) {\r\n\t\t\tvar title = prompt('Title?', '');\r\n\t\t}\r\n\r\n\t\tif (title) {\r\n\t\t\t// Add content\r\n\t\t\tvar div = document.createElement('div');\r\n\r\n\t\t\t// Add headers\r\n\t\t\tvar h = document.createElement('div');\r\n\t\t\th.innerHTML = title;\r\n\t\t\th.content = div;\r\n\r\n\t\t\tif (typeof(position) === 'undefined') {\r\n\t\t\t\tobj.content.appendChild(div);\r\n\t\t\t\tobj.headers.insertBefore(h, obj.headers.lastChild);\r\n\t\t\t} else {\r\n\t\t\t\tlet r = obj.content.children[position];\r\n\t\t\t\tif (r) {\r\n\t\t\t\t\tobj.content.insertBefore(div, r);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tobj.content.appendChild(div);\r\n\t\t\t\t}\r\n\t\t\t\tr = obj.headers.children[position] || obj.headers.lastChild;\r\n\t\t\t\tobj.headers.insertBefore(h, r);\r\n\t\t\t}\r\n\r\n\t\t\t// Sortable\r\n\t\t\tif (obj.options.allowChangePosition) {\r\n\t\t\t\th.setAttribute('draggable', 'true');\r\n\t\t\t}\r\n\r\n\t\t\t// Open new tab\r\n\t\t\tif (openTab !== false) {\r\n\t\t\t\t// Open new tab\r\n\t\t\t\tobj.selectIndex(h);\r\n\t\t\t}\r\n\r\n\t\t\t// Callback\r\n\t\t\tif (typeof(cb) == 'function') {\r\n\t\t\t\tcb(div, h);\r\n\t\t\t}\r\n\r\n\t\t\t// Return element\r\n\t\t\treturn div;\r\n\t\t}\r\n\t}\r\n\r\n\tobj.getActive = function() {\r\n\t\tfor (var i = 0; i < obj.headers.children.length; i++) {\r\n\t\t\tif (obj.headers.children[i].classList.contains('jtabs-selected')) {\r\n\t\t\t\treturn i;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tobj.updateContent = function(position, newContent) {\r\n\t\tif (typeof newContent !== 'string') {\r\n\t\t\tvar contentItem = newContent;\r\n\t\t} else {\r\n\t\t\tvar contentItem = document.createElement('div');\r\n\t\t\tcontentItem.innerHTML = newContent;\r\n\t\t}\r\n\r\n\t\tif (obj.content.children[position].classList.contains('jtabs-selected')) {\r\n\t\t\tnewContent.classList.add('jtabs-selected');\r\n\t\t}\r\n\r\n\t\tobj.content.replaceChild(newContent, obj.content.children[position]);\r\n\r\n\t\tsetBorder();\r\n\t}\r\n\r\n\tobj.updatePosition = function(f, t, ignoreEvents, openTab) {\r\n\t\t// Ondrop update position of content\r\n\t\tif (f > t) {\r\n\t\t\tobj.content.insertBefore(obj.content.children[f], obj.content.children[t]);\r\n\t\t} else {\r\n\t\t\tobj.content.insertBefore(obj.content.children[f], obj.content.children[t].nextSibling);\r\n\t\t}\r\n\r\n\t\t// Open destination tab\r\n\t\tif (openTab !== false) {\r\n\t\t\tobj.open(t);\r\n\t\t} else {\r\n\t\t\tconst activeIndex = obj.getActive();\r\n\r\n\t\t\tif (t < activeIndex) {\r\n\t\t\t\tobj.setBorder(activeIndex);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Call event\r\n\t\tif (! ignoreEvents && typeof(obj.options.onchangeposition) == 'function') {\r\n\t\t\tobj.options.onchangeposition(obj.headers, f, t);\r\n\t\t}\r\n\t}\r\n\r\n\tobj.move = function(f, t, ignoreEvents, openTab) {\r\n\t\tif (f > t) {\r\n\t\t\tobj.headers.insertBefore(obj.headers.children[f], obj.headers.children[t]);\r\n\t\t} else {\r\n\t\t\tobj.headers.insertBefore(obj.headers.children[f], obj.headers.children[t].nextSibling);\r\n\t\t}\r\n\r\n\t\tobj.updatePosition(f, t, ignoreEvents, openTab);\r\n\t}\r\n\r\n\tobj.setBorder = setBorder;\r\n\r\n\tobj.init = function() {\r\n\t\tel.innerHTML = '';\r\n\r\n\t\t// Make sure the component is blank\r\n\t\tobj.headers = document.createElement('div');\r\n\t\tobj.content = document.createElement('div');\r\n\t\tobj.headers.classList.add('jtabs-headers');\r\n\t\tobj.content.classList.add('jtabs-content');\r\n\r\n\t\tif (obj.options.palette) {\r\n\t\t\tel.classList.add('jtabs-modern');\r\n\t\t} else {\r\n\t\t\tel.classList.remove('jtabs-modern');\r\n\t\t}\r\n\r\n\t\t// Padding\r\n\t\tif (obj.options.padding) {\r\n\t\t\tobj.content.style.padding = parseInt(obj.options.padding) + 'px';\r\n\t\t}\r\n\r\n\t\t// Header\r\n\t\tvar header = document.createElement('div');\r\n\t\theader.className = 'jtabs-headers-container';\r\n\t\theader.appendChild(obj.headers);\r\n\t\tif (obj.options.maxWidth) {\r\n\t\t\theader.style.maxWidth = parseInt(obj.options.maxWidth) + 'px';\r\n\t\t}\r\n\r\n\t\t// Controls\r\n\t\tvar controls = document.createElement('div');\r\n\t\tcontrols.className = 'jtabs-controls';\r\n\t\tcontrols.setAttribute('draggable', 'false');\r\n\t\theader.appendChild(controls);\r\n\r\n\t\t// Append DOM elements\r\n\t\tif (obj.options.position == 'bottom') {\r\n\t\t\tel.appendChild(obj.content);\r\n\t\t\tel.appendChild(header);\r\n\t\t} else {\r\n\t\t\tel.appendChild(header);\r\n\t\t\tel.appendChild(obj.content);\r\n\t\t}\r\n\r\n\t\t// New button\r\n\t\tif (obj.options.allowCreate == true) {\r\n\t\t\tvar add = document.createElement('div');\r\n\t\t\tadd.className = 'jtabs-add';\r\n\t\t\tadd.onclick = function() {\r\n\t\t\t\tobj.create();\r\n\t\t\t}\r\n\t\t\tcontrols.appendChild(add);\r\n\t\t}\r\n\r\n\t\tprev = document.createElement('div');\r\n\t\tprev.className = 'jtabs-prev';\r\n\t\tprev.onclick = function() {\r\n\t\t\tupdateControls(obj.headers.scrollLeft - obj.headers.offsetWidth);\r\n\t\t}\r\n\t\tcontrols.appendChild(prev);\r\n\r\n\t\tnext = document.createElement('div');\r\n\t\tnext.className = 'jtabs-next';\r\n\t\tnext.onclick = function() {\r\n\t\t\tupdateControls(obj.headers.scrollLeft + obj.headers.offsetWidth);\r\n\t\t}\r\n\t\tcontrols.appendChild(next);\r\n\r\n\t\t// Data\r\n\t\tfor (var i = 0; i < obj.options.data.length; i++) {\r\n\t\t\t// Title\r\n\t\t\tif (obj.options.data[i].titleElement) {\r\n\t\t\t\tvar headerItem = obj.options.data[i].titleElement;\r\n\t\t\t} else {\r\n\t\t\t\tvar headerItem = document.createElement('div');\r\n\t\t\t}\r\n\t\t\t// Icon\r\n\t\t\tif (obj.options.data[i].icon) {\r\n\t\t\t\tvar iconContainer = document.createElement('div');\r\n\t\t\t\tvar icon = document.createElement('i');\r\n\t\t\t\ticon.classList.add('material-icons');\r\n\t\t\t\ticon.innerHTML = obj.options.data[i].icon;\r\n\t\t\t\ticonContainer.appendChild(icon);\r\n\t\t\t\theaderItem.appendChild(iconContainer);\r\n\t\t\t}\r\n\t\t\t// Title\r\n\t\t\tif (obj.options.data[i].title) {\r\n\t\t\t\tvar title = document.createTextNode(obj.options.data[i].title);\r\n\t\t\t\theaderItem.appendChild(title);\r\n\t\t\t}\r\n\t\t\t// Width\r\n\t\t\tif (obj.options.data[i].width) {\r\n\t\t\t\theaderItem.style.width = obj.options.data[i].width;\r\n\t\t\t}\r\n\t\t\t// Content\r\n\t\t\tif (obj.options.data[i].contentElement) {\r\n\t\t\t\tvar contentItem = obj.options.data[i].contentElement;\r\n\t\t\t} else {\r\n\t\t\t\tvar contentItem = document.createElement('div');\r\n\t\t\t\tcontentItem.innerHTML = obj.options.data[i].content;\r\n\t\t\t}\r\n\t\t\tobj.headers.appendChild(headerItem);\r\n\t\t\tobj.content.appendChild(contentItem);\r\n\t\t}\r\n\r\n\t\t// Animation\r\n\t\tborder = document.createElement('div');\r\n\t\tborder.className = 'jtabs-border';\r\n\t\tobj.headers.appendChild(border);\r\n\r\n\t\tif (obj.options.animation) {\r\n\t\t\tel.classList.add('jtabs-animation');\r\n\t\t}\r\n\r\n\t\t// Events\r\n\t\tobj.headers.addEventListener(\"click\", function(e) {\r\n\t\t\tif (e.target.parentNode.classList.contains('jtabs-headers')) {\r\n\t\t\t\tvar target = e.target;\r\n\t\t\t} else {\r\n\t\t\t\tif (e.target.tagName == 'I') {\r\n\t\t\t\t\tvar target = e.target.parentNode.parentNode;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar target = e.target.parentNode;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar index = obj.selectIndex(target);\r\n\r\n\t\t\tif (typeof(obj.options.onclick) == 'function') {\r\n\t\t\t\tobj.options.onclick(el, obj, index, obj.headers.children[index], obj.content.children[index]);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tobj.headers.addEventListener(\"contextmenu\", function(e) {\r\n\t\t\tobj.selectIndex(e.target);\r\n\t\t});\r\n\r\n\t\tif (obj.headers.children.length) {\r\n\t\t\t// Open first tab\r\n\t\t\tobj.open(0);\r\n\t\t}\r\n\r\n\t\t// Update controls\r\n\t\tupdateControls(0);\r\n\r\n\t\tif (obj.options.allowChangePosition == true) {\r\n\t\t\tSorting(obj.headers, {\r\n\t\t\t\tdirection: 1,\r\n\t\t\t\tondrop: function(a,b,c) {\r\n\t\t\t\t\tobj.updatePosition(b,c);\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (typeof(obj.options.onload) == 'function') {\r\n\t\t\tobj.options.onload(el, obj);\r\n\t\t}\r\n\t}\r\n\r\n\t// Loading existing nodes as the data\r\n\tif (el.children[0] && el.children[0].children.length) {\r\n\t\t// Create from existing elements\r\n\t\tfor (var i = 0; i < el.children[0].children.length; i++) {\r\n\t\t\tvar item = obj.options.data && obj.options.data[i] ? obj.options.data[i] : {};\r\n\r\n\t\t\tif (el.children[1] && el.children[1].children[i]) {\r\n\t\t\t\titem.titleElement = el.children[0].children[i];\r\n\t\t\t\titem.contentElement = el.children[1].children[i];\r\n\t\t\t} else {\r\n\t\t\t\titem.contentElement = el.children[0].children[i];\r\n\t\t\t}\r\n\r\n\t\t\tobj.options.data[i] = item;\r\n\t\t}\r\n\t}\r\n\r\n\t// Remote controller flag\r\n\tvar loadingRemoteData = false;\r\n\r\n\t// Create from data\r\n\tif (obj.options.data) {\r\n\t\t// Append children\r\n\t\tfor (var i = 0; i < obj.options.data.length; i++) {\r\n\t\t\tif (obj.options.data[i].url) {\r\n\t\t\t\tajax({\r\n\t\t\t\t\turl: obj.options.data[i].url,\r\n\t\t\t\t\ttype: 'GET',\r\n\t\t\t\t\tdataType: 'text/html',\r\n\t\t\t\t\tindex: i,\r\n\t\t\t\t\tsuccess: function(result) {\r\n\t\t\t\t\t\tobj.options.data[this.index].content = result;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete: function() {\r\n\t\t\t\t\t\tobj.init();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// Flag loading\r\n\t\t\t\tloadingRemoteData = true;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tif (! loadingRemoteData) {\r\n\t\tobj.init();\r\n\t}\r\n\r\n\tel.tabs = obj;\r\n\r\n\treturn obj;\r\n}\r\n;// CONCATENATED MODULE: ./src/plugins/color.js\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction Color(el, options) {\r\n\t// Already created, update options\r\n\tif (el.color) {\r\n\t\treturn el.color.setOptions(options, true);\r\n\t}\r\n\r\n\t// New instance\r\n\tvar obj = { type: 'color' };\r\n\tobj.options = {};\r\n\r\n\tvar container = null;\r\n\tvar backdrop = null;\r\n\tvar content = null;\r\n\tvar resetButton = null;\r\n\tvar closeButton = null;\r\n\tvar tabs = null;\r\n\tvar jsuitesTabs = null;\r\n\r\n\t/**\r\n\t * Update options\r\n\t */\r\n\tobj.setOptions = function(options, reset) {\r\n\t\t/**\r\n\t\t * @typedef {Object} defaults\r\n\t\t * @property {(string|Array)} value - Initial value of the compontent\r\n\t\t * @property {string} placeholder - The default instruction text on the element\r\n\t\t * @property {requestCallback} onchange - Method to be execute after any changes on the element\r\n\t\t * @property {requestCallback} onclose - Method to be execute when the element is closed\r\n\t\t * @property {string} doneLabel - Label for button done\r\n\t\t * @property {string} resetLabel - Label for button reset\r\n\t\t * @property {string} resetValue - Value for button reset\r\n\t\t * @property {Bool} showResetButton - Active or note for button reset - default false\r\n\t\t */\r\n\t\tvar defaults = {\r\n\t\t\tplaceholder: '',\r\n\t\t\tvalue: null,\r\n\t\t\tonopen: null,\r\n\t\t\tonclose: null,\r\n\t\t\tonchange: null,\r\n\t\t\tcloseOnChange: true,\r\n\t\t\tpalette: null,\r\n\t\t\tposition: null,\r\n\t\t\tdoneLabel: 'Done',\r\n\t\t\tresetLabel: 'Reset',\r\n\t\t\tfullscreen: false,\r\n\t\t\topened: false,\r\n\t\t}\r\n\r\n\t\tif (! options) {\r\n\t\t\toptions = {};\r\n\t\t}\r\n\r\n\t\tif (options && ! options.palette) {\r\n\t\t\t// Default palette\r\n\t\t\toptions.palette = palette();\r\n\t\t}\r\n\r\n\t\t// Loop through our object\r\n\t\tfor (var property in defaults) {\r\n\t\t\tif (options && options.hasOwnProperty(property)) {\r\n\t\t\t\tobj.options[property] = options[property];\r\n\t\t\t} else {\r\n\t\t\t\tif (typeof(obj.options[property]) == 'undefined' || reset === true) {\r\n\t\t\t\t\tobj.options[property] = defaults[property];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Update the text of the controls, if they have already been created\r\n\t\tif (resetButton) {\r\n\t\t\tresetButton.innerHTML = obj.options.resetLabel;\r\n\t\t}\r\n\t\tif (closeButton) {\r\n\t\t\tcloseButton.innerHTML = obj.options.doneLabel;\r\n\t\t}\r\n\r\n\t\t// Update the pallete\r\n\t\tif (obj.options.palette && jsuitesTabs) {\r\n\t\t\tjsuitesTabs.updateContent(0, table());\r\n\t\t}\r\n\r\n\t\t// Value\r\n\t\tif (typeof obj.options.value === 'string') {\r\n\t\t\tel.value = obj.options.value;\r\n\t\t\tif (el.tagName === 'INPUT') {\r\n\t\t\t\tel.style.color = el.value;\r\n\t\t\t\tel.style.backgroundColor = el.value;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Placeholder\r\n\t\tif (obj.options.placeholder) {\r\n\t\t\tel.setAttribute('placeholder', obj.options.placeholder);\r\n\t\t} else {\r\n\t\t\tif (el.getAttribute('placeholder')) {\r\n\t\t\t\tel.removeAttribute('placeholder');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn obj;\r\n\t}\r\n\r\n\tobj.select = function(color) {\r\n\t\t// Remove current selected mark\r\n\t\tvar selected = container.querySelector('.jcolor-selected');\r\n\t\tif (selected) {\r\n\t\t\tselected.classList.remove('jcolor-selected');\r\n\t\t}\r\n\r\n\t\t// Mark cell as selected\r\n\t\tif (obj.values[color]) {\r\n\t\t\tobj.values[color].classList.add('jcolor-selected');\r\n\t\t}\r\n\r\n\t\tobj.options.value = color;\r\n\t}\r\n\r\n\t/**\r\n\t * Open color pallete\r\n\t */\r\n\tobj.open = function() {\r\n\t\tif (! container.classList.contains('jcolor-focus')) {\r\n\t\t\t// Start tracking\r\n\t\t\tTracking(obj, true);\r\n\r\n\t\t\t// Show color picker\r\n\t\t\tcontainer.classList.add('jcolor-focus');\r\n\r\n\t\t\t// Select current color\r\n\t\t\tif (obj.options.value) {\r\n\t\t\t\tobj.select(obj.options.value);\r\n\t\t\t}\r\n\r\n\t\t\t// Reset margin\r\n\t\t\tcontent.style.marginTop = '';\r\n\t\t\tcontent.style.marginLeft = '';\r\n\r\n\t\t\tvar rectContent = content.getBoundingClientRect();\r\n\t\t\tvar availableWidth = helpers.getWindowWidth();\r\n\t\t\tvar availableHeight = helpers.getWindowHeight();\r\n\r\n\t\t\tif (availableWidth < 800 || obj.options.fullscreen == true) {\r\n\t\t\t\tcontent.classList.add('jcolor-fullscreen');\r\n\t\t\t\tanimation.slideBottom(content, 1);\r\n\t\t\t\tbackdrop.style.display = 'block';\r\n\t\t\t} else {\r\n\t\t\t\tif (content.classList.contains('jcolor-fullscreen')) {\r\n\t\t\t\t\tcontent.classList.remove('jcolor-fullscreen');\r\n\t\t\t\t\tbackdrop.style.display = '';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (obj.options.position) {\r\n\t\t\t\t\tcontent.style.position = 'fixed';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcontent.style.position = '';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (rectContent.left + rectContent.width > availableWidth) {\r\n\t\t\t\t\tcontent.style.marginLeft = -1 * (rectContent.left + rectContent.width - (availableWidth - 20)) + 'px';\r\n\t\t\t\t}\r\n\t\t\t\tif (rectContent.top + rectContent.height > availableHeight) {\r\n\t\t\t\t\tcontent.style.marginTop = -1 * (rectContent.top + rectContent.height - (availableHeight - 20)) + 'px';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n\t\t\tif (typeof(obj.options.onopen) == 'function') {\r\n\t\t\t\tobj.options.onopen(el, obj);\r\n\t\t\t}\r\n\r\n\t\t\tjsuitesTabs.setBorder(jsuitesTabs.getActive());\r\n\r\n\t\t\t// Update sliders\r\n\t\t\tif (obj.options.value) {\r\n\t\t\t\tvar rgb = HexToRgb(obj.options.value);\r\n\r\n\t\t\t\trgbInputs.forEach(function(rgbInput, index) {\r\n\t\t\t\t\trgbInput.value = rgb[index];\r\n\t\t\t\t\trgbInput.dispatchEvent(new Event('input'));\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Close color pallete\r\n\t */\r\n\tobj.close = function(ignoreEvents) {\r\n\t\tif (container.classList.contains('jcolor-focus')) {\r\n\t\t\t// Remove focus\r\n\t\t\tcontainer.classList.remove('jcolor-focus');\r\n\t\t\t// Make sure backdrop is hidden\r\n\t\t\tbackdrop.style.display = '';\r\n\t\t\t// Call related events\r\n\t\t\tif (! ignoreEvents && typeof(obj.options.onclose) == 'function') {\r\n\t\t\t\tobj.options.onclose(el, obj);\r\n\t\t\t}\r\n\t\t\t// Stop  the object\r\n\t\t\tTracking(obj, false);\r\n\t\t}\r\n\r\n\t\treturn obj.options.value;\r\n\t}\r\n\r\n\t/**\r\n\t * Set value\r\n\t */\r\n\tobj.setValue = function(color) {\r\n\t\tif (! color) {\r\n\t\t\tcolor = '';\r\n\t\t}\r\n\r\n\t\tif (color != obj.options.value) {\r\n\t\t\tobj.options.value = color;\r\n\t\t\tslidersResult = color;\r\n\r\n\t\t\t// Remove current selecded mark\r\n\t\t\tobj.select(color);\r\n\r\n\t\t\t// Onchange\r\n\t\t\tif (typeof(obj.options.onchange) == 'function') {\r\n\t\t\t\tobj.options.onchange(el, color, obj);\r\n\t\t\t}\r\n\r\n\t\t\t// Changes\r\n\t\t\tif (el.value != obj.options.value) {\r\n\t\t\t\t// Set input value\r\n\t\t\t\tel.value = obj.options.value;\r\n\t\t\t\tif (el.tagName === 'INPUT') {\r\n\t\t\t\t\tel.style.color = el.value;\r\n\t\t\t\t\tel.style.backgroundColor = el.value;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Element onchange native\r\n\t\t\t\tif (typeof(el.oninput) == 'function') {\r\n\t\t\t\t\tel.oninput({\r\n\t\t\t\t\t\ttype: 'input',\r\n\t\t\t\t\t\ttarget: el,\r\n\t\t\t\t\t\tvalue: el.value\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (obj.options.closeOnChange == true) {\r\n\t\t\t\tobj.close();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Get value\r\n\t */\r\n\tobj.getValue = function() {\r\n\t\treturn obj.options.value;\r\n\t}\r\n\r\n\tvar backdropClickControl = false;\r\n\r\n\t// Converts a number in decimal to hexadecimal\r\n\tvar decToHex = function(num) {\r\n\t\tvar hex = num.toString(16);\r\n\t\treturn hex.length === 1 ? \"0\" + hex : hex;\r\n\t}\r\n\r\n\t// Converts a color in rgb to hexadecimal\r\n\tvar rgbToHex = function(r, g, b) {\r\n\t\treturn \"#\" + decToHex(r) + decToHex(g) + decToHex(b);\r\n\t}\r\n\r\n\t// Converts a number in hexadecimal to decimal\r\n\tvar hexToDec = function(hex) {\r\n\t\treturn parseInt('0x' + hex);\r\n\t}\r\n\r\n\t// Converts a color in hexadecimal to rgb\r\n\tvar HexToRgb = function(hex) {\r\n\t\treturn [hexToDec(hex.substr(1, 2)), hexToDec(hex.substr(3, 2)), hexToDec(hex.substr(5, 2))]\r\n\t}\r\n\r\n\tvar table = function() {\r\n\t\t// Content of the first tab\r\n\t\tvar tableContainer = document.createElement('div');\r\n\t\ttableContainer.className = 'jcolor-grid';\r\n\r\n\t\t// Cells\r\n\t\tobj.values = [];\r\n\r\n\t\t// Table pallete\r\n\t\tvar t = document.createElement('table');\r\n\t\tt.setAttribute('cellpadding', '7');\r\n\t\tt.setAttribute('cellspacing', '0');\r\n\r\n\t\tfor (var j = 0; j < obj.options.palette.length; j++) {\r\n\t\t\tvar tr = document.createElement('tr');\r\n\t\t\tfor (var i = 0; i < obj.options.palette[j].length; i++) {\r\n\t\t\t\tvar td = document.createElement('td');\r\n\t\t\t\tvar color = obj.options.palette[j][i];\r\n\t\t\t\tif (color.length < 7 && color.substr(0,1) !== '#') {\r\n\t\t\t\t\tcolor = '#' + color;\r\n\t\t\t\t}\r\n\t\t\t\ttd.style.backgroundColor = color;\r\n\t\t\t\ttd.setAttribute('data-value', color);\r\n\t\t\t\ttd.innerHTML = '';\r\n\t\t\t\ttr.appendChild(td);\r\n\r\n\t\t\t\t// Selected color\r\n\t\t\t\tif (obj.options.value == color) {\r\n\t\t\t\t\ttd.classList.add('jcolor-selected');\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Possible values\r\n\t\t\t\tobj.values[color] = td;\r\n\t\t\t}\r\n\t\t\tt.appendChild(tr);\r\n\t\t}\r\n\r\n\t\t// Append to the table\r\n\t\ttableContainer.appendChild(t);\r\n\r\n\t\treturn tableContainer;\r\n\t}\r\n\r\n\t// Canvas where the image will be rendered\r\n\tvar canvas = document.createElement('canvas');\r\n\tcanvas.width = 200;\r\n\tcanvas.height = 160;\r\n\tvar context = canvas.getContext(\"2d\");\r\n\r\n\tvar resizeCanvas = function() {\r\n\t\t// Specifications necessary to correctly obtain colors later in certain positions\r\n\t\tvar m = tabs.firstChild.getBoundingClientRect();\r\n\t\tcanvas.width = m.width - 14;\r\n\t\tgradient()\r\n\t}\r\n\r\n\tvar gradient = function() {\r\n\t\tvar g = context.createLinearGradient(0, 0, canvas.width, 0);\r\n\t\t// Create color gradient\r\n\t\tg.addColorStop(0,    \"rgb(255,0,0)\");\r\n\t\tg.addColorStop(0.15, \"rgb(255,0,255)\");\r\n\t\tg.addColorStop(0.33, \"rgb(0,0,255)\");\r\n\t\tg.addColorStop(0.49, \"rgb(0,255,255)\");\r\n\t\tg.addColorStop(0.67, \"rgb(0,255,0)\");\r\n\t\tg.addColorStop(0.84, \"rgb(255,255,0)\");\r\n\t\tg.addColorStop(1,    \"rgb(255,0,0)\");\r\n\t\tcontext.fillStyle = g;\r\n\t\tcontext.fillRect(0, 0, canvas.width, canvas.height);\r\n\t\tg = context.createLinearGradient(0, 0, 0, canvas.height);\r\n\t\tg.addColorStop(0,   \"rgba(255,255,255,1)\");\r\n\t\tg.addColorStop(0.5, \"rgba(255,255,255,0)\");\r\n\t\tg.addColorStop(0.5, \"rgba(0,0,0,0)\");\r\n\t\tg.addColorStop(1,   \"rgba(0,0,0,1)\");\r\n\t\tcontext.fillStyle = g;\r\n\t\tcontext.fillRect(0, 0, canvas.width, canvas.height);\r\n\t}\r\n\r\n\tvar hsl = function() {\r\n\t\tvar element = document.createElement('div');\r\n\t\telement.className = \"jcolor-hsl\";\r\n\r\n\t\tvar point = document.createElement('div');\r\n\t\tpoint.className = 'jcolor-point';\r\n\r\n\t\tvar div = document.createElement('div');\r\n\t\tdiv.appendChild(canvas);\r\n\t\tdiv.appendChild(point);\r\n\t\telement.appendChild(div);\r\n\r\n\t\t// Moves the marquee point to the specified position\r\n\t\tvar update = function(buttons, x, y) {\r\n\t\t\tif (buttons === 1) {\r\n\t\t\t\tvar rect = element.getBoundingClientRect();\r\n\t\t\t\tvar left = x - rect.left;\r\n\t\t\t\tvar top = y - rect.top;\r\n\t\t\t\tif (left < 0) {\r\n\t\t\t\t\tleft = 0;\r\n\t\t\t\t}\r\n\t\t\t\tif (top < 0) {\r\n\t\t\t\t\ttop = 0;\r\n\t\t\t\t}\r\n\t\t\t\tif (left > rect.width) {\r\n\t\t\t\t\tleft = rect.width;\r\n\t\t\t\t}\r\n\t\t\t\tif (top > rect.height) {\r\n\t\t\t\t\ttop = rect.height;\r\n\t\t\t\t}\r\n\t\t\t\tpoint.style.left = left + 'px';\r\n\t\t\t\tpoint.style.top = top + 'px';\r\n\t\t\t\tvar pixel = context.getImageData(left, top, 1, 1).data;\r\n\t\t\t\tslidersResult = rgbToHex(pixel[0], pixel[1], pixel[2]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Applies the point's motion function to the div that contains it\r\n\t\telement.addEventListener('mousedown', function(e) {\r\n\t\t\tupdate(e.buttons, e.clientX, e.clientY);\r\n\t\t});\r\n\r\n\t\telement.addEventListener('mousemove', function(e) {\r\n\t\t\tupdate(e.buttons, e.clientX, e.clientY);\r\n\t\t});\r\n\r\n\t\telement.addEventListener('touchmove', function(e) {\r\n\t\t\tupdate(1, e.changedTouches[0].clientX, e.changedTouches[0].clientY);\r\n\t\t});\r\n\r\n\t\treturn element;\r\n\t}\r\n\r\n\tvar slidersResult = '';\r\n\r\n\tvar rgbInputs = [];\r\n\r\n\tvar changeInputColors = function() {\r\n\t\tif (slidersResult !== '') {\r\n\t\t\tfor (var j = 0; j < rgbInputs.length; j++) {\r\n\t\t\t\tvar currentColor = HexToRgb(slidersResult);\r\n\r\n\t\t\t\tcurrentColor[j] = 0;\r\n\r\n\t\t\t\tvar newGradient = 'linear-gradient(90deg, rgb(';\r\n\t\t\t\tnewGradient += currentColor.join(', ');\r\n\t\t\t\tnewGradient += '), rgb(';\r\n\r\n\t\t\t\tcurrentColor[j] = 255;\r\n\r\n\t\t\t\tnewGradient += currentColor.join(', ');\r\n\t\t\t\tnewGradient += '))';\r\n\r\n\t\t\t\trgbInputs[j].style.backgroundImage = newGradient;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tvar sliders = function() {\r\n\t\t// Content of the third tab\r\n\t\tvar slidersElement = document.createElement('div');\r\n\t\tslidersElement.className = 'jcolor-sliders';\r\n\r\n\t\tvar slidersBody = document.createElement('div');\r\n\r\n\t\t// Creates a range-type input with the specified name\r\n\t\tvar createSliderInput = function(name) {\r\n\t\t\tvar inputContainer = document.createElement('div');\r\n\t\t\tinputContainer.className = 'jcolor-sliders-input-container';\r\n\r\n\t\t\tvar label = document.createElement('label');\r\n\t\t\tlabel.innerText = name;\r\n\r\n\t\t\tvar subContainer = document.createElement('div');\r\n\t\t\tsubContainer.className = 'jcolor-sliders-input-subcontainer';\r\n\r\n\t\t\tvar input = document.createElement('input');\r\n\t\t\tinput.type = 'range';\r\n\t\t\tinput.min = 0;\r\n\t\t\tinput.max = 255;\r\n\t\t\tinput.value = 0;\r\n\r\n\t\t\tinputContainer.appendChild(label);\r\n\t\t\tsubContainer.appendChild(input);\r\n\r\n\t\t\tvar value = document.createElement('div');\r\n\t\t\tvalue.innerText = input.value;\r\n\r\n\t\t\tinput.addEventListener('input', function() {\r\n\t\t\t\tvalue.innerText = input.value;\r\n\t\t\t});\r\n\r\n\t\t\tsubContainer.appendChild(value);\r\n\t\t\tinputContainer.appendChild(subContainer);\r\n\r\n\t\t\tslidersBody.appendChild(inputContainer);\r\n\r\n\t\t\treturn input;\r\n\t\t}\r\n\r\n\t\t// Creates red, green and blue inputs\r\n\t\trgbInputs = [\r\n\t\t\tcreateSliderInput('Red'),\r\n\t\t\tcreateSliderInput('Green'),\r\n\t\t\tcreateSliderInput('Blue'),\r\n\t\t];\r\n\r\n\t\tslidersElement.appendChild(slidersBody);\r\n\r\n\t\t// Element that prints the current color\r\n\t\tvar slidersResultColor = document.createElement('div');\r\n\t\tslidersResultColor.className = 'jcolor-sliders-final-color';\r\n\r\n\t\tvar resultElement = document.createElement('div');\r\n\t\tresultElement.style.visibility = 'hidden';\r\n\t\tresultElement.innerText = 'a';\r\n\t\tslidersResultColor.appendChild(resultElement)\r\n\r\n\t\t// Update the element that prints the current color\r\n\t\tvar updateResult = function() {\r\n\t\t\tvar resultColor = rgbToHex(parseInt(rgbInputs[0].value), parseInt(rgbInputs[1].value), parseInt(rgbInputs[2].value));\r\n\r\n\t\t\tresultElement.innerText = resultColor;\r\n\t\t\tresultElement.style.color = resultColor;\r\n\t\t\tresultElement.style.removeProperty('visibility');\r\n\r\n\t\t\tslidersResult = resultColor;\r\n\t\t}\r\n\r\n\t\t// Apply the update function to color inputs\r\n\t\trgbInputs.forEach(function(rgbInput) {\r\n\t\t\trgbInput.addEventListener('input', function() {\r\n\t\t\t\tupdateResult();\r\n\t\t\t\tchangeInputColors();\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tslidersElement.appendChild(slidersResultColor);\r\n\r\n\t\treturn slidersElement;\r\n\t}\r\n\r\n\tvar init = function() {\r\n\t\t// Initial options\r\n\t\tobj.setOptions(options);\r\n\r\n\t\t// Add a proper input tag when the element is an input\r\n\t\tif (el.tagName == 'INPUT') {\r\n\t\t\tel.classList.add('jcolor-input');\r\n\t\t\tel.readOnly = true;\r\n\t\t}\r\n\r\n\t\t// Table container\r\n\t\tcontainer = document.createElement('div');\r\n\t\tcontainer.className = 'jcolor';\r\n\r\n\t\t// Table container\r\n\t\tbackdrop = document.createElement('div');\r\n\t\tbackdrop.className = 'jcolor-backdrop';\r\n\t\tcontainer.appendChild(backdrop);\r\n\r\n\t\t// Content\r\n\t\tcontent = document.createElement('div');\r\n\t\tcontent.className = 'jcolor-content';\r\n\r\n\t\t// Controls\r\n\t\tvar controls = document.createElement('div');\r\n\t\tcontrols.className = 'jcolor-controls';\r\n\t\tcontent.appendChild(controls);\r\n\r\n\t\t// Reset button\r\n\t\tresetButton  = document.createElement('div');\r\n\t\tresetButton.className = 'jcolor-reset';\r\n\t\tresetButton.innerHTML = obj.options.resetLabel;\r\n\t\tcontrols.appendChild(resetButton);\r\n\r\n\t\t// Close button\r\n\t\tcloseButton  = document.createElement('div');\r\n\t\tcloseButton.className = 'jcolor-close';\r\n\t\tcloseButton.innerHTML = obj.options.doneLabel;\r\n\t\tcontrols.appendChild(closeButton);\r\n\r\n\t\t// Element that will be used to create the tabs\r\n\t\ttabs = document.createElement('div');\r\n\t\tcontent.appendChild(tabs);\r\n\r\n\t\t// Starts the jSuites tabs component\r\n\t\tjsuitesTabs = Tabs(tabs, {\r\n\t\t\tanimation: true,\r\n\t\t\tdata: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'Grid',\r\n\t\t\t\t\tcontentElement: table(),\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'Spectrum',\r\n\t\t\t\t\tcontentElement: hsl(),\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'Sliders',\r\n\t\t\t\t\tcontentElement: sliders(),\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tonchange: function(element, instance, index) {\r\n\t\t\t\tif (index === 1) {\r\n\t\t\t\t\tresizeCanvas();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar color = slidersResult !== '' ? slidersResult : obj.getValue();\r\n\r\n\t\t\t\t\tif (index === 2 && color) {\r\n\t\t\t\t\t\tvar rgb = HexToRgb(color);\r\n\r\n\t\t\t\t\t\trgbInputs.forEach(function(rgbInput, index) {\r\n\t\t\t\t\t\t\trgbInput.value = rgb[index];\r\n\t\t\t\t\t\t\trgbInput.dispatchEvent(new Event('input'));\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tpalette: 'modern',\r\n\t\t});\r\n\r\n\t\tcontainer.appendChild(content);\r\n\r\n\t\t// Insert picker after the element\r\n\t\tif (el.tagName == 'INPUT') {\r\n\t\t\tel.parentNode.insertBefore(container, el.nextSibling);\r\n\t\t} else {\r\n\t\t\tel.appendChild(container);\r\n\t\t}\r\n\r\n\t\tcontainer.addEventListener(\"click\", function(e) {\r\n\t\t\tif (e.target.tagName == 'TD') {\r\n\t\t\t\tvar value = e.target.getAttribute('data-value');\r\n\t\t\t\tif (value) {\r\n\t\t\t\t\tobj.setValue(value);\r\n\t\t\t\t}\r\n\t\t\t} else if (e.target.classList.contains('jcolor-reset')) {\r\n\t\t\t\tobj.setValue('');\r\n\t\t\t\tobj.close();\r\n\t\t\t} else if (e.target.classList.contains('jcolor-close')) {\r\n\t\t\t\tif (jsuitesTabs.getActive() > 0) {\r\n\t\t\t\t\tobj.setValue(slidersResult);\r\n\t\t\t\t}\r\n\t\t\t\tobj.close();\r\n\t\t\t} else if (e.target.classList.contains('jcolor-backdrop')) {\r\n\t\t\t\tobj.close();\r\n\t\t\t} else {\r\n\t\t\t\tobj.open();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t/**\r\n\t\t * If element is focus open the picker\r\n\t\t */\r\n\t\tel.addEventListener(\"mouseup\", function(e) {\r\n\t\t\tobj.open();\r\n\t\t});\r\n\r\n\t\t// If the picker is open on the spectrum tab, it changes the canvas size when the window size is changed\r\n\t\twindow.addEventListener('resize', function() {\r\n\t\t\tif (container.classList.contains('jcolor-focus') && jsuitesTabs.getActive() == 1) {\r\n\t\t\t\tresizeCanvas();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// Default opened\r\n\t\tif (obj.options.opened == true) {\r\n\t\t\tobj.open();\r\n\t\t}\r\n\r\n\t\t// Change\r\n\t\tel.change = obj.setValue;\r\n\r\n\t\t// Global generic value handler\r\n\t\tel.val = function(val) {\r\n\t\t\tif (val === undefined) {\r\n\t\t\t\treturn obj.getValue();\r\n\t\t\t} else {\r\n\t\t\t\tobj.setValue(val);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Keep object available from the node\r\n\t\tel.color = obj;\r\n\r\n\t\t// Container shortcut\r\n\t\tcontainer.color = obj;\r\n\t}\r\n\r\n\tobj.toHex = function(rgb) {\r\n\t\tvar hex = function(x) {\r\n\t\t\treturn (\"0\" + parseInt(x).toString(16)).slice(-2);\r\n\t\t}\r\n\t\tif (rgb) {\r\n\t\t\tif (/^#[0-9A-F]{6}$/i.test(rgb)) {\r\n\t\t\t\treturn rgb;\r\n\t\t\t} else {\r\n\t\t\t\trgb = rgb.match(/^rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)$/);\r\n\t\t\t\tif (rgb && rgb.length) {\r\n\t\t\t\t\treturn \"#\" + hex(rgb[1]) + hex(rgb[2]) + hex(rgb[3]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn \"\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tinit();\r\n\r\n\treturn obj;\r\n}\r\n;// CONCATENATED MODULE: ./src/plugins/contextmenu.js\r\n\r\n\r\n\r\nfunction Contextmenu() {\r\n\r\n\tvar Component = function(el, options) {\r\n\t\t// New instance\r\n\t\tvar obj = {type: 'contextmenu'};\r\n\t\tobj.options = {};\r\n\r\n\t\t// Default configuration\r\n\t\tvar defaults = {\r\n\t\t\titems: null,\r\n\t\t\tonclick: null,\r\n\t\t};\r\n\r\n\t\t// Loop through our object\r\n\t\tfor (var property in defaults) {\r\n\t\t\tif (options && options.hasOwnProperty(property)) {\r\n\t\t\t\tobj.options[property] = options[property];\r\n\t\t\t} else {\r\n\t\t\t\tobj.options[property] = defaults[property];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Class definition\r\n\t\tel.classList.add('jcontextmenu');\r\n\r\n\t\t/**\r\n\t\t * Open contextmenu\r\n\t\t */\r\n\t\tobj.open = function (e, items) {\r\n\t\t\tif (items) {\r\n\t\t\t\t// Update content\r\n\t\t\t\tobj.options.items = items;\r\n\t\t\t\t// Create items\r\n\t\t\t\tobj.create(items);\r\n\t\t\t}\r\n\r\n\t\t\t// Close current contextmenu\r\n\t\t\tif (Component.current) {\r\n\t\t\t\tComponent.current.close();\r\n\t\t\t}\r\n\r\n\t\t\t// Add to the opened components monitor\r\n\t\t\tTracking(obj, true);\r\n\r\n\t\t\t// Show context menu\r\n\t\t\tel.classList.add('jcontextmenu-focus');\r\n\r\n\t\t\t// Current\r\n\t\t\tComponent.current = obj;\r\n\r\n\t\t\t// Coordinates\r\n\t\t\tif ((obj.options.items && obj.options.items.length > 0) || el.children.length) {\r\n\t\t\t\tif (e.target) {\r\n\t\t\t\t\tif (e.changedTouches && e.changedTouches[0]) {\r\n\t\t\t\t\t\tx = e.changedTouches[0].clientX;\r\n\t\t\t\t\t\ty = e.changedTouches[0].clientY;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar x = e.clientX;\r\n\t\t\t\t\t\tvar y = e.clientY;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar x = e.x;\r\n\t\t\t\t\tvar y = e.y;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar rect = el.getBoundingClientRect();\r\n\r\n\t\t\t\tif (window.innerHeight < y + rect.height) {\r\n\t\t\t\t\tvar h = y - rect.height;\r\n\t\t\t\t\tif (h < 0) {\r\n\t\t\t\t\t\th = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tel.style.top = h + 'px';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tel.style.top = y + 'px';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (window.innerWidth < x + rect.width) {\r\n\t\t\t\t\tif (x - rect.width > 0) {\r\n\t\t\t\t\t\tel.style.left = (x - rect.width) + 'px';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tel.style.left = '10px';\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tel.style.left = x + 'px';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tobj.isOpened = function () {\r\n\t\t\treturn el.classList.contains('jcontextmenu-focus') ? true : false;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Close menu\r\n\t\t */\r\n\t\tobj.close = function () {\r\n\t\t\tif (el.classList.contains('jcontextmenu-focus')) {\r\n\t\t\t\tel.classList.remove('jcontextmenu-focus');\r\n\t\t\t}\r\n\t\t\tTracking(obj, false);\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Create items based on the declared objectd\r\n\t\t * @param {object} items - List of object\r\n\t\t */\r\n\t\tobj.create = function (items) {\r\n\t\t\t// Update content\r\n\t\t\tel.innerHTML = '';\r\n\r\n\t\t\t// Add header contextmenu\r\n\t\t\tvar itemHeader = createHeader();\r\n\t\t\tel.appendChild(itemHeader);\r\n\r\n\t\t\t// Append items\r\n\t\t\tfor (var i = 0; i < items.length; i++) {\r\n\t\t\t\tvar itemContainer = createItemElement(items[i]);\r\n\t\t\t\tel.appendChild(itemContainer);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * createHeader for context menu\r\n\t\t * @private\r\n\t\t * @returns {HTMLElement}\r\n\t\t */\r\n\t\tfunction createHeader() {\r\n\t\t\tvar header = document.createElement('div');\r\n\t\t\theader.classList.add(\"header\");\r\n\t\t\theader.addEventListener(\"click\", function (e) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t});\r\n\t\t\tvar title = document.createElement('a');\r\n\t\t\ttitle.classList.add(\"title\");\r\n\t\t\ttitle.innerHTML = dictionary.translate(\"Menu\");\r\n\r\n\t\t\theader.appendChild(title);\r\n\r\n\t\t\tvar closeButton = document.createElement('a');\r\n\t\t\tcloseButton.classList.add(\"close\");\r\n\t\t\tcloseButton.innerHTML = dictionary.translate(\"close\");\r\n\t\t\tcloseButton.addEventListener(\"click\", function (e) {\r\n\t\t\t\tobj.close();\r\n\t\t\t});\r\n\r\n\t\t\theader.appendChild(closeButton);\r\n\r\n\t\t\treturn header;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Private function for create a new Item element\r\n\t\t * @param {type} item\r\n\t\t * @returns {jsuitesL#15.jSuites.contextmenu.createItemElement.itemContainer}\r\n\t\t */\r\n\t\tfunction createItemElement(item) {\r\n\t\t\tif (item.type && (item.type == 'line' || item.type == 'divisor')) {\r\n\t\t\t\tvar itemContainer = document.createElement('hr');\r\n\t\t\t} else {\r\n\t\t\t\tvar itemContainer = document.createElement('div');\r\n\t\t\t\tvar itemText = document.createElement('a');\r\n\t\t\t\titemText.innerHTML = item.title;\r\n\r\n\t\t\t\tif (item.tooltip) {\r\n\t\t\t\t\titemContainer.setAttribute('title', item.tooltip);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (item.icon) {\r\n\t\t\t\t\titemContainer.setAttribute('data-icon', item.icon);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (item.id) {\r\n\t\t\t\t\titemContainer.id = item.id;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (item.disabled) {\r\n\t\t\t\t\titemContainer.className = 'jcontextmenu-disabled';\r\n\t\t\t\t} else if (item.onclick) {\r\n\t\t\t\t\titemContainer.method = item.onclick;\r\n\t\t\t\t\titemContainer.addEventListener(\"mousedown\", function (e) {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t});\r\n\t\t\t\t\titemContainer.addEventListener(\"mouseup\", function (e) {\r\n\t\t\t\t\t\t// Execute method\r\n\t\t\t\t\t\tthis.method(this, e);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\titemContainer.appendChild(itemText);\r\n\r\n\t\t\t\tif (item.submenu) {\r\n\t\t\t\t\tvar itemIconSubmenu = document.createElement('span');\r\n\t\t\t\t\titemIconSubmenu.innerHTML = \"&#9658;\";\r\n\t\t\t\t\titemContainer.appendChild(itemIconSubmenu);\r\n\t\t\t\t\titemContainer.classList.add('jcontexthassubmenu');\r\n\t\t\t\t\tvar el_submenu = document.createElement('div');\r\n\t\t\t\t\t// Class definition\r\n\t\t\t\t\tel_submenu.classList.add('jcontextmenu');\r\n\t\t\t\t\t// Focusable\r\n\t\t\t\t\tel_submenu.setAttribute('tabindex', '900');\r\n\r\n\t\t\t\t\t// Append items\r\n\t\t\t\t\tvar submenu = item.submenu;\r\n\t\t\t\t\tfor (var i = 0; i < submenu.length; i++) {\r\n\t\t\t\t\t\tvar itemContainerSubMenu = createItemElement(submenu[i]);\r\n\t\t\t\t\t\tel_submenu.appendChild(itemContainerSubMenu);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\titemContainer.appendChild(el_submenu);\r\n\t\t\t\t} else if (item.shortcut) {\r\n\t\t\t\t\tvar itemShortCut = document.createElement('span');\r\n\t\t\t\t\titemShortCut.innerHTML = item.shortcut;\r\n\t\t\t\t\titemContainer.appendChild(itemShortCut);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn itemContainer;\r\n\t\t}\r\n\r\n\t\tif (typeof (obj.options.onclick) == 'function') {\r\n\t\t\tel.addEventListener('click', function (e) {\r\n\t\t\t\tobj.options.onclick(obj, e);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t// Create items\r\n\t\tif (obj.options.items) {\r\n\t\t\tobj.create(obj.options.items);\r\n\t\t}\r\n\r\n\t\twindow.addEventListener(\"mousewheel\", function () {\r\n\t\t\tobj.close();\r\n\t\t});\r\n\r\n\t\tel.contextmenu = obj;\r\n\r\n\t\treturn obj;\r\n\t}\r\n\r\n\treturn Component;\r\n}\r\n\r\n/* harmony default export */ var contextmenu = (Contextmenu());\r\n;// CONCATENATED MODULE: ./src/plugins/dropdown.js\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction Dropdown() {\r\n\r\n\tvar Component = (function (el, options) {\r\n\t\t// Already created, update options\r\n\t\tif (el.dropdown) {\r\n\t\t\treturn el.dropdown.setOptions(options, true);\r\n\t\t}\r\n\r\n\t\t// New instance\r\n\t\tvar obj = {type: 'dropdown'};\r\n\t\tobj.options = {};\r\n\r\n\t\t// Success\r\n\t\tvar success = function (data, val) {\r\n\t\t\t// Set data\r\n\t\t\tif (data && data.length) {\r\n\t\t\t\t// Sort\r\n\t\t\t\tif (obj.options.sortResults !== false) {\r\n\t\t\t\t\tif (typeof obj.options.sortResults == \"function\") {\r\n\t\t\t\t\t\tdata.sort(obj.options.sortResults);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdata.sort(sortData);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tobj.setData(data);\r\n\t\t\t}\r\n\r\n\t\t\t// Onload method\r\n\t\t\tif (typeof (obj.options.onload) == 'function') {\r\n\t\t\t\tobj.options.onload(el, obj, data, val);\r\n\t\t\t}\r\n\r\n\t\t\t// Set value\r\n\t\t\tif (val) {\r\n\t\t\t\tapplyValue(val);\r\n\t\t\t}\r\n\r\n\t\t\t// Component value\r\n\t\t\tif (val === undefined || val === null) {\r\n\t\t\t\tobj.options.value = '';\r\n\t\t\t}\r\n\t\t\tel.value = obj.options.value;\r\n\r\n\t\t\t// Open dropdown\r\n\t\t\tif (obj.options.opened == true) {\r\n\t\t\t\tobj.open();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\t// Default sort\r\n\t\tvar sortData = function (itemA, itemB) {\r\n\t\t\tvar testA, testB;\r\n\t\t\tif (typeof itemA == \"string\") {\r\n\t\t\t\ttestA = itemA;\r\n\t\t\t} else {\r\n\t\t\t\tif (itemA.text) {\r\n\t\t\t\t\ttestA = itemA.text;\r\n\t\t\t\t} else if (itemA.name) {\r\n\t\t\t\t\ttestA = itemA.name;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof itemB == \"string\") {\r\n\t\t\t\ttestB = itemB;\r\n\t\t\t} else {\r\n\t\t\t\tif (itemB.text) {\r\n\t\t\t\t\ttestB = itemB.text;\r\n\t\t\t\t} else if (itemB.name) {\r\n\t\t\t\t\ttestB = itemB.name;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof testA == \"string\" || typeof testB == \"string\") {\r\n\t\t\t\tif (typeof testA != \"string\") {\r\n\t\t\t\t\ttestA = \"\" + testA;\r\n\t\t\t\t}\r\n\t\t\t\tif (typeof testB != \"string\") {\r\n\t\t\t\t\ttestB = \"\" + testB;\r\n\t\t\t\t}\r\n\t\t\t\treturn testA.localeCompare(testB);\r\n\t\t\t} else {\r\n\t\t\t\treturn testA - testB;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Reset the options for the dropdown\r\n\t\t */\r\n\t\tvar resetValue = function () {\r\n\t\t\t// Reset value container\r\n\t\t\tobj.value = {};\r\n\t\t\t// Remove selected\r\n\t\t\tfor (var i = 0; i < obj.items.length; i++) {\r\n\t\t\t\tif (obj.items[i].selected == true) {\r\n\t\t\t\t\tif (obj.items[i].element) {\r\n\t\t\t\t\t\tobj.items[i].element.classList.remove('jdropdown-selected')\r\n\t\t\t\t\t}\r\n\t\t\t\t\tobj.items[i].selected = null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// Reset options\r\n\t\t\tobj.options.value = '';\r\n\t\t\t// Reset value\r\n\t\t\tel.value = '';\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Apply values to the dropdown\r\n\t\t */\r\n\t\tvar applyValue = function (values) {\r\n\t\t\t// Reset the current values\r\n\t\t\tresetValue();\r\n\r\n\t\t\t// Read values\r\n\t\t\tif (values !== null) {\r\n\t\t\t\tif (!values) {\r\n\t\t\t\t\tif (typeof (obj.value['']) !== 'undefined') {\r\n\t\t\t\t\t\tobj.value[''] = '';\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (!Array.isArray(values)) {\r\n\t\t\t\t\t\tvalues = ('' + values).split(';');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor (var i = 0; i < values.length; i++) {\r\n\t\t\t\t\t\tobj.value[values[i]] = '';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Update the DOM\r\n\t\t\tfor (var i = 0; i < obj.items.length; i++) {\r\n\t\t\t\tif (typeof (obj.value[Value(i)]) !== 'undefined') {\r\n\t\t\t\t\tif (obj.items[i].element) {\r\n\t\t\t\t\t\tobj.items[i].element.classList.add('jdropdown-selected')\r\n\t\t\t\t\t}\r\n\t\t\t\t\tobj.items[i].selected = true;\r\n\r\n\t\t\t\t\t// Keep label\r\n\t\t\t\t\tobj.value[Value(i)] = Text(i);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Global value\r\n\t\t\tobj.options.value = Object.keys(obj.value).join(';');\r\n\r\n\t\t\t// Update labels\r\n\t\t\tobj.header.value = obj.getText();\r\n\t\t}\r\n\r\n\t\t// Get the value of one item\r\n\t\tvar Value = function (k, v) {\r\n\t\t\t// Legacy purposes\r\n\t\t\tif (!obj.options.format) {\r\n\t\t\t\tvar property = 'value';\r\n\t\t\t} else {\r\n\t\t\t\tvar property = 'id';\r\n\t\t\t}\r\n\r\n\t\t\tif (obj.items[k]) {\r\n\t\t\t\tif (v !== undefined) {\r\n\t\t\t\t\treturn obj.items[k].data[property] = v;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn obj.items[k].data[property];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn '';\r\n\t\t}\r\n\r\n\t\t// Get the label of one item\r\n\t\tvar Text = function (k, v) {\r\n\t\t\t// Legacy purposes\r\n\t\t\tif (!obj.options.format) {\r\n\t\t\t\tvar property = 'text';\r\n\t\t\t} else {\r\n\t\t\t\tvar property = 'name';\r\n\t\t\t}\r\n\r\n\t\t\tif (obj.items[k]) {\r\n\t\t\t\tif (v !== undefined) {\r\n\t\t\t\t\treturn obj.items[k].data[property] = v;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn obj.items[k].data[property];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn '';\r\n\t\t}\r\n\r\n\t\tvar getValue = function () {\r\n\t\t\treturn Object.keys(obj.value);\r\n\t\t}\r\n\r\n\t\tvar getText = function () {\r\n\t\t\tvar data = [];\r\n\t\t\tvar k = Object.keys(obj.value);\r\n\t\t\tfor (var i = 0; i < k.length; i++) {\r\n\t\t\t\tdata.push(obj.value[k[i]]);\r\n\t\t\t}\r\n\t\t\treturn data;\r\n\t\t}\r\n\r\n\t\tobj.setOptions = function (options, reset) {\r\n\t\t\tif (!options) {\r\n\t\t\t\toptions = {};\r\n\t\t\t}\r\n\r\n\t\t\t// Default configuration\r\n\t\t\tvar defaults = {\r\n\t\t\t\turl: null,\r\n\t\t\t\tdata: [],\r\n\t\t\t\tformat: 0,\r\n\t\t\t\tmultiple: false,\r\n\t\t\t\tautocomplete: false,\r\n\t\t\t\tremoteSearch: false,\r\n\t\t\t\tlazyLoading: false,\r\n\t\t\t\ttype: null,\r\n\t\t\t\twidth: null,\r\n\t\t\t\tmaxWidth: null,\r\n\t\t\t\topened: false,\r\n\t\t\t\tvalue: null,\r\n\t\t\t\tplaceholder: '',\r\n\t\t\t\tnewOptions: false,\r\n\t\t\t\tposition: false,\r\n\t\t\t\tonchange: null,\r\n\t\t\t\tonload: null,\r\n\t\t\t\tonopen: null,\r\n\t\t\t\tonclose: null,\r\n\t\t\t\tonfocus: null,\r\n\t\t\t\tonblur: null,\r\n\t\t\t\toninsert: null,\r\n\t\t\t\tonbeforeinsert: null,\r\n\t\t\t\tonsearch: null,\r\n\t\t\t\tonbeforesearch: null,\r\n\t\t\t\tsortResults: false,\r\n\t\t\t\tautofocus: false,\r\n\t\t\t}\r\n\r\n\t\t\t// Loop through our object\r\n\t\t\tfor (var property in defaults) {\r\n\t\t\t\tif (options && options.hasOwnProperty(property)) {\r\n\t\t\t\t\tobj.options[property] = options[property];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (typeof (obj.options[property]) == 'undefined' || reset === true) {\r\n\t\t\t\t\t\tobj.options[property] = defaults[property];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Force autocomplete search\r\n\t\t\tif (obj.options.remoteSearch == true || obj.options.type === 'searchbar') {\r\n\t\t\t\tobj.options.autocomplete = true;\r\n\t\t\t}\r\n\r\n\t\t\t// New options\r\n\t\t\tif (obj.options.newOptions == true) {\r\n\t\t\t\tobj.header.classList.add('jdropdown-add');\r\n\t\t\t} else {\r\n\t\t\t\tobj.header.classList.remove('jdropdown-add');\r\n\t\t\t}\r\n\r\n\t\t\t// Autocomplete\r\n\t\t\tif (obj.options.autocomplete == true) {\r\n\t\t\t\tobj.header.removeAttribute('readonly');\r\n\t\t\t} else {\r\n\t\t\t\tobj.header.setAttribute('readonly', 'readonly');\r\n\t\t\t}\r\n\r\n\t\t\t// Place holder\r\n\t\t\tif (obj.options.placeholder) {\r\n\t\t\t\tobj.header.setAttribute('placeholder', obj.options.placeholder);\r\n\t\t\t} else {\r\n\t\t\t\tobj.header.removeAttribute('placeholder');\r\n\t\t\t}\r\n\r\n\t\t\t// Remove specific dropdown typing to add again\r\n\t\t\tel.classList.remove('jdropdown-searchbar');\r\n\t\t\tel.classList.remove('jdropdown-picker');\r\n\t\t\tel.classList.remove('jdropdown-list');\r\n\r\n\t\t\tif (obj.options.type == 'searchbar') {\r\n\t\t\t\tel.classList.add('jdropdown-searchbar');\r\n\t\t\t} else if (obj.options.type == 'list') {\r\n\t\t\t\tel.classList.add('jdropdown-list');\r\n\t\t\t} else if (obj.options.type == 'picker') {\r\n\t\t\t\tel.classList.add('jdropdown-picker');\r\n\t\t\t} else {\r\n\t\t\t\tif (helpers.getWindowWidth() < 800) {\r\n\t\t\t\t\tif (obj.options.autocomplete) {\r\n\t\t\t\t\t\tel.classList.add('jdropdown-searchbar');\r\n\t\t\t\t\t\tobj.options.type = 'searchbar';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tel.classList.add('jdropdown-picker');\r\n\t\t\t\t\t\tobj.options.type = 'picker';\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (obj.options.width) {\r\n\t\t\t\t\t\tel.style.width = obj.options.width;\r\n\t\t\t\t\t\tel.style.minWidth = obj.options.width;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tel.style.removeProperty('width');\r\n\t\t\t\t\t\tel.style.removeProperty('min-width');\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tel.classList.add('jdropdown-default');\r\n\t\t\t\t\tobj.options.type = 'default';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Close button\r\n\t\t\tif (obj.options.type == 'searchbar') {\r\n\t\t\t\tcontainerHeader.appendChild(closeButton);\r\n\t\t\t} else {\r\n\t\t\t\tcontainer.insertBefore(closeButton, container.firstChild);\r\n\t\t\t}\r\n\r\n\t\t\t// Load the content\r\n\t\t\tif (obj.options.url && !options.data) {\r\n\t\t\t\tajax({\r\n\t\t\t\t\turl: obj.options.url,\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\tdataType: 'json',\r\n\t\t\t\t\tsuccess: function (data) {\r\n\t\t\t\t\t\tif (data) {\r\n\t\t\t\t\t\t\tsuccess(data, obj.options.value);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tsuccess(obj.options.data, obj.options.value);\r\n\t\t\t}\r\n\r\n\t\t\t// Return the instance\r\n\t\t\treturn obj;\r\n\t\t}\r\n\r\n\t\t// Helpers\r\n\t\tvar containerHeader = null;\r\n\t\tvar container = null;\r\n\t\tvar content = null;\r\n\t\tvar closeButton = null;\r\n\t\tvar resetButton = null;\r\n\t\tvar backdrop = null;\r\n\r\n\t\tvar keyTimer = null;\r\n\r\n\t\t/**\r\n\t\t * Init dropdown\r\n\t\t */\r\n\t\tvar init = function () {\r\n\t\t\t// Do not accept null\r\n\t\t\tif (!options) {\r\n\t\t\t\toptions = {};\r\n\t\t\t}\r\n\r\n\t\t\t// If the element is a SELECT tag, create a configuration object\r\n\t\t\tif (el.tagName == 'SELECT') {\r\n\t\t\t\tvar ret = Component.extractFromDom(el, options);\r\n\t\t\t\tel = ret.el;\r\n\t\t\t\toptions = ret.options;\r\n\t\t\t}\r\n\r\n\t\t\t// Place holder\r\n\t\t\tif (!options.placeholder && el.getAttribute('placeholder')) {\r\n\t\t\t\toptions.placeholder = el.getAttribute('placeholder');\r\n\t\t\t}\r\n\r\n\t\t\t// Value container\r\n\t\t\tobj.value = {};\r\n\t\t\t// Containers\r\n\t\t\tobj.items = [];\r\n\t\t\tobj.groups = [];\r\n\t\t\t// Search options\r\n\t\t\tobj.search = '';\r\n\t\t\tobj.results = null;\r\n\r\n\t\t\t// Create dropdown\r\n\t\t\tel.classList.add('jdropdown');\r\n\r\n\t\t\t// Header container\r\n\t\t\tcontainerHeader = document.createElement('div');\r\n\t\t\tcontainerHeader.className = 'jdropdown-container-header';\r\n\r\n\t\t\t// Header\r\n\t\t\tobj.header = document.createElement('input');\r\n\t\t\tobj.header.className = 'jdropdown-header jss_object';\r\n\t\t\tobj.header.type = 'text';\r\n\t\t\tobj.header.setAttribute('autocomplete', 'off');\r\n\t\t\tobj.header.onfocus = function () {\r\n\t\t\t\tif (typeof (obj.options.onfocus) == 'function') {\r\n\t\t\t\t\tobj.options.onfocus(el);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tobj.header.onblur = function () {\r\n\t\t\t\tif (typeof (obj.options.onblur) == 'function') {\r\n\t\t\t\t\tobj.options.onblur(el);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tobj.header.onkeyup = function (e) {\r\n\t\t\t\tif (obj.options.autocomplete == true && !keyTimer) {\r\n\t\t\t\t\tif (obj.search != obj.header.value.trim()) {\r\n\t\t\t\t\t\tkeyTimer = setTimeout(function () {\r\n\t\t\t\t\t\t\tobj.find(obj.header.value.trim());\r\n\t\t\t\t\t\t\tkeyTimer = null;\r\n\t\t\t\t\t\t}, 400);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!el.classList.contains('jdropdown-focus')) {\r\n\t\t\t\t\t\tobj.open();\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (!obj.options.autocomplete) {\r\n\t\t\t\t\t\tobj.next(e.key);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Global controls\r\n\t\t\tif (!Component.hasEvents) {\r\n\t\t\t\t// Execute only one time\r\n\t\t\t\tComponent.hasEvents = true;\r\n\t\t\t\t// Enter and Esc\r\n\t\t\t\tdocument.addEventListener(\"keydown\", Component.keydown);\r\n\t\t\t}\r\n\r\n\t\t\t// Container\r\n\t\t\tcontainer = document.createElement('div');\r\n\t\t\tcontainer.className = 'jdropdown-container';\r\n\r\n\t\t\t// Dropdown content\r\n\t\t\tcontent = document.createElement('div');\r\n\t\t\tcontent.className = 'jdropdown-content';\r\n\r\n\t\t\t// Close button\r\n\t\t\tcloseButton = document.createElement('div');\r\n\t\t\tcloseButton.className = 'jdropdown-close';\r\n\t\t\tcloseButton.textContent = 'Done';\r\n\r\n\t\t\t// Reset button\r\n\t\t\tresetButton = document.createElement('div');\r\n\t\t\tresetButton.className = 'jdropdown-reset';\r\n\t\t\tresetButton.textContent = 'x';\r\n\t\t\tresetButton.onclick = function () {\r\n\t\t\t\tobj.reset();\r\n\t\t\t\tobj.close();\r\n\t\t\t}\r\n\r\n\t\t\t// Create backdrop\r\n\t\t\tbackdrop = document.createElement('div');\r\n\t\t\tbackdrop.className = 'jdropdown-backdrop';\r\n\r\n\t\t\t// Append elements\r\n\t\t\tcontainerHeader.appendChild(obj.header);\r\n\r\n\t\t\tcontainer.appendChild(content);\r\n\t\t\tel.appendChild(containerHeader);\r\n\t\t\tel.appendChild(container);\r\n\t\t\tel.appendChild(backdrop);\r\n\r\n\t\t\t// Set the otiptions\r\n\t\t\tobj.setOptions(options);\r\n\r\n\t\t\tif ('ontouchsend' in document.documentElement === true) {\r\n\t\t\t\tel.addEventListener('touchsend', Component.mouseup);\r\n\t\t\t} else {\r\n\t\t\t\tel.addEventListener('mouseup', Component.mouseup);\r\n\t\t\t}\r\n\r\n\t\t\t// Lazyloading\r\n\t\t\tif (obj.options.lazyLoading == true) {\r\n\t\t\t\tLazyLoading(content, {\r\n\t\t\t\t\tloadUp: obj.loadUp,\r\n\t\t\t\t\tloadDown: obj.loadDown,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tcontent.onwheel = function (e) {\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t}\r\n\r\n\t\t\t// Change method\r\n\t\t\tel.change = obj.setValue;\r\n\r\n\t\t\t// Global generic value handler\r\n\t\t\tel.val = function (val) {\r\n\t\t\t\tif (val === undefined) {\r\n\t\t\t\t\treturn obj.getValue(obj.options.multiple ? true : false);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tobj.setValue(val);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Keep object available from the node\r\n\t\t\tel.dropdown = obj;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Get the current remote source of data URL\r\n\t\t */\r\n\t\tobj.getUrl = function () {\r\n\t\t\treturn obj.options.url;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Set the new data from a remote source\r\n\t\t * @param {string} url - url from the remote source\r\n\t\t * @param {function} callback - callback when the data is loaded\r\n\t\t */\r\n\t\tobj.setUrl = function (url, callback) {\r\n\t\t\tobj.options.url = url;\r\n\r\n\t\t\tajax({\r\n\t\t\t\turl: obj.options.url,\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\tdataType: 'json',\r\n\t\t\t\tsuccess: function (data) {\r\n\t\t\t\t\tobj.setData(data);\r\n\t\t\t\t\t// Callback\r\n\t\t\t\t\tif (typeof (callback) == 'function') {\r\n\t\t\t\t\t\tcallback(obj);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Set ID for one item\r\n\t\t */\r\n\t\tobj.setId = function (item, v) {\r\n\t\t\t// Legacy purposes\r\n\t\t\tif (!obj.options.format) {\r\n\t\t\t\tvar property = 'value';\r\n\t\t\t} else {\r\n\t\t\t\tvar property = 'id';\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof (item) == 'object') {\r\n\t\t\t\titem[property] = v;\r\n\t\t\t} else {\r\n\t\t\t\tobj.items[item].data[property] = v;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Add a new item\r\n\t\t * @param {string} title - title of the new item\r\n\t\t * @param {string} id - value/id of the new item\r\n\t\t */\r\n\t\tobj.add = function (title, id) {\r\n\t\t\tif (!title) {\r\n\t\t\t\tvar current = obj.options.autocomplete == true ? obj.header.value : '';\r\n\t\t\t\tvar title = prompt(dictionary.translate('Add A New Option'), current);\r\n\t\t\t\tif (!title) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Id\r\n\t\t\tif (!id) {\r\n\t\t\t\tid = helpers.guid();\r\n\t\t\t}\r\n\r\n\t\t\t// Create new item\r\n\t\t\tif (!obj.options.format) {\r\n\t\t\t\tvar item = {\r\n\t\t\t\t\tvalue: id,\r\n\t\t\t\t\ttext: title,\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tvar item = {\r\n\t\t\t\t\tid: id,\r\n\t\t\t\t\tname: title,\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Callback\r\n\t\t\tif (typeof (obj.options.onbeforeinsert) == 'function') {\r\n\t\t\t\tvar ret = obj.options.onbeforeinsert(obj, item);\r\n\t\t\t\tif (ret === false) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t} else if (ret) {\r\n\t\t\t\t\titem = ret;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Add item to the main list\r\n\t\t\tobj.options.data.push(item);\r\n\r\n\t\t\t// Create DOM\r\n\t\t\tvar newItem = obj.createItem(item);\r\n\r\n\t\t\t// Append DOM to the list\r\n\t\t\tcontent.appendChild(newItem.element);\r\n\r\n\t\t\t// Callback\r\n\t\t\tif (typeof (obj.options.oninsert) == 'function') {\r\n\t\t\t\tobj.options.oninsert(obj, item, newItem);\r\n\t\t\t}\r\n\r\n\t\t\t// Show content\r\n\t\t\tif (content.style.display == 'none') {\r\n\t\t\t\tcontent.style.display = '';\r\n\t\t\t}\r\n\r\n\t\t\t// Search?\r\n\t\t\tif (obj.results) {\r\n\t\t\t\tobj.results.push(newItem);\r\n\t\t\t}\r\n\r\n\t\t\treturn item;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Create a new item\r\n\t\t */\r\n\t\tobj.createItem = function (data, group, groupName) {\r\n\t\t\t// Keep the correct source of data\r\n\t\t\tif (!obj.options.format) {\r\n\t\t\t\tif (!data.value && data.id !== undefined) {\r\n\t\t\t\t\tdata.value = data.id;\r\n\t\t\t\t\t//delete data.id;\r\n\t\t\t\t}\r\n\t\t\t\tif (!data.text && data.name !== undefined) {\r\n\t\t\t\t\tdata.text = data.name;\r\n\t\t\t\t\t//delete data.name;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (!data.id && data.value !== undefined) {\r\n\t\t\t\t\tdata.id = data.value;\r\n\t\t\t\t\t//delete data.value;\r\n\t\t\t\t}\r\n\t\t\t\tif (!data.name && data.text !== undefined) {\r\n\t\t\t\t\tdata.name = data.text\r\n\t\t\t\t\t//delete data.text;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Create item\r\n\t\t\tvar item = {};\r\n\t\t\titem.element = document.createElement('div');\r\n\t\t\titem.element.className = 'jdropdown-item';\r\n\t\t\titem.element.indexValue = obj.items.length;\r\n\t\t\titem.data = data;\r\n\r\n\t\t\t// Groupd DOM\r\n\t\t\tif (group) {\r\n\t\t\t\titem.group = group;\r\n\t\t\t}\r\n\r\n\t\t\t// Id\r\n\t\t\tif (data.id) {\r\n\t\t\t\titem.element.setAttribute('id', data.id);\r\n\t\t\t}\r\n\r\n\t\t\t// Disabled\r\n\t\t\tif (data.disabled == true) {\r\n\t\t\t\titem.element.setAttribute('data-disabled', true);\r\n\t\t\t}\r\n\r\n\t\t\t// Tooltip\r\n\t\t\tif (data.tooltip) {\r\n\t\t\t\titem.element.setAttribute('title', data.tooltip);\r\n\t\t\t}\r\n\r\n\t\t\t// Image\r\n\t\t\tif (data.image) {\r\n\t\t\t\tvar image = document.createElement('img');\r\n\t\t\t\timage.className = 'jdropdown-image';\r\n\t\t\t\timage.src = data.image;\r\n\t\t\t\tif (!data.title) {\r\n\t\t\t\t\timage.classList.add('jdropdown-image-small');\r\n\t\t\t\t}\r\n\t\t\t\titem.element.appendChild(image);\r\n\t\t\t} else if (data.icon) {\r\n\t\t\t\tvar icon = document.createElement('span');\r\n\t\t\t\ticon.className = \"jdropdown-icon material-icons\";\r\n\t\t\t\ticon.innerText = data.icon;\r\n\t\t\t\tif (!data.title) {\r\n\t\t\t\t\ticon.classList.add('jdropdown-icon-small');\r\n\t\t\t\t}\r\n\t\t\t\tif (data.color) {\r\n\t\t\t\t\ticon.style.color = data.color;\r\n\t\t\t\t}\r\n\t\t\t\titem.element.appendChild(icon);\r\n\t\t\t} else if (data.color) {\r\n\t\t\t\tvar color = document.createElement('div');\r\n\t\t\t\tcolor.className = 'jdropdown-color';\r\n\t\t\t\tcolor.style.backgroundColor = data.color;\r\n\t\t\t\titem.element.appendChild(color);\r\n\t\t\t}\r\n\r\n\t\t\t// Set content\r\n\t\t\tif (!obj.options.format) {\r\n\t\t\t\tvar text = data.text;\r\n\t\t\t} else {\r\n\t\t\t\tvar text = data.name;\r\n\t\t\t}\r\n\r\n\t\t\tvar node = document.createElement('div');\r\n\t\t\tnode.className = 'jdropdown-description';\r\n\t\t\tnode.textContent = text || '&nbsp;';\r\n\r\n\t\t\t// Title\r\n\t\t\tif (data.title) {\r\n\t\t\t\tvar title = document.createElement('div');\r\n\t\t\t\ttitle.className = 'jdropdown-title';\r\n\t\t\t\ttitle.innerText = data.title;\r\n\t\t\t\tnode.appendChild(title);\r\n\t\t\t}\r\n\r\n\t\t\t// Set content\r\n\t\t\tif (!obj.options.format) {\r\n\t\t\t\tvar val = data.value;\r\n\t\t\t} else {\r\n\t\t\t\tvar val = data.id;\r\n\t\t\t}\r\n\r\n\t\t\t// Value\r\n\t\t\tif (obj.value[val]) {\r\n\t\t\t\titem.element.classList.add('jdropdown-selected');\r\n\t\t\t\titem.selected = true;\r\n\t\t\t}\r\n\r\n\t\t\t// Keep DOM accessible\r\n\t\t\tobj.items.push(item);\r\n\r\n\t\t\t// Add node to item\r\n\t\t\titem.element.appendChild(node);\r\n\r\n\t\t\treturn item;\r\n\t\t}\r\n\r\n\t\tobj.appendData = function (data) {\r\n\t\t\t// Create elements\r\n\t\t\tif (data.length) {\r\n\t\t\t\t// Helpers\r\n\t\t\t\tvar items = [];\r\n\t\t\t\tvar groups = [];\r\n\r\n\t\t\t\t// Prepare data\r\n\t\t\t\tfor (var i = 0; i < data.length; i++) {\r\n\t\t\t\t\t// Process groups\r\n\t\t\t\t\tif (data[i].group) {\r\n\t\t\t\t\t\tif (!groups[data[i].group]) {\r\n\t\t\t\t\t\t\tgroups[data[i].group] = [];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tgroups[data[i].group].push(i);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\titems.push(i);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Number of items counter\r\n\t\t\t\tvar counter = 0;\r\n\r\n\t\t\t\t// Groups\r\n\t\t\t\tvar groupNames = Object.keys(groups);\r\n\r\n\t\t\t\t// Append groups in case exists\r\n\t\t\t\tif (groupNames.length > 0) {\r\n\t\t\t\t\tfor (var i = 0; i < groupNames.length; i++) {\r\n\t\t\t\t\t\t// Group container\r\n\t\t\t\t\t\tvar group = document.createElement('div');\r\n\t\t\t\t\t\tgroup.className = 'jdropdown-group';\r\n\t\t\t\t\t\t// Group name\r\n\t\t\t\t\t\tvar groupName = document.createElement('div');\r\n\t\t\t\t\t\tgroupName.className = 'jdropdown-group-name';\r\n\t\t\t\t\t\tgroupName.textContent = groupNames[i];\r\n\t\t\t\t\t\t// Group arrow\r\n\t\t\t\t\t\tvar groupArrow = document.createElement('i');\r\n\t\t\t\t\t\tgroupArrow.className = 'jdropdown-group-arrow jdropdown-group-arrow-down';\r\n\t\t\t\t\t\tgroupName.appendChild(groupArrow);\r\n\t\t\t\t\t\t// Group items\r\n\t\t\t\t\t\tvar groupContent = document.createElement('div');\r\n\t\t\t\t\t\tgroupContent.className = 'jdropdown-group-items';\r\n\t\t\t\t\t\tfor (var j = 0; j < groups[groupNames[i]].length; j++) {\r\n\t\t\t\t\t\t\tvar item = obj.createItem(data[groups[groupNames[i]][j]], group, groupNames[i]);\r\n\r\n\t\t\t\t\t\t\tif (obj.options.lazyLoading == false || counter < 200) {\r\n\t\t\t\t\t\t\t\tgroupContent.appendChild(item.element);\r\n\t\t\t\t\t\t\t\tcounter++;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// Group itens\r\n\t\t\t\t\t\tgroup.appendChild(groupName);\r\n\t\t\t\t\t\tgroup.appendChild(groupContent);\r\n\t\t\t\t\t\t// Keep group DOM\r\n\t\t\t\t\t\tobj.groups.push(group);\r\n\t\t\t\t\t\t// Only add to the screen if children on the group\r\n\t\t\t\t\t\tif (groupContent.children.length > 0) {\r\n\t\t\t\t\t\t\t// Add DOM to the content\r\n\t\t\t\t\t\t\tcontent.appendChild(group);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (items.length) {\r\n\t\t\t\t\tfor (var i = 0; i < items.length; i++) {\r\n\t\t\t\t\t\tvar item = obj.createItem(data[items[i]]);\r\n\t\t\t\t\t\tif (obj.options.lazyLoading == false || counter < 200) {\r\n\t\t\t\t\t\t\tcontent.appendChild(item.element);\r\n\t\t\t\t\t\t\tcounter++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tobj.setData = function (data) {\r\n\t\t\t// Reset current value\r\n\t\t\tresetValue();\r\n\r\n\t\t\t// Make sure the content container is blank\r\n\t\t\tcontent.textContent = '';\r\n\r\n\t\t\t// Reset\r\n\t\t\tobj.header.value = '';\r\n\r\n\t\t\t// Reset items and values\r\n\t\t\tobj.items = [];\r\n\r\n\t\t\t// Prepare data\r\n\t\t\tif (data && data.length) {\r\n\t\t\t\tfor (var i = 0; i < data.length; i++) {\r\n\t\t\t\t\t// Compatibility\r\n\t\t\t\t\tif (typeof (data[i]) != 'object') {\r\n\t\t\t\t\t\t// Correct format\r\n\t\t\t\t\t\tif (!obj.options.format) {\r\n\t\t\t\t\t\t\tdata[i] = {\r\n\t\t\t\t\t\t\t\tvalue: data[i],\r\n\t\t\t\t\t\t\t\ttext: data[i]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tdata[i] = {\r\n\t\t\t\t\t\t\t\tid: data[i],\r\n\t\t\t\t\t\t\t\tname: data[i]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Append data\r\n\t\t\t\tobj.appendData(data);\r\n\r\n\t\t\t\t// Update data\r\n\t\t\t\tobj.options.data = data;\r\n\t\t\t} else {\r\n\t\t\t\t// Update data\r\n\t\t\t\tobj.options.data = [];\r\n\t\t\t}\r\n\r\n\t\t\tobj.close();\r\n\t\t}\r\n\r\n\t\tobj.getData = function () {\r\n\t\t\treturn obj.options.data;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Get position of the item\r\n\t\t */\r\n\t\tobj.getPosition = function (val) {\r\n\t\t\tfor (var i = 0; i < obj.items.length; i++) {\r\n\t\t\t\tif (Value(i) == val) {\r\n\t\t\t\t\treturn i;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Get dropdown current text\r\n\t\t */\r\n\t\tobj.getText = function (asArray) {\r\n\t\t\t// Get value\r\n\t\t\tvar v = getText();\r\n\t\t\t// Return value\r\n\t\t\tif (asArray) {\r\n\t\t\t\treturn v;\r\n\t\t\t} else {\r\n\t\t\t\treturn v.join('; ');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Get dropdown current value\r\n\t\t */\r\n\t\tobj.getValue = function (asArray) {\r\n\t\t\t// Get value\r\n\t\t\tvar v = getValue();\r\n\t\t\t// Return value\r\n\t\t\tif (asArray) {\r\n\t\t\t\treturn v;\r\n\t\t\t} else {\r\n\t\t\t\treturn v.join(';');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Change event\r\n\t\t */\r\n\t\tvar change = function (oldValue) {\r\n\t\t\t// Lemonade JS\r\n\t\t\tif (el.value != obj.options.value) {\r\n\t\t\t\tel.value = obj.options.value;\r\n\t\t\t\tif (typeof (el.oninput) == 'function') {\r\n\t\t\t\t\tel.oninput({\r\n\t\t\t\t\t\ttype: 'input',\r\n\t\t\t\t\t\ttarget: el,\r\n\t\t\t\t\t\tvalue: el.value\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Events\r\n\t\t\tif (typeof (obj.options.onchange) == 'function') {\r\n\t\t\t\tobj.options.onchange(el, obj, oldValue, obj.options.value);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Set value\r\n\t\t */\r\n\t\tobj.setValue = function (newValue) {\r\n\t\t\t// Current value\r\n\t\t\tvar oldValue = obj.getValue();\r\n\t\t\t// New value\r\n\t\t\tif (Array.isArray(newValue)) {\r\n\t\t\t\tnewValue = newValue.join(';')\r\n\t\t\t}\r\n\r\n\t\t\tif (oldValue !== newValue) {\r\n\t\t\t\t// Set value\r\n\t\t\t\tapplyValue(newValue);\r\n\r\n\t\t\t\t// Change\r\n\t\t\t\tchange(oldValue);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tobj.resetSelected = function () {\r\n\t\t\tobj.setValue(null);\r\n\t\t}\r\n\r\n\t\tobj.selectIndex = function (index, force) {\r\n\t\t\t// Make sure is a number\r\n\t\t\tvar index = parseInt(index);\r\n\r\n\t\t\t// Only select those existing elements\r\n\t\t\tif (obj.items && obj.items[index] && (force === true || obj.items[index].data.disabled !== true)) {\r\n\t\t\t\t// Reset cursor to a new position\r\n\t\t\t\tobj.setCursor(index, false);\r\n\r\n\t\t\t\t// Behaviour\r\n\t\t\t\tif (!obj.options.multiple) {\r\n\t\t\t\t\t// Update value\r\n\t\t\t\t\tif (obj.items[index].selected) {\r\n\t\t\t\t\t\tobj.setValue(null);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tobj.setValue(Value(index));\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Close component\r\n\t\t\t\t\tobj.close();\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Old value\r\n\t\t\t\t\tvar oldValue = obj.options.value;\r\n\r\n\t\t\t\t\t// Toggle option\r\n\t\t\t\t\tif (obj.items[index].selected) {\r\n\t\t\t\t\t\tobj.items[index].element.classList.remove('jdropdown-selected');\r\n\t\t\t\t\t\tobj.items[index].selected = false;\r\n\r\n\t\t\t\t\t\tdelete obj.value[Value(index)];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// Select element\r\n\t\t\t\t\t\tobj.items[index].element.classList.add('jdropdown-selected');\r\n\t\t\t\t\t\tobj.items[index].selected = true;\r\n\r\n\t\t\t\t\t\t// Set value\r\n\t\t\t\t\t\tobj.value[Value(index)] = Text(index);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Global value\r\n\t\t\t\t\tobj.options.value = Object.keys(obj.value).join(';');\r\n\r\n\t\t\t\t\t// Update labels for multiple dropdown\r\n\t\t\t\t\tif (obj.options.autocomplete == false) {\r\n\t\t\t\t\t\tobj.header.value = getText().join('; ');\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Events\r\n\t\t\t\t\tchange(oldValue);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tobj.selectItem = function (item) {\r\n\t\t\tobj.selectIndex(item.indexValue);\r\n\t\t}\r\n\r\n\t\tvar exists = function (k, result) {\r\n\t\t\tfor (var j = 0; j < result.length; j++) {\r\n\t\t\t\tif (!obj.options.format) {\r\n\t\t\t\t\tif (result[j].value == k) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (result[j].id == k) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tobj.find = function (str) {\r\n\t\t\tif (obj.search == str.trim()) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t// Search term\r\n\t\t\tobj.search = str;\r\n\r\n\t\t\t// Reset index\r\n\t\t\tobj.setCursor();\r\n\r\n\t\t\t// Remove nodes from all groups\r\n\t\t\tif (obj.groups.length) {\r\n\t\t\t\tfor (var i = 0; i < obj.groups.length; i++) {\r\n\t\t\t\t\tobj.groups[i].lastChild.textContent = '';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Remove all nodes\r\n\t\t\tcontent.textContent = '';\r\n\r\n\t\t\t// Remove current items in the remote search\r\n\t\t\tif (obj.options.remoteSearch == true) {\r\n\t\t\t\t// Reset results\r\n\t\t\t\tobj.results = null;\r\n\t\t\t\t// URL\r\n\t\t\t\tvar url = obj.options.url;\r\n\r\n\t\t\t\t// Ajax call\r\n\t\t\t\tlet o = {\r\n\t\t\t\t\turl: url,\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\tdata: { q: str },\r\n\t\t\t\t\tdataType: 'json',\r\n\t\t\t\t\tsuccess: function (result) {\r\n\t\t\t\t\t\t// Reset items\r\n\t\t\t\t\t\tobj.items = [];\r\n\r\n\t\t\t\t\t\t// Add the current selected items to the results in case they are not there\r\n\t\t\t\t\t\tvar current = Object.keys(obj.value);\r\n\t\t\t\t\t\tif (current.length) {\r\n\t\t\t\t\t\t\tfor (var i = 0; i < current.length; i++) {\r\n\t\t\t\t\t\t\t\tif (!exists(current[i], result)) {\r\n\t\t\t\t\t\t\t\t\tif (!obj.options.format) {\r\n\t\t\t\t\t\t\t\t\t\tresult.unshift({value: current[i], text: obj.value[current[i]]});\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tresult.unshift({id: current[i], name: obj.value[current[i]]});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// Append data\r\n\t\t\t\t\t\tobj.appendData(result);\r\n\t\t\t\t\t\t// Show or hide results\r\n\t\t\t\t\t\tif (!result.length) {\r\n\t\t\t\t\t\t\tcontent.style.display = 'none';\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tcontent.style.display = '';\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (typeof(obj.options.onsearch) === 'function') {\r\n\t\t\t\t\t\t\tobj.options.onsearch(obj, result);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (typeof(obj.options.onbeforesearch) === 'function') {\r\n\t\t\t\t\tlet ret = obj.options.onbeforesearch(obj, o);\r\n\t\t\t\t\tif (ret === false) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t} else if (typeof(ret) === 'object') {\r\n\t\t\t\t\t\to = ret;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Remote search\r\n\t\t\t\tajax(o);\r\n\t\t\t} else {\r\n\t\t\t\t// Search terms\r\n\t\t\t\tstr = new RegExp(str, 'gi');\r\n\r\n\t\t\t\t// Reset search\r\n\t\t\t\tvar results = [];\r\n\r\n\t\t\t\t// Append options\r\n\t\t\t\tfor (var i = 0; i < obj.items.length; i++) {\r\n\t\t\t\t\t// Item label\r\n\t\t\t\t\tvar label = Text(i);\r\n\t\t\t\t\t// Item title\r\n\t\t\t\t\tvar title = obj.items[i].data.title || '';\r\n\t\t\t\t\t// Group name\r\n\t\t\t\t\tvar groupName = obj.items[i].data.group || '';\r\n\t\t\t\t\t// Synonym\r\n\t\t\t\t\tvar synonym = obj.items[i].data.synonym || '';\r\n\t\t\t\t\tif (synonym) {\r\n\t\t\t\t\t\tsynonym = synonym.join(' ');\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (str == null || obj.items[i].selected == true || label.match(str) || title.match(str) || groupName.match(str) || synonym.match(str)) {\r\n\t\t\t\t\t\tresults.push(obj.items[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!results.length) {\r\n\t\t\t\t\tcontent.style.display = 'none';\r\n\r\n\t\t\t\t\t// Results\r\n\t\t\t\t\tobj.results = null;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcontent.style.display = '';\r\n\r\n\t\t\t\t\t// Results\r\n\t\t\t\t\tobj.results = results;\r\n\r\n\t\t\t\t\t// Show 200 items at once\r\n\t\t\t\t\tvar number = results.length || 0;\r\n\r\n\t\t\t\t\t// Lazyloading\r\n\t\t\t\t\tif (obj.options.lazyLoading == true && number > 200) {\r\n\t\t\t\t\t\tnumber = 200;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfor (var i = 0; i < number; i++) {\r\n\t\t\t\t\t\tif (obj.results[i].group) {\r\n\t\t\t\t\t\t\tif (!obj.results[i].group.parentNode) {\r\n\t\t\t\t\t\t\t\tcontent.appendChild(obj.results[i].group);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tobj.results[i].group.lastChild.appendChild(obj.results[i].element);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tcontent.appendChild(obj.results[i].element);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Auto focus\r\n\t\t\tif (obj.options.autofocus == true) {\r\n\t\t\t\tobj.first();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tobj.open = function () {\r\n\t\t\t// Focus\r\n\t\t\tif (!el.classList.contains('jdropdown-focus')) {\r\n\t\t\t\t// Current dropdown\r\n\t\t\t\tComponent.current = obj;\r\n\r\n\t\t\t\t// Start tracking\r\n\t\t\t\tTracking(obj, true);\r\n\r\n\t\t\t\t// Add focus\r\n\t\t\t\tel.classList.add('jdropdown-focus');\r\n\r\n\t\t\t\t// Animation\r\n\t\t\t\tif (helpers.getWindowWidth() < 800) {\r\n\t\t\t\t\tif (obj.options.type == null || obj.options.type == 'picker') {\r\n\t\t\t\t\t\tanimation.slideBottom(container, 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Filter\r\n\t\t\t\tif (obj.options.autocomplete == true) {\r\n\t\t\t\t\tobj.header.value = obj.search;\r\n\t\t\t\t\tobj.header.focus();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Set cursor for the first or first selected element\r\n\t\t\t\tvar k = getValue();\r\n\t\t\t\tif (k[0]) {\r\n\t\t\t\t\tvar cursor = obj.getPosition(k[0]);\r\n\t\t\t\t\tif (cursor !== false) {\r\n\t\t\t\t\t\tobj.setCursor(cursor);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Container Size\r\n\t\t\t\tif (!obj.options.type || obj.options.type == 'default') {\r\n\t\t\t\t\tvar rect = el.getBoundingClientRect();\r\n\t\t\t\t\tvar rectContainer = container.getBoundingClientRect();\r\n\r\n\t\t\t\t\tif (obj.options.position) {\r\n\t\t\t\t\t\tcontainer.style.position = 'fixed';\r\n\t\t\t\t\t\tif (window.innerHeight < rect.bottom + rectContainer.height) {\r\n\t\t\t\t\t\t\tcontainer.style.top = '';\r\n\t\t\t\t\t\t\tcontainer.style.bottom = (window.innerHeight - rect.top) + 1 + 'px';\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tcontainer.style.top = rect.bottom + 'px';\r\n\t\t\t\t\t\t\tcontainer.style.bottom = '';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcontainer.style.left = rect.left + 'px';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (window.innerHeight < rect.bottom + rectContainer.height) {\r\n\t\t\t\t\t\t\tcontainer.style.top = '';\r\n\t\t\t\t\t\t\tcontainer.style.bottom = rect.height + 1 + 'px';\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tcontainer.style.top = '';\r\n\t\t\t\t\t\t\tcontainer.style.bottom = '';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcontainer.style.minWidth = rect.width + 'px';\r\n\r\n\t\t\t\t\tif (obj.options.maxWidth) {\r\n\t\t\t\t\t\tcontainer.style.maxWidth = obj.options.maxWidth;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!obj.items.length && obj.options.autocomplete == true) {\r\n\t\t\t\t\t\tcontent.style.display = 'none';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcontent.style.display = '';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Events\r\n\t\t\tif (typeof (obj.options.onopen) == 'function') {\r\n\t\t\t\tobj.options.onopen(el);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tobj.close = function (ignoreEvents) {\r\n\t\t\tif (el.classList.contains('jdropdown-focus')) {\r\n\t\t\t\t// Update labels\r\n\t\t\t\tobj.header.value = obj.getText();\r\n\t\t\t\t// Remove cursor\r\n\t\t\t\tobj.setCursor();\r\n\t\t\t\t// Events\r\n\t\t\t\tif (!ignoreEvents && typeof (obj.options.onclose) == 'function') {\r\n\t\t\t\t\tobj.options.onclose(el);\r\n\t\t\t\t}\r\n\t\t\t\t// Blur\r\n\t\t\t\tif (obj.header.blur) {\r\n\t\t\t\t\tobj.header.blur();\r\n\t\t\t\t}\r\n\t\t\t\t// Remove focus\r\n\t\t\t\tel.classList.remove('jdropdown-focus');\r\n\t\t\t\t// Start tracking\r\n\t\t\t\tTracking(obj, false);\r\n\t\t\t\t// Current dropdown\r\n\t\t\t\tComponent.current = null;\r\n\t\t\t}\r\n\r\n\t\t\treturn obj.getValue();\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Set cursor\r\n\t\t */\r\n\t\tobj.setCursor = function (index, setPosition) {\r\n\t\t\t// Remove current cursor\r\n\t\t\tif (obj.currentIndex != null) {\r\n\t\t\t\t// Remove visual cursor\r\n\t\t\t\tif (obj.items && obj.items[obj.currentIndex]) {\r\n\t\t\t\t\tobj.items[obj.currentIndex].element.classList.remove('jdropdown-cursor');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (index == undefined) {\r\n\t\t\t\tobj.currentIndex = null;\r\n\t\t\t} else {\r\n\t\t\t\tindex = parseInt(index);\r\n\r\n\t\t\t\t// Cursor only for visible items\r\n\t\t\t\tif (obj.items[index].element.parentNode) {\r\n\t\t\t\t\tobj.items[index].element.classList.add('jdropdown-cursor');\r\n\t\t\t\t\tobj.currentIndex = index;\r\n\r\n\t\t\t\t\t// Update scroll to the cursor element\r\n\t\t\t\t\tif (setPosition !== false && obj.items[obj.currentIndex].element) {\r\n\t\t\t\t\t\tvar container = content.scrollTop;\r\n\t\t\t\t\t\tvar element = obj.items[obj.currentIndex].element;\r\n\t\t\t\t\t\tcontent.scrollTop = element.offsetTop - element.scrollTop + element.clientTop - 95;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Compatibility\r\n\t\tobj.resetCursor = obj.setCursor;\r\n\t\tobj.updateCursor = obj.setCursor;\r\n\r\n\t\t/**\r\n\t\t * Reset cursor and selected items\r\n\t\t */\r\n\t\tobj.reset = function () {\r\n\t\t\t// Reset cursor\r\n\t\t\tobj.setCursor();\r\n\r\n\t\t\t// Reset selected\r\n\t\t\tobj.setValue(null);\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * First available item\r\n\t\t */\r\n\t\tobj.first = function () {\r\n\t\t\tif (obj.options.lazyLoading === true) {\r\n\t\t\t\tobj.loadFirst();\r\n\t\t\t}\r\n\r\n\t\t\tvar items = content.querySelectorAll('.jdropdown-item');\r\n\t\t\tif (items.length) {\r\n\t\t\t\tvar newIndex = items[0].indexValue;\r\n\t\t\t\tobj.setCursor(newIndex);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Last available item\r\n\t\t */\r\n\t\tobj.last = function () {\r\n\t\t\tif (obj.options.lazyLoading === true) {\r\n\t\t\t\tobj.loadLast();\r\n\t\t\t}\r\n\r\n\t\t\tvar items = content.querySelectorAll('.jdropdown-item');\r\n\t\t\tif (items.length) {\r\n\t\t\t\tvar newIndex = items[items.length - 1].indexValue;\r\n\t\t\t\tobj.setCursor(newIndex);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tobj.next = function (letter) {\r\n\t\t\tvar newIndex = null;\r\n\r\n\t\t\tif (letter) {\r\n\t\t\t\tif (letter.length == 1) {\r\n\t\t\t\t\t// Current index\r\n\t\t\t\t\tvar current = obj.currentIndex || -1;\r\n\t\t\t\t\t// Letter\r\n\t\t\t\t\tletter = letter.toLowerCase();\r\n\r\n\t\t\t\t\tvar e = null;\r\n\t\t\t\t\tvar l = null;\r\n\t\t\t\t\tvar items = content.querySelectorAll('.jdropdown-item');\r\n\t\t\t\t\tif (items.length) {\r\n\t\t\t\t\t\tfor (var i = 0; i < items.length; i++) {\r\n\t\t\t\t\t\t\tif (items[i].indexValue > current) {\r\n\t\t\t\t\t\t\t\tif (e = obj.items[items[i].indexValue]) {\r\n\t\t\t\t\t\t\t\t\tif (l = e.element.innerText[0]) {\r\n\t\t\t\t\t\t\t\t\t\tl = l.toLowerCase();\r\n\t\t\t\t\t\t\t\t\t\tif (letter == l) {\r\n\t\t\t\t\t\t\t\t\t\t\tnewIndex = items[i].indexValue;\r\n\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tobj.setCursor(newIndex);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (obj.currentIndex == undefined || obj.currentIndex == null) {\r\n\t\t\t\t\tobj.first();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar element = obj.items[obj.currentIndex].element;\r\n\r\n\t\t\t\t\tvar next = element.nextElementSibling;\r\n\t\t\t\t\tif (next) {\r\n\t\t\t\t\t\tif (next.classList.contains('jdropdown-group')) {\r\n\t\t\t\t\t\t\tnext = next.lastChild.firstChild;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tnewIndex = next.indexValue;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (element.parentNode.classList.contains('jdropdown-group-items')) {\r\n\t\t\t\t\t\t\tif (next = element.parentNode.parentNode.nextElementSibling) {\r\n\t\t\t\t\t\t\t\tif (next.classList.contains('jdropdown-group')) {\r\n\t\t\t\t\t\t\t\t\tnext = next.lastChild.firstChild;\r\n\t\t\t\t\t\t\t\t} else if (next.classList.contains('jdropdown-item')) {\r\n\t\t\t\t\t\t\t\t\tnewIndex = next.indexValue;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tnext = null;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (next) {\r\n\t\t\t\t\t\t\t\tnewIndex = next.indexValue;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (newIndex !== null) {\r\n\t\t\t\t\t\tobj.setCursor(newIndex);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tobj.prev = function () {\r\n\t\t\tvar newIndex = null;\r\n\r\n\t\t\tif (obj.currentIndex === null) {\r\n\t\t\t\tobj.first();\r\n\t\t\t} else {\r\n\t\t\t\tvar element = obj.items[obj.currentIndex].element;\r\n\r\n\t\t\t\tvar prev = element.previousElementSibling;\r\n\t\t\t\tif (prev) {\r\n\t\t\t\t\tif (prev.classList.contains('jdropdown-group')) {\r\n\t\t\t\t\t\tprev = prev.lastChild.lastChild;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tnewIndex = prev.indexValue;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (element.parentNode.classList.contains('jdropdown-group-items')) {\r\n\t\t\t\t\t\tif (prev = element.parentNode.parentNode.previousElementSibling) {\r\n\t\t\t\t\t\t\tif (prev.classList.contains('jdropdown-group')) {\r\n\t\t\t\t\t\t\t\tprev = prev.lastChild.lastChild;\r\n\t\t\t\t\t\t\t} else if (prev.classList.contains('jdropdown-item')) {\r\n\t\t\t\t\t\t\t\tnewIndex = prev.indexValue;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tprev = null\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (prev) {\r\n\t\t\t\t\t\t\tnewIndex = prev.indexValue;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (newIndex !== null) {\r\n\t\t\t\tobj.setCursor(newIndex);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tobj.loadFirst = function () {\r\n\t\t\t// Search\r\n\t\t\tif (obj.results) {\r\n\t\t\t\tvar results = obj.results;\r\n\t\t\t} else {\r\n\t\t\t\tvar results = obj.items;\r\n\t\t\t}\r\n\r\n\t\t\t// Show 200 items at once\r\n\t\t\tvar number = results.length || 0;\r\n\r\n\t\t\t// Lazyloading\r\n\t\t\tif (obj.options.lazyLoading == true && number > 200) {\r\n\t\t\t\tnumber = 200;\r\n\t\t\t}\r\n\r\n\t\t\t// Reset container\r\n\t\t\tcontent.textContent = '';\r\n\r\n\t\t\t// First 200 items\r\n\t\t\tfor (var i = 0; i < number; i++) {\r\n\t\t\t\tif (results[i].group) {\r\n\t\t\t\t\tif (!results[i].group.parentNode) {\r\n\t\t\t\t\t\tcontent.appendChild(results[i].group);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tresults[i].group.lastChild.appendChild(results[i].element);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcontent.appendChild(results[i].element);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Scroll go to the begin\r\n\t\t\tcontent.scrollTop = 0;\r\n\t\t}\r\n\r\n\t\tobj.loadLast = function () {\r\n\t\t\t// Search\r\n\t\t\tif (obj.results) {\r\n\t\t\t\tvar results = obj.results;\r\n\t\t\t} else {\r\n\t\t\t\tvar results = obj.items;\r\n\t\t\t}\r\n\r\n\t\t\t// Show first page\r\n\t\t\tvar number = results.length;\r\n\r\n\t\t\t// Max 200 items\r\n\t\t\tif (number > 200) {\r\n\t\t\t\tnumber = number - 200;\r\n\r\n\t\t\t\t// Reset container\r\n\t\t\t\tcontent.textContent = '';\r\n\r\n\t\t\t\t// First 200 items\r\n\t\t\t\tfor (var i = number; i < results.length; i++) {\r\n\t\t\t\t\tif (results[i].group) {\r\n\t\t\t\t\t\tif (!results[i].group.parentNode) {\r\n\t\t\t\t\t\t\tcontent.appendChild(results[i].group);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tresults[i].group.lastChild.appendChild(results[i].element);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcontent.appendChild(results[i].element);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Scroll go to the begin\r\n\t\t\t\tcontent.scrollTop = content.scrollHeight;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tobj.loadUp = function () {\r\n\t\t\tvar test = false;\r\n\r\n\t\t\t// Search\r\n\t\t\tif (obj.results) {\r\n\t\t\t\tvar results = obj.results;\r\n\t\t\t} else {\r\n\t\t\t\tvar results = obj.items;\r\n\t\t\t}\r\n\r\n\t\t\tvar items = content.querySelectorAll('.jdropdown-item');\r\n\t\t\tvar fistItem = items[0].indexValue;\r\n\t\t\tfistItem = obj.items[fistItem];\r\n\t\t\tvar index = results.indexOf(fistItem) - 1;\r\n\r\n\t\t\tif (index > 0) {\r\n\t\t\t\tvar number = 0;\r\n\r\n\t\t\t\twhile (index > 0 && results[index] && number < 200) {\r\n\t\t\t\t\tif (results[index].group) {\r\n\t\t\t\t\t\tif (!results[index].group.parentNode) {\r\n\t\t\t\t\t\t\tcontent.insertBefore(results[index].group, content.firstChild);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tresults[index].group.lastChild.insertBefore(results[index].element, results[index].group.lastChild.firstChild);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcontent.insertBefore(results[index].element, content.firstChild);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tindex--;\r\n\t\t\t\t\tnumber++;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// New item added\r\n\t\t\t\ttest = true;\r\n\t\t\t}\r\n\r\n\t\t\treturn test;\r\n\t\t}\r\n\r\n\t\tobj.loadDown = function () {\r\n\t\t\tvar test = false;\r\n\r\n\t\t\t// Search\r\n\t\t\tif (obj.results) {\r\n\t\t\t\tvar results = obj.results;\r\n\t\t\t} else {\r\n\t\t\t\tvar results = obj.items;\r\n\t\t\t}\r\n\r\n\t\t\tvar items = content.querySelectorAll('.jdropdown-item');\r\n\t\t\tvar lastItem = items[items.length - 1].indexValue;\r\n\t\t\tlastItem = obj.items[lastItem];\r\n\t\t\tvar index = results.indexOf(lastItem) + 1;\r\n\r\n\t\t\tif (index < results.length) {\r\n\t\t\t\tvar number = 0;\r\n\t\t\t\twhile (index < results.length && results[index] && number < 200) {\r\n\t\t\t\t\tif (results[index].group) {\r\n\t\t\t\t\t\tif (!results[index].group.parentNode) {\r\n\t\t\t\t\t\t\tcontent.appendChild(results[index].group);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tresults[index].group.lastChild.appendChild(results[index].element);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcontent.appendChild(results[index].element);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tindex++;\r\n\t\t\t\t\tnumber++;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// New item added\r\n\t\t\t\ttest = true;\r\n\t\t\t}\r\n\r\n\t\t\treturn test;\r\n\t\t}\r\n\r\n\t\tinit();\r\n\r\n\t\treturn obj;\r\n\t});\r\n\r\n\tComponent.keydown = function (e) {\r\n\t\tvar dropdown = null;\r\n\t\tif (dropdown = Component.current) {\r\n\t\t\tif (e.which == 13 || e.which == 9) {  // enter or tab\r\n\t\t\t\tif (dropdown.header.value && dropdown.currentIndex == null && dropdown.options.newOptions) {\r\n\t\t\t\t\t// if they typed something in, but it matched nothing, and newOptions are allowed, start that flow\r\n\t\t\t\t\tdropdown.add();\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Quick Select/Filter\r\n\t\t\t\t\tif (dropdown.currentIndex == null && dropdown.options.autocomplete == true && dropdown.header.value != \"\") {\r\n\t\t\t\t\t\tdropdown.find(dropdown.header.value);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdropdown.selectIndex(dropdown.currentIndex);\r\n\t\t\t\t}\r\n\t\t\t} else if (e.which == 38) {  // up arrow\r\n\t\t\t\tif (dropdown.currentIndex == null) {\r\n\t\t\t\t\tdropdown.first();\r\n\t\t\t\t} else if (dropdown.currentIndex > 0) {\r\n\t\t\t\t\tdropdown.prev();\r\n\t\t\t\t}\r\n\t\t\t\te.preventDefault();\r\n\t\t\t} else if (e.which == 40) {  // down arrow\r\n\t\t\t\tif (dropdown.currentIndex == null) {\r\n\t\t\t\t\tdropdown.first();\r\n\t\t\t\t} else if (dropdown.currentIndex + 1 < dropdown.items.length) {\r\n\t\t\t\t\tdropdown.next();\r\n\t\t\t\t}\r\n\t\t\t\te.preventDefault();\r\n\t\t\t} else if (e.which == 36) {\r\n\t\t\t\tdropdown.first();\r\n\t\t\t\tif (!e.target.classList.contains('jdropdown-header')) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t}\r\n\t\t\t} else if (e.which == 35) {\r\n\t\t\t\tdropdown.last();\r\n\t\t\t\tif (!e.target.classList.contains('jdropdown-header')) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t}\r\n\t\t\t} else if (e.which == 27) {\r\n\t\t\t\tdropdown.close();\r\n\t\t\t} else if (e.which == 33) {  // page up\r\n\t\t\t\tif (dropdown.currentIndex == null) {\r\n\t\t\t\t\tdropdown.first();\r\n\t\t\t\t} else if (dropdown.currentIndex > 0) {\r\n\t\t\t\t\tfor (var i = 0; i < 7; i++) {\r\n\t\t\t\t\t\tdropdown.prev()\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\te.preventDefault();\r\n\t\t\t} else if (e.which == 34) {  // page down\r\n\t\t\t\tif (dropdown.currentIndex == null) {\r\n\t\t\t\t\tdropdown.first();\r\n\t\t\t\t} else if (dropdown.currentIndex + 1 < dropdown.items.length) {\r\n\t\t\t\t\tfor (var i = 0; i < 7; i++) {\r\n\t\t\t\t\t\tdropdown.next()\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tComponent.mouseup = function (e) {\r\n\t\tvar element = helpers.findElement(e.target, 'jdropdown');\r\n\t\tif (element) {\r\n\t\t\tvar dropdown = element.dropdown;\r\n\t\t\tif (e.target.classList.contains('jdropdown-header')) {\r\n\t\t\t\tif (element.classList.contains('jdropdown-focus') && element.classList.contains('jdropdown-default')) {\r\n\t\t\t\t\tvar rect = element.getBoundingClientRect();\r\n\r\n\t\t\t\t\tif (e.changedTouches && e.changedTouches[0]) {\r\n\t\t\t\t\t\tvar x = e.changedTouches[0].clientX;\r\n\t\t\t\t\t\tvar y = e.changedTouches[0].clientY;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar x = e.clientX;\r\n\t\t\t\t\t\tvar y = e.clientY;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (rect.width - (x - rect.left) < 30) {\r\n\t\t\t\t\t\tif (e.target.classList.contains('jdropdown-add')) {\r\n\t\t\t\t\t\t\tdropdown.add();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tdropdown.close();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (dropdown.options.autocomplete == false) {\r\n\t\t\t\t\t\t\tdropdown.close();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdropdown.open();\r\n\t\t\t\t}\r\n\t\t\t} else if (e.target.classList.contains('jdropdown-group-name')) {\r\n\t\t\t\tvar items = e.target.nextSibling.children;\r\n\t\t\t\tif (e.target.nextSibling.style.display != 'none') {\r\n\t\t\t\t\tfor (var i = 0; i < items.length; i++) {\r\n\t\t\t\t\t\tif (items[i].style.display != 'none') {\r\n\t\t\t\t\t\t\tdropdown.selectItem(items[i]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (e.target.classList.contains('jdropdown-group-arrow')) {\r\n\t\t\t\tif (e.target.classList.contains('jdropdown-group-arrow-down')) {\r\n\t\t\t\t\te.target.classList.remove('jdropdown-group-arrow-down');\r\n\t\t\t\t\te.target.classList.add('jdropdown-group-arrow-up');\r\n\t\t\t\t\te.target.parentNode.nextSibling.style.display = 'none';\r\n\t\t\t\t} else {\r\n\t\t\t\t\te.target.classList.remove('jdropdown-group-arrow-up');\r\n\t\t\t\t\te.target.classList.add('jdropdown-group-arrow-down');\r\n\t\t\t\t\te.target.parentNode.nextSibling.style.display = '';\r\n\t\t\t\t}\r\n\t\t\t} else if (e.target.classList.contains('jdropdown-item')) {\r\n\t\t\t\tdropdown.selectItem(e.target);\r\n\t\t\t} else if (e.target.classList.contains('jdropdown-image')) {\r\n\t\t\t\tdropdown.selectItem(e.target.parentNode);\r\n\t\t\t} else if (e.target.classList.contains('jdropdown-description')) {\r\n\t\t\t\tdropdown.selectItem(e.target.parentNode);\r\n\t\t\t} else if (e.target.classList.contains('jdropdown-title')) {\r\n\t\t\t\tdropdown.selectItem(e.target.parentNode.parentNode);\r\n\t\t\t} else if (e.target.classList.contains('jdropdown-close') || e.target.classList.contains('jdropdown-backdrop')) {\r\n\t\t\t\tdropdown.close();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tComponent.extractFromDom = function (el, options) {\r\n\t\t// Keep reference\r\n\t\tvar select = el;\r\n\t\tif (!options) {\r\n\t\t\toptions = {};\r\n\t\t}\r\n\t\t// Prepare configuration\r\n\t\tif (el.getAttribute('multiple') && (!options || options.multiple == undefined)) {\r\n\t\t\toptions.multiple = true;\r\n\t\t}\r\n\t\tif (el.getAttribute('placeholder') && (!options || options.placeholder == undefined)) {\r\n\t\t\toptions.placeholder = el.getAttribute('placeholder');\r\n\t\t}\r\n\t\tif (el.getAttribute('data-autocomplete') && (!options || options.autocomplete == undefined)) {\r\n\t\t\toptions.autocomplete = true;\r\n\t\t}\r\n\t\tif (!options || options.width == undefined) {\r\n\t\t\toptions.width = el.offsetWidth;\r\n\t\t}\r\n\t\tif (el.value && (!options || options.value == undefined)) {\r\n\t\t\toptions.value = el.value;\r\n\t\t}\r\n\t\tif (!options || options.data == undefined) {\r\n\t\t\toptions.data = [];\r\n\t\t\tfor (var j = 0; j < el.children.length; j++) {\r\n\t\t\t\tif (el.children[j].tagName == 'OPTGROUP') {\r\n\t\t\t\t\tfor (var i = 0; i < el.children[j].children.length; i++) {\r\n\t\t\t\t\t\toptions.data.push({\r\n\t\t\t\t\t\t\tvalue: el.children[j].children[i].value,\r\n\t\t\t\t\t\t\ttext: el.children[j].children[i].textContent,\r\n\t\t\t\t\t\t\tgroup: el.children[j].getAttribute('label'),\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\toptions.data.push({\r\n\t\t\t\t\t\tvalue: el.children[j].value,\r\n\t\t\t\t\t\ttext: el.children[j].textContent,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!options || options.onchange == undefined) {\r\n\t\t\toptions.onchange = function (a, b, c, d) {\r\n\t\t\t\tif (options.multiple == true) {\r\n\t\t\t\t\tif (obj.items[b].classList.contains('jdropdown-selected')) {\r\n\t\t\t\t\t\tselect.options[b].setAttribute('selected', 'selected');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tselect.options[b].removeAttribute('selected');\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tselect.value = d;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Create DIV\r\n\t\tvar div = document.createElement('div');\r\n\t\tel.parentNode.insertBefore(div, el);\r\n\t\tel.style.display = 'none';\r\n\t\tel = div;\r\n\r\n\t\treturn {el: el, options: options};\r\n\t}\r\n\r\n\treturn Component;\r\n}\r\n\r\n/* harmony default export */ var dropdown = (Dropdown());\r\n;// CONCATENATED MODULE: ./src/plugins/picker.js\r\n\r\n\r\n\r\nfunction Picker(el, options) {\r\n\t// Already created, update options\r\n\tif (el.picker) {\r\n\t\treturn el.picker.setOptions(options, true);\r\n\t}\r\n\r\n\t// New instance\r\n\tvar obj = { type: 'picker' };\r\n\tobj.options = {};\r\n\r\n\tvar dropdownHeader = null;\r\n\tvar dropdownContent = null;\r\n\r\n\t/**\r\n\t * The element passed is a DOM element\r\n\t */\r\n\tvar isDOM = function(o) {\r\n\t\treturn (o instanceof Element || o instanceof HTMLDocument);\r\n\t}\r\n\r\n\t/**\r\n\t * Create the content options\r\n\t */\r\n\tvar createContent = function() {\r\n\t\tdropdownContent.innerHTML = '';\r\n\r\n\t\t// Create items\r\n\t\tvar keys = Object.keys(obj.options.data);\r\n\r\n\t\t// Go though all options\r\n\t\tfor (var i = 0; i < keys.length; i++) {\r\n\t\t\t// Item\r\n\t\t\tvar dropdownItem = document.createElement('div');\r\n\t\t\tdropdownItem.classList.add('jpicker-item');\r\n\t\t\tdropdownItem.k = keys[i];\r\n\t\t\tdropdownItem.v = obj.options.data[keys[i]];\r\n\t\t\t// Label\r\n\t\t\tvar item = obj.getLabel(keys[i], dropdownItem);\r\n\t\t\tif (isDOM(item)) {\r\n\t\t\t\tdropdownItem.appendChild(item);\r\n\t\t\t} else {\r\n\t\t\t\tdropdownItem.innerHTML = item;\r\n\t\t\t}\r\n\t\t\t// Append\r\n\t\t\tdropdownContent.appendChild(dropdownItem);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Set or reset the options for the picker\r\n\t */\r\n\tobj.setOptions = function(options, reset) {\r\n\t\t// Default configuration\r\n\t\tvar defaults = {\r\n\t\t\tvalue: 0,\r\n\t\t\tdata: null,\r\n\t\t\trender: null,\r\n\t\t\tonchange: null,\r\n\t\t\tonmouseover: null,\r\n\t\t\tonselect: null,\r\n\t\t\tonopen: null,\r\n\t\t\tonclose: null,\r\n\t\t\tonload: null,\r\n\t\t\twidth: null,\r\n\t\t\theader: true,\r\n\t\t\tright: false,\r\n\t\t\tbottom: false,\r\n\t\t\tcontent: false,\r\n\t\t\tcolumns: null,\r\n\t\t\tgrid: null,\r\n\t\t\theight: null,\r\n\t\t}\r\n\r\n\t\t// Legacy purpose only\r\n\t\tif (options && options.options) {\r\n\t\t\toptions.data = options.options;\r\n\t\t}\r\n\r\n\t\t// Loop through the initial configuration\r\n\t\tfor (var property in defaults) {\r\n\t\t\tif (options && options.hasOwnProperty(property)) {\r\n\t\t\t\tobj.options[property] = options[property];\r\n\t\t\t} else {\r\n\t\t\t\tif (typeof(obj.options[property]) == 'undefined' || reset === true) {\r\n\t\t\t\t\tobj.options[property] = defaults[property];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Start using the options\r\n\t\tif (obj.options.header === false) {\r\n\t\t\tdropdownHeader.style.display = 'none';\r\n\t\t} else {\r\n\t\t\tdropdownHeader.style.display = '';\r\n\t\t}\r\n\r\n\t\t// Width\r\n\t\tif (obj.options.width) {\r\n\t\t\tdropdownHeader.style.width = parseInt(obj.options.width) + 'px';\r\n\t\t} else {\r\n\t\t\tdropdownHeader.style.width = '';\r\n\t\t}\r\n\r\n\t\t// Height\r\n\t\tif (obj.options.height) {\r\n\t\t\tdropdownContent.style.maxHeight = obj.options.height + 'px';\r\n\t\t\tdropdownContent.style.overflow = 'scroll';\r\n\t\t} else {\r\n\t\t\tdropdownContent.style.overflow = '';\r\n\t\t}\r\n\r\n\t\tif (obj.options.columns > 0) {\r\n\t\t\tif (! obj.options.grid) {\r\n\t\t\t\tdropdownContent.classList.add('jpicker-columns');\r\n\t\t\t\tdropdownContent.style.width = obj.options.width ? obj.options.width : 36 * obj.options.columns + 'px';\r\n\t\t\t} else {\r\n\t\t\t\tdropdownContent.classList.add('jpicker-grid');\r\n\t\t\t\tdropdownContent.style.gridTemplateColumns = 'repeat(' + obj.options.grid + ', 1fr)';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (isNaN(parseInt(obj.options.value))) {\r\n\t\t\tobj.options.value = 0;\r\n\t\t}\r\n\r\n\t\t// Create list from data\r\n\t\tcreateContent();\r\n\r\n\t\t// Set value\r\n\t\tobj.setValue(obj.options.value);\r\n\r\n\t\t// Set options all returns the own instance\r\n\t\treturn obj;\r\n\t}\r\n\r\n\tobj.getValue = function() {\r\n\t\treturn obj.options.value;\r\n\t}\r\n\r\n\tobj.setValue = function(k, e) {\r\n\t\t// Set label\r\n\t\tobj.setLabel(k);\r\n\r\n\t\t// Update value\r\n\t\tobj.options.value = String(k);\r\n\r\n\t\t// Lemonade JS\r\n\t\tif (el.value != obj.options.value) {\r\n\t\t\tel.value = obj.options.value;\r\n\t\t\tif (typeof(el.oninput) == 'function') {\r\n\t\t\t\tel.oninput({\r\n\t\t\t\t\ttype: 'input',\r\n\t\t\t\t\ttarget: el,\r\n\t\t\t\t\tvalue: el.value\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (dropdownContent.children[k] && dropdownContent.children[k].getAttribute('type') !== 'generic') {\r\n\t\t\tobj.close();\r\n\t\t}\r\n\r\n\t\t// Call method\r\n\t\tif (e) {\r\n\t\t\tif (typeof (obj.options.onchange) == 'function') {\r\n\t\t\t\tvar v = obj.options.data[k];\r\n\r\n\t\t\t\tobj.options.onchange(el, obj, v, v, k, e);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tobj.getLabel = function(v, item) {\r\n\t\tvar label = obj.options.data[v] || null;\r\n\t\tif (typeof(obj.options.render) == 'function') {\r\n\t\t\tlabel = obj.options.render(label, item);\r\n\t\t}\r\n\t\treturn label;\r\n\t}\r\n\r\n\tobj.setLabel = function(v) {\r\n\t\tvar item;\r\n\r\n\t\tif (obj.options.content) {\r\n\t\t\titem = '<i class=\"material-icons\">' + obj.options.content + '</i>';\r\n\t\t} else {\r\n\t\t\titem = obj.getLabel(v, null);\r\n\t\t}\r\n\t\t// Label\r\n\t\tif (isDOM(item)) {\r\n\t\t\tdropdownHeader.innerHTML = '';\r\n\t\t\tdropdownHeader.appendChild(item);\r\n\t\t} else {\r\n\t\t\tdropdownHeader.innerHTML = item;\r\n\t\t}\r\n\t}\r\n\r\n\tobj.open = function() {\r\n\t\tif (! el.classList.contains('jpicker-focus')) {\r\n\t\t\t// Start tracking the element\r\n\t\t\tTracking(obj, true);\r\n\r\n\t\t\t// Open picker\r\n\t\t\tel.classList.add('jpicker-focus');\r\n\t\t\tel.focus();\r\n\r\n\t\t\tvar top = 0;\r\n\t\t\tvar left = 0;\r\n\r\n\t\t\tdropdownContent.style.marginLeft = '';\r\n\r\n\t\t\tvar rectHeader = dropdownHeader.getBoundingClientRect();\r\n\t\t\tvar rectContent = dropdownContent.getBoundingClientRect();\r\n\r\n\t\t\tif (window.innerHeight < rectHeader.bottom + rectContent.height || obj.options.bottom) {\r\n\t\t\t\ttop = -1 * (rectContent.height + 4);\r\n\t\t\t} else {\r\n\t\t\t\ttop = rectHeader.height + 4;\r\n\t\t\t}\r\n\r\n\t\t\tif (obj.options.right === true) {\r\n\t\t\t\tleft = -1 * rectContent.width + rectHeader.width;\r\n\t\t\t}\r\n\r\n\t\t\tif (rectContent.left + left < 0) {\r\n\t\t\t\tleft = left + rectContent.left + 10;\r\n\t\t\t}\r\n\t\t\tif (rectContent.left + rectContent.width > window.innerWidth) {\r\n\t\t\t\tleft = -1 * (10 + rectContent.left + rectContent.width - window.innerWidth);\r\n\t\t\t}\r\n\r\n\t\t\tdropdownContent.style.marginTop = parseInt(top) + 'px';\r\n\t\t\tdropdownContent.style.marginLeft = parseInt(left) + 'px';\r\n\r\n\t\t\t//dropdownContent.style.marginTop\r\n\t\t\tif (typeof obj.options.onopen == 'function') {\r\n\t\t\t\tobj.options.onopen(el, obj);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tobj.close = function() {\r\n\t\tif (el.classList.contains('jpicker-focus')) {\r\n\t\t\tel.classList.remove('jpicker-focus');\r\n\r\n\t\t\t// Start tracking the element\r\n\t\t\tTracking(obj, false);\r\n\r\n\t\t\tif (typeof obj.options.onclose == 'function') {\r\n\t\t\t\tobj.options.onclose(el, obj);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Create floating picker\r\n\t */\r\n\tvar init = function() {\r\n\t\t// Class\r\n\t\tel.classList.add('jpicker');\r\n\t\tel.setAttribute('tabindex', '900');\r\n\t\tel.onmousedown = function(e) {\r\n\t\t\tif (! el.classList.contains('jpicker-focus')) {\r\n\t\t\t\tobj.open();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Dropdown Header\r\n\t\tdropdownHeader = document.createElement('div');\r\n\t\tdropdownHeader.classList.add('jpicker-header');\r\n\r\n\t\t// Dropdown content\r\n\t\tdropdownContent = document.createElement('div');\r\n\t\tdropdownContent.classList.add('jpicker-content');\r\n\t\tdropdownContent.onclick = function(e) {\r\n\t\t\tvar item = helpers.findElement(e.target, 'jpicker-item');\r\n\t\t\tif (item) {\r\n\t\t\t\tif (item.parentNode === dropdownContent) {\r\n\t\t\t\t\t// Update label\r\n\t\t\t\t\tobj.setValue(item.k, e);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Append content and header\r\n\t\tel.appendChild(dropdownHeader);\r\n\t\tel.appendChild(dropdownContent);\r\n\r\n\t\t// Default value\r\n\t\tel.value = options.value || 0;\r\n\r\n\t\t// Set options\r\n\t\tobj.setOptions(options);\r\n\r\n\t\tif (typeof(obj.options.onload) == 'function') {\r\n\t\t\tobj.options.onload(el, obj);\r\n\t\t}\r\n\r\n\t\t// Change\r\n\t\tel.change = obj.setValue;\r\n\r\n\t\t// Global generic value handler\r\n\t\tel.val = function(val) {\r\n\t\t\tif (val === undefined) {\r\n\t\t\t\treturn obj.getValue();\r\n\t\t\t} else {\r\n\t\t\t\tobj.setValue(val);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Reference\r\n\t\tel.picker = obj;\r\n\t}\r\n\r\n\tinit();\r\n\r\n\treturn obj;\r\n}\r\n;// CONCATENATED MODULE: ./src/plugins/toolbar.js\r\n\r\n\r\n\r\n\r\n\r\nfunction Toolbar(el, options) {\r\n\t// New instance\r\n\tvar obj = { type:'toolbar' };\r\n\tobj.options = {};\r\n\r\n\t// Default configuration\r\n\tvar defaults = {\r\n\t\tapp: null,\r\n\t\tcontainer: false,\r\n\t\tbadge: false,\r\n\t\ttitle: false,\r\n\t\tresponsive: false,\r\n\t\tmaxWidth: null,\r\n\t\tbottom: true,\r\n\t\titems: [],\r\n\t}\r\n\r\n\t// Loop through our object\r\n\tfor (var property in defaults) {\r\n\t\tif (options && options.hasOwnProperty(property)) {\r\n\t\t\tobj.options[property] = options[property];\r\n\t\t} else {\r\n\t\t\tobj.options[property] = defaults[property];\r\n\t\t}\r\n\t}\r\n\r\n\tif (! el && options.app && options.app.el) {\r\n\t\tel = document.createElement('div');\r\n\t\toptions.app.el.appendChild(el);\r\n\t}\r\n\r\n\t// Arrow\r\n\tvar toolbarArrow = document.createElement('div');\r\n\ttoolbarArrow.classList.add('jtoolbar-item');\r\n\ttoolbarArrow.classList.add('jtoolbar-arrow');\r\n\r\n\tvar toolbarFloating = document.createElement('div');\r\n\ttoolbarFloating.classList.add('jtoolbar-floating');\r\n\ttoolbarArrow.appendChild(toolbarFloating);\r\n\r\n\tobj.selectItem = function(element) {\r\n\t\tvar elements = toolbarContent.children;\r\n\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\tif (element != elements[i]) {\r\n\t\t\t\telements[i].classList.remove('jtoolbar-selected');\r\n\t\t\t}\r\n\t\t}\r\n\t\telement.classList.add('jtoolbar-selected');\r\n\t}\r\n\r\n\tobj.hide = function() {\r\n\t\tanimation.slideBottom(el, 0, function() {\r\n\t\t\tel.style.display = 'none';\r\n\t\t});\r\n\t}\r\n\r\n\tobj.show = function() {\r\n\t\tel.style.display = '';\r\n\t\tanimation.slideBottom(el, 1);\r\n\t}\r\n\r\n\tobj.get = function() {\r\n\t\treturn el;\r\n\t}\r\n\r\n\tobj.setBadge = function(index, value) {\r\n\t\ttoolbarContent.children[index].children[1].firstChild.innerHTML = value;\r\n\t}\r\n\r\n\tobj.destroy = function() {\r\n\t\ttoolbar.remove();\r\n\t\tel.innerHTML = '';\r\n\t}\r\n\r\n\tobj.update = function(a, b) {\r\n\t\tfor (var i = 0; i < toolbarContent.children.length; i++) {\r\n\t\t\t// Toolbar element\r\n\t\t\tvar toolbarItem = toolbarContent.children[i];\r\n\t\t\t// State management\r\n\t\t\tif (typeof(toolbarItem.updateState) == 'function') {\r\n\t\t\t\ttoolbarItem.updateState(el, obj, toolbarItem, a, b);\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (var i = 0; i < toolbarFloating.children.length; i++) {\r\n\t\t\t// Toolbar element\r\n\t\t\tvar toolbarItem = toolbarFloating.children[i];\r\n\t\t\t// State management\r\n\t\t\tif (typeof(toolbarItem.updateState) == 'function') {\r\n\t\t\t\ttoolbarItem.updateState(el, obj, toolbarItem, a, b);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tobj.create = function(items) {\r\n\t\t// Reset anything in the toolbar\r\n\t\ttoolbarContent.innerHTML = '';\r\n\t\t// Create elements in the toolbar\r\n\t\tfor (var i = 0; i < items.length; i++) {\r\n\t\t\tvar toolbarItem = document.createElement('div');\r\n\t\t\ttoolbarItem.classList.add('jtoolbar-item');\r\n\r\n\t\t\tif (items[i].width) {\r\n\t\t\t\ttoolbarItem.style.width = parseInt(items[i].width) + 'px';\r\n\t\t\t}\r\n\r\n\t\t\tif (items[i].k) {\r\n\t\t\t\ttoolbarItem.k = items[i].k;\r\n\t\t\t}\r\n\r\n\t\t\tif (items[i].tooltip) {\r\n\t\t\t\ttoolbarItem.setAttribute('title', items[i].tooltip);\r\n\t\t\t}\r\n\r\n\t\t\t// Id\r\n\t\t\tif (items[i].id) {\r\n\t\t\t\ttoolbarItem.setAttribute('id', items[i].id);\r\n\t\t\t}\r\n\r\n\t\t\t// Selected\r\n\t\t\tif (items[i].updateState) {\r\n\t\t\t\ttoolbarItem.updateState = items[i].updateState;\r\n\t\t\t}\r\n\r\n\t\t\tif (items[i].active) {\r\n\t\t\t\ttoolbarItem.classList.add('jtoolbar-active');\r\n\t\t\t}\r\n\r\n\t\t\tif (items[i].disabled) {\r\n\t\t\t\ttoolbarItem.classList.add('jtoolbar-disabled');\r\n\t\t\t}\r\n\r\n\t\t\tif (items[i].type == 'select' || items[i].type == 'dropdown') {\r\n\t\t\t\tPicker(toolbarItem, items[i]);\r\n\t\t\t} else if (items[i].type == 'divisor') {\r\n\t\t\t\ttoolbarItem.classList.add('jtoolbar-divisor');\r\n\t\t\t} else if (items[i].type == 'label') {\r\n\t\t\t\ttoolbarItem.classList.add('jtoolbar-label');\r\n\t\t\t\ttoolbarItem.innerHTML = items[i].content;\r\n\t\t\t} else {\r\n\t\t\t\t// Material icons\r\n\t\t\t\tvar toolbarIcon = document.createElement('i');\r\n\t\t\t\tif (typeof(items[i].class) === 'undefined') {\r\n\t\t\t\t\ttoolbarIcon.classList.add('material-icons');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar c = items[i].class.split(' ');\r\n\t\t\t\t\tfor (var j = 0; j < c.length; j++) {\r\n\t\t\t\t\t\ttoolbarIcon.classList.add(c[j]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\ttoolbarIcon.innerHTML = items[i].content ? items[i].content : '';\r\n\t\t\t\ttoolbarItem.appendChild(toolbarIcon);\r\n\r\n\t\t\t\t// Badge options\r\n\t\t\t\tif (obj.options.badge == true) {\r\n\t\t\t\t\tvar toolbarBadge = document.createElement('div');\r\n\t\t\t\t\ttoolbarBadge.classList.add('jbadge');\r\n\t\t\t\t\tvar toolbarBadgeContent = document.createElement('div');\r\n\t\t\t\t\ttoolbarBadgeContent.innerHTML = items[i].badge ? items[i].badge : '';\r\n\t\t\t\t\ttoolbarBadge.appendChild(toolbarBadgeContent);\r\n\t\t\t\t\ttoolbarItem.appendChild(toolbarBadge);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Title\r\n\t\t\t\tif (items[i].title) {\r\n\t\t\t\t\tif (obj.options.title == true) {\r\n\t\t\t\t\t\tvar toolbarTitle = document.createElement('span');\r\n\t\t\t\t\t\ttoolbarTitle.innerHTML = items[i].title;\r\n\t\t\t\t\t\ttoolbarItem.appendChild(toolbarTitle);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttoolbarItem.setAttribute('title', items[i].title);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (obj.options.app && items[i].route) {\r\n\t\t\t\t\t// Route\r\n\t\t\t\t\ttoolbarItem.route = items[i].route;\r\n\t\t\t\t\t// Onclick for route\r\n\t\t\t\t\ttoolbarItem.onclick = function() {\r\n\t\t\t\t\t\tobj.options.app.pages(this.route);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// Create pages\r\n\t\t\t\t\tobj.options.app.pages(items[i].route, {\r\n\t\t\t\t\t\ttoolbarItem: toolbarItem,\r\n\t\t\t\t\t\tclosed: true\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Render\r\n\t\t\t\tif (typeof(items[i].render) === 'function') {\r\n\t\t\t\t\titems[i].render(toolbarItem, items[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (items[i].onclick) {\r\n\t\t\t\ttoolbarItem.onclick = items[i].onclick.bind(items[i], el, obj, toolbarItem);\r\n\t\t\t}\r\n\r\n\t\t\ttoolbarContent.appendChild(toolbarItem);\r\n\t\t}\r\n\r\n\t\t// Fits to the page\r\n\t\tsetTimeout(function() {\r\n\t\t\tobj.refresh();\r\n\t\t}, 0);\r\n\t}\r\n\r\n\tobj.open = function() {\r\n\t\ttoolbarArrow.classList.add('jtoolbar-arrow-selected');\r\n\r\n\t\tvar rectElement = el.getBoundingClientRect();\r\n\t\tvar rect = toolbarFloating.getBoundingClientRect();\r\n\t\tif (rect.bottom > window.innerHeight || obj.options.bottom) {\r\n\t\t\ttoolbarFloating.style.bottom = '0';\r\n\t\t} else {\r\n\t\t\ttoolbarFloating.style.removeProperty('bottom');\r\n\t\t}\r\n\r\n\t\ttoolbarFloating.style.right = '0';\r\n\r\n\t\ttoolbarArrow.children[0].focus();\r\n\t\t// Start tracking\r\n\t\tTracking(obj, true);\r\n\t}\r\n\r\n\tobj.close = function() {\r\n\t\ttoolbarArrow.classList.remove('jtoolbar-arrow-selected')\r\n\t\t// End tracking\r\n\t\tTracking(obj, false);\r\n\t}\r\n\r\n\tobj.refresh = function() {\r\n\t\tif (obj.options.responsive == true) {\r\n\t\t\t// Width of the c\r\n\t\t\tvar rect = el.parentNode.getBoundingClientRect();\r\n\t\t\tif (! obj.options.maxWidth) {\r\n\t\t\t\tobj.options.maxWidth = rect.width;\r\n\t\t\t}\r\n\t\t\t// Available parent space\r\n\t\t\tvar available = parseInt(obj.options.maxWidth);\r\n\t\t\t// Remove arrow\r\n\t\t\tif (toolbarArrow.parentNode) {\r\n\t\t\t\ttoolbarArrow.parentNode.removeChild(toolbarArrow);\r\n\t\t\t}\r\n\t\t\t// Move all items to the toolbar\r\n\t\t\twhile (toolbarFloating.firstChild) {\r\n\t\t\t\ttoolbarContent.appendChild(toolbarFloating.firstChild);\r\n\t\t\t}\r\n\t\t\t// Toolbar is larger than the parent, move elements to the floating element\r\n\t\t\tif (available < toolbarContent.offsetWidth) {\r\n\t\t\t\t// Give space to the floating element\r\n\t\t\t\tavailable -= 50;\r\n\t\t\t\t// Move to the floating option\r\n\t\t\t\twhile (toolbarContent.lastChild && available < toolbarContent.offsetWidth) {\r\n\t\t\t\t\ttoolbarFloating.insertBefore(toolbarContent.lastChild, toolbarFloating.firstChild);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// Show arrow\r\n\t\t\tif (toolbarFloating.children.length > 0) {\r\n\t\t\t\ttoolbarContent.appendChild(toolbarArrow);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tobj.setReadonly = function(state) {\r\n\t\tstate = state ? 'add' : 'remove';\r\n\t\tel.classList[state]('jtoolbar-disabled');\r\n\t}\r\n\r\n\tel.onclick = function(e) {\r\n\t\tvar element = helpers.findElement(e.target, 'jtoolbar-item');\r\n\t\tif (element) {\r\n\t\t\tobj.selectItem(element);\r\n\t\t}\r\n\r\n\t\tif (e.target.classList.contains('jtoolbar-arrow')) {\r\n\t\t\tobj.open();\r\n\t\t}\r\n\t}\r\n\r\n\twindow.addEventListener('resize', function() {\r\n\t\tobj.refresh();\r\n\t});\r\n\r\n\t// Toolbar\r\n\tel.classList.add('jtoolbar');\r\n\t// Reset content\r\n\tel.innerHTML = '';\r\n\t// Container\r\n\tif (obj.options.container == true) {\r\n\t\tel.classList.add('jtoolbar-container');\r\n\t}\r\n\t// Content\r\n\tvar toolbarContent = document.createElement('div');\r\n\tel.appendChild(toolbarContent);\r\n\t// Special toolbar for mobile applications\r\n\tif (obj.options.app) {\r\n\t\tel.classList.add('jtoolbar-mobile');\r\n\t}\r\n\t// Create toolbar\r\n\tobj.create(obj.options.items);\r\n\t// Shortcut\r\n\tel.toolbar = obj;\r\n\r\n\treturn obj;\r\n}\r\n;// CONCATENATED MODULE: ./src/plugins/editor.js\r\n\r\n\r\n\r\n\r\n\r\nfunction Editor() {\r\n\tvar Component = (function(el, options) {\r\n\t\t// New instance\r\n\t\tvar obj = { type:'editor' };\r\n\t\tobj.options = {};\r\n\r\n\t\t// Default configuration\r\n\t\tvar defaults = {\r\n\t\t\t// Load data from a remove location\r\n\t\t\turl: null,\r\n\t\t\t// Initial HTML content\r\n\t\t\tvalue: '',\r\n\t\t\t// Initial snippet\r\n\t\t\tsnippet: null,\r\n\t\t\t// Add toolbar\r\n\t\t\ttoolbar: true,\r\n\t\t\ttoolbarOnTop: false,\r\n\t\t\t// Website parser is to read websites and images from cross domain\r\n\t\t\tremoteParser: null,\r\n\t\t\t// Placeholder\r\n\t\t\tplaceholder: null,\r\n\t\t\t// Parse URL\r\n\t\t\tfilterPaste: true,\r\n\t\t\t// Accept drop files\r\n\t\t\tdropZone: true,\r\n\t\t\tdropAsSnippet: false,\r\n\t\t\tacceptImages: true,\r\n\t\t\tacceptFiles: false,\r\n\t\t\tmaxFileSize: 5000000,\r\n\t\t\tallowImageResize: true,\r\n\t\t\t// Style\r\n\t\t\tmaxHeight: null,\r\n\t\t\theight: null,\r\n\t\t\tfocus: false,\r\n\t\t\t// Events\r\n\t\t\tonclick: null,\r\n\t\t\tonfocus: null,\r\n\t\t\tonblur: null,\r\n\t\t\tonload: null,\r\n\t\t\tonkeyup: null,\r\n\t\t\tonkeydown: null,\r\n\t\t\tonchange: null,\r\n\t\t\textensions: null,\r\n\t\t\ttype: null,\r\n\t\t};\r\n\r\n\t\t// Loop through our object\r\n\t\tfor (var property in defaults) {\r\n\t\t\tif (options && options.hasOwnProperty(property)) {\r\n\t\t\t\tobj.options[property] = options[property];\r\n\t\t\t} else {\r\n\t\t\t\tobj.options[property] = defaults[property];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Private controllers\r\n\t\tvar editorTimer = null;\r\n\t\tvar editorAction = null;\r\n\t\tvar files = [];\r\n\r\n\t\t// Keep the reference for the container\r\n\t\tobj.el = el;\r\n\r\n\t\tif (typeof(obj.options.onclick) == 'function') {\r\n\t\t\tel.onclick = function(e) {\r\n\t\t\t\tobj.options.onclick(el, obj, e);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Prepare container\r\n\t\tel.classList.add('jeditor-container');\r\n\r\n\t\t// Snippet\r\n\t\tvar snippet = document.createElement('div');\r\n\t\tsnippet.className = 'jsnippet';\r\n\t\tsnippet.setAttribute('contenteditable', false);\r\n\r\n\t\t// Toolbar\r\n\t\tvar toolbar = document.createElement('div');\r\n\t\ttoolbar.className = 'jeditor-toolbar';\r\n\r\n\t\tobj.editor = document.createElement('div');\r\n\t\tobj.editor.setAttribute('contenteditable', true);\r\n\t\tobj.editor.setAttribute('spellcheck', false);\r\n\t\tobj.editor.classList.add('jeditor');\r\n\r\n\t\t// Placeholder\r\n\t\tif (obj.options.placeholder) {\r\n\t\t\tobj.editor.setAttribute('data-placeholder', obj.options.placeholder);\r\n\t\t}\r\n\r\n\t\t// Max height\r\n\t\tif (obj.options.maxHeight || obj.options.height) {\r\n\t\t\tobj.editor.style.overflowY = 'auto';\r\n\r\n\t\t\tif (obj.options.maxHeight) {\r\n\t\t\t\tobj.editor.style.maxHeight = obj.options.maxHeight;\r\n\t\t\t}\r\n\t\t\tif (obj.options.height) {\r\n\t\t\t\tobj.editor.style.height = obj.options.height;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Set editor initial value\r\n\t\tif (obj.options.url) {\r\n\t\t\tajax({\r\n\t\t\t\turl: obj.options.url,\r\n\t\t\t\tdataType: 'html',\r\n\t\t\t\tsuccess: function(result) {\r\n\t\t\t\t\tobj.editor.innerHTML = result;\r\n\r\n\t\t\t\t\tComponent.setCursor(obj.editor, obj.options.focus == 'initial' ? true : false);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tif (obj.options.value) {\r\n\t\t\t\tobj.editor.innerHTML = obj.options.value;\r\n\t\t\t} else {\r\n\t\t\t\t// Create from existing elements\r\n\t\t\t\tfor (var i = 0; i < el.children.length; i++) {\r\n\t\t\t\t\tobj.editor.appendChild(el.children[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Make sure element is empty\r\n\t\tel.innerHTML = '';\r\n\r\n\t\t/**\r\n\t\t * Onchange event controllers\r\n\t\t */\r\n\t\tvar change = function(e) {\r\n\t\t\tif (typeof(obj.options.onchange) == 'function') {\r\n\t\t\t\tobj.options.onchange(el, obj, e);\r\n\t\t\t}\r\n\r\n\t\t\t// Update value\r\n\t\t\tobj.options.value = obj.getData();\r\n\r\n\t\t\t// Lemonade JS\r\n\t\t\tif (el.value != obj.options.value) {\r\n\t\t\t\tel.value = obj.options.value;\r\n\t\t\t\tif (typeof(el.oninput) == 'function') {\r\n\t\t\t\t\tel.oninput({\r\n\t\t\t\t\t\ttype: 'input',\r\n\t\t\t\t\t\ttarget: el,\r\n\t\t\t\t\t\tvalue: el.value\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Extract images from a HTML string\r\n\t\t */\r\n\t\tvar extractImageFromHtml = function(html) {\r\n\t\t\t// Create temp element\r\n\t\t\tvar div = document.createElement('div');\r\n\t\t\tdiv.innerHTML = html;\r\n\r\n\t\t\t// Extract images\r\n\t\t\tvar img = div.querySelectorAll('img');\r\n\r\n\t\t\tif (img.length) {\r\n\t\t\t\tfor (var i = 0; i < img.length; i++) {\r\n\t\t\t\t\tobj.addImage(img[i].src);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Insert node at caret\r\n\t\t */\r\n\t\tvar insertNodeAtCaret = function(newNode) {\r\n\t\t\tvar sel, range;\r\n\r\n\t\t\tif (window.getSelection) {\r\n\t\t\t\tsel = window.getSelection();\r\n\t\t\t\tif (sel.rangeCount) {\r\n\t\t\t\t\trange = sel.getRangeAt(0);\r\n\t\t\t\t\tvar selectedText = range.toString();\r\n\t\t\t\t\trange.deleteContents();\r\n\t\t\t\t\trange.insertNode(newNode);\r\n\t\t\t\t\t// move the cursor after element\r\n\t\t\t\t\trange.setStartAfter(newNode);\r\n\t\t\t\t\trange.setEndAfter(newNode);\r\n\t\t\t\t\tsel.removeAllRanges();\r\n\t\t\t\t\tsel.addRange(range);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar updateTotalImages = function() {\r\n\t\t\tvar o = null;\r\n\t\t\tif (o = snippet.children[0]) {\r\n\t\t\t\t// Make sure is a grid\r\n\t\t\t\tif (! o.classList.contains('jslider-grid')) {\r\n\t\t\t\t\to.classList.add('jslider-grid');\r\n\t\t\t\t}\r\n\t\t\t\t// Quantify of images\r\n\t\t\t\tvar number = o.children.length;\r\n\t\t\t\t// Set the configuration of the grid\r\n\t\t\t\to.setAttribute('data-number', number > 4 ? 4 : number);\r\n\t\t\t\t// Total of images inside the grid\r\n\t\t\t\tif (number > 4) {\r\n\t\t\t\t\to.setAttribute('data-total', number - 4);\r\n\t\t\t\t} else {\r\n\t\t\t\t\to.removeAttribute('data-total');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Append image to the snippet\r\n\t\t */\r\n\t\tvar appendImage = function(image) {\r\n\t\t\tif (! snippet.innerHTML) {\r\n\t\t\t\tobj.appendSnippet({});\r\n\t\t\t}\r\n\t\t\tsnippet.children[0].appendChild(image);\r\n\t\t\tupdateTotalImages();\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Append snippet\r\n\t\t * @Param object data\r\n\t\t */\r\n\t\tobj.appendSnippet = function(data) {\r\n\t\t\t// Reset snippet\r\n\t\t\tsnippet.innerHTML = '';\r\n\r\n\t\t\t// Attributes\r\n\t\t\tvar a = [ 'image', 'title', 'description', 'host', 'url' ];\r\n\r\n\t\t\tfor (var i = 0; i < a.length; i++) {\r\n\t\t\t\tvar div = document.createElement('div');\r\n\t\t\t\tdiv.className = 'jsnippet-' + a[i];\r\n\t\t\t\tdiv.setAttribute('data-k', a[i]);\r\n\t\t\t\tsnippet.appendChild(div);\r\n\t\t\t\tif (data[a[i]]) {\r\n\t\t\t\t\tif (a[i] == 'image') {\r\n\t\t\t\t\t\tif (! Array.isArray(data.image)) {\r\n\t\t\t\t\t\t\tdata.image = [ data.image ];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfor (var j = 0; j < data.image.length; j++) {\r\n\t\t\t\t\t\t\tvar img = document.createElement('img');\r\n\t\t\t\t\t\t\timg.src = data.image[j];\r\n\t\t\t\t\t\t\tdiv.appendChild(img);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdiv.innerHTML = data[a[i]];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tobj.editor.appendChild(document.createElement('br'));\r\n\t\t\tobj.editor.appendChild(snippet);\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Set editor value\r\n\t\t */\r\n\t\tobj.setData = function(o) {\r\n\t\t\tif (typeof(o) == 'object') {\r\n\t\t\t\tobj.editor.innerHTML = o.content;\r\n\t\t\t} else {\r\n\t\t\t\tobj.editor.innerHTML = o;\r\n\t\t\t}\r\n\r\n\t\t\tif (obj.options.focus) {\r\n\t\t\t\tComponent.setCursor(obj.editor, true);\r\n\t\t\t}\r\n\r\n\t\t\t// Reset files container\r\n\t\t\tfiles = [];\r\n\t\t}\r\n\r\n\t\tobj.getFiles = function() {\r\n\t\t\tvar f = obj.editor.querySelectorAll('.jfile');\r\n\t\t\tvar d = [];\r\n\t\t\tfor (var i = 0; i < f.length; i++) {\r\n\t\t\t\tif (files[f[i].src]) {\r\n\t\t\t\t\td.push(files[f[i].src]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn d;\r\n\t\t}\r\n\r\n\t\tobj.getText = function() {\r\n\t\t\treturn obj.editor.innerText;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Get editor data\r\n\t\t */\r\n\t\tobj.getData = function(json) {\r\n\t\t\tif (! json) {\r\n\t\t\t\tvar data = obj.editor.innerHTML;\r\n\t\t\t} else {\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\tcontent : '',\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Get snippet\r\n\t\t\t\tif (snippet.innerHTML) {\r\n\t\t\t\t\tvar index = 0;\r\n\t\t\t\t\tdata.snippet = {};\r\n\t\t\t\t\tfor (var i = 0; i < snippet.children.length; i++) {\r\n\t\t\t\t\t\t// Get key from element\r\n\t\t\t\t\t\tvar key = snippet.children[i].getAttribute('data-k');\r\n\t\t\t\t\t\tif (key) {\r\n\t\t\t\t\t\t\tif (key == 'image') {\r\n\t\t\t\t\t\t\t\tif (! data.snippet.image) {\r\n\t\t\t\t\t\t\t\t\tdata.snippet.image = [];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t// Get all images\r\n\t\t\t\t\t\t\t\tfor (var j = 0; j < snippet.children[i].children.length; j++) {\r\n\t\t\t\t\t\t\t\t\tdata.snippet.image.push(snippet.children[i].children[j].getAttribute('src'))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tdata.snippet[key] = snippet.children[i].innerHTML;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Get files\r\n\t\t\t\tvar f = Object.keys(files);\r\n\t\t\t\tif (f.length) {\r\n\t\t\t\t\tdata.files = [];\r\n\t\t\t\t\tfor (var i = 0; i < f.length; i++) {\r\n\t\t\t\t\t\tdata.files.push(files[f[i]]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Get content\r\n\t\t\t\tvar d = document.createElement('div');\r\n\t\t\t\td.innerHTML = obj.editor.innerHTML;\r\n\t\t\t\tvar s = d.querySelector('.jsnippet');\r\n\t\t\t\tif (s) {\r\n\t\t\t\t\ts.remove();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar text = d.innerHTML;\r\n\t\t\t\ttext = text.replace(/<br>/g, \"\\n\");\r\n\t\t\t\ttext = text.replace(/<\\/div>/g, \"<\\/div>\\n\");\r\n\t\t\t\ttext = text.replace(/<(?:.|\\n)*?>/gm, \"\");\r\n\t\t\t\tdata.content = text.trim();\r\n\r\n\t\t\t\t// Process extensions\r\n\t\t\t\tprocessExtensions('getData', data);\r\n\t\t\t}\r\n\r\n\t\t\treturn data;\r\n\t\t}\r\n\r\n\t\t// Reset\r\n\t\tobj.reset = function() {\r\n\t\t\tobj.editor.innerHTML = '';\r\n\t\t\tsnippet.innerHTML = '';\r\n\t\t\tfiles = [];\r\n\t\t}\r\n\r\n\t\tobj.addPdf = function(data) {\r\n\t\t\tif (data.result.substr(0,4) != 'data') {\r\n\t\t\t\tconsole.error('Invalid source');\r\n\t\t\t} else {\r\n\t\t\t\tvar canvas = document.createElement('canvas');\r\n\t\t\t\tcanvas.width = 60;\r\n\t\t\t\tcanvas.height = 60;\r\n\r\n\t\t\t\tvar img = new Image();\r\n\t\t\t\tvar ctx = canvas.getContext('2d');\r\n\t\t\t\tctx.drawImage(img, 0, 0, canvas.width, canvas.height);\r\n\r\n\t\t\t\tcanvas.toBlob(function(blob) {\r\n\t\t\t\t\tvar newImage = document.createElement('img');\r\n\t\t\t\t\tnewImage.src = window.URL.createObjectURL(blob);\r\n\t\t\t\t\tnewImage.title = data.name;\r\n\t\t\t\t\tnewImage.className = 'jfile pdf';\r\n\r\n\t\t\t\t\tfiles[newImage.src] = {\r\n\t\t\t\t\t\tfile: newImage.src,\r\n\t\t\t\t\t\textension: 'pdf',\r\n\t\t\t\t\t\tcontent: data.result,\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t//insertNodeAtCaret(newImage);\r\n\t\t\t\t\tdocument.execCommand('insertHtml', false, newImage.outerHTML);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tobj.addImage = function(src, asSnippet) {\r\n\t\t\tif (! src) {\r\n\t\t\t\tsrc = '';\r\n\t\t\t}\r\n\r\n\t\t\tif (src.substr(0,4) != 'data' && ! obj.options.remoteParser) {\r\n\t\t\t\tconsole.error('remoteParser not defined in your initialization');\r\n\t\t\t} else {\r\n\t\t\t\t// This is to process cross domain images\r\n\t\t\t\tif (src.substr(0,4) == 'data') {\r\n\t\t\t\t\tvar extension = src.split(';')\r\n\t\t\t\t\textension = extension[0].split('/');\r\n\t\t\t\t\textension = extension[1];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar extension = src.substr(src.lastIndexOf('.') + 1);\r\n\t\t\t\t\t// Work for cross browsers\r\n\t\t\t\t\tsrc = obj.options.remoteParser + src;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar img = new Image();\r\n\r\n\t\t\t\timg.onload = function onload() {\r\n\t\t\t\t\tvar canvas = document.createElement('canvas');\r\n\t\t\t\t\tcanvas.width = img.width;\r\n\t\t\t\t\tcanvas.height = img.height;\r\n\r\n\t\t\t\t\tvar ctx = canvas.getContext('2d');\r\n\t\t\t\t\tctx.drawImage(img, 0, 0, canvas.width, canvas.height);\r\n\r\n\t\t\t\t\tcanvas.toBlob(function(blob) {\r\n\t\t\t\t\t\tvar newImage = document.createElement('img');\r\n\t\t\t\t\t\tnewImage.src = window.URL.createObjectURL(blob);\r\n\t\t\t\t\t\tnewImage.classList.add('jfile');\r\n\t\t\t\t\t\tnewImage.setAttribute('tabindex', '900');\r\n\t\t\t\t\t\tnewImage.setAttribute('width', img.width);\r\n\t\t\t\t\t\tnewImage.setAttribute('height', img.height);\r\n\t\t\t\t\t\tfiles[newImage.src] = {\r\n\t\t\t\t\t\t\tfile: newImage.src,\r\n\t\t\t\t\t\t\textension: extension,\r\n\t\t\t\t\t\t\tcontent: canvas.toDataURL(),\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (obj.options.dropAsSnippet || asSnippet) {\r\n\t\t\t\t\t\t\tappendImage(newImage);\r\n\t\t\t\t\t\t\t// Just to understand the attachment is part of a snippet\r\n\t\t\t\t\t\t\tfiles[newImage.src].snippet = true;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t//insertNodeAtCaret(newImage);\r\n\t\t\t\t\t\t\tdocument.execCommand('insertHtml', false, newImage.outerHTML);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tchange();\r\n\t\t\t\t\t});\r\n\t\t\t\t};\r\n\r\n\t\t\t\timg.src = src;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tobj.addFile = function(files) {\r\n\t\t\tvar reader = [];\r\n\r\n\t\t\tfor (var i = 0; i < files.length; i++) {\r\n\t\t\t\tif (files[i].size > obj.options.maxFileSize) {\r\n\t\t\t\t\talert('The file is too big');\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Only PDF or Images\r\n\t\t\t\t\tvar type = files[i].type.split('/');\r\n\r\n\t\t\t\t\tif (type[0] == 'image') {\r\n\t\t\t\t\t\ttype = 1;\r\n\t\t\t\t\t} else if (type[1] == 'pdf') {\r\n\t\t\t\t\t\ttype = 2;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttype = 0;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (type) {\r\n\t\t\t\t\t\t// Create file\r\n\t\t\t\t\t\treader[i] = new FileReader();\r\n\t\t\t\t\t\treader[i].index = i;\r\n\t\t\t\t\t\treader[i].type = type;\r\n\t\t\t\t\t\treader[i].name = files[i].name;\r\n\t\t\t\t\t\treader[i].date = files[i].lastModified;\r\n\t\t\t\t\t\treader[i].size = files[i].size;\r\n\t\t\t\t\t\treader[i].addEventListener(\"load\", function (data) {\r\n\t\t\t\t\t\t\t// Get result\r\n\t\t\t\t\t\t\tif (data.target.type == 2) {\r\n\t\t\t\t\t\t\t\tif (obj.options.acceptFiles == true) {\r\n\t\t\t\t\t\t\t\t\tobj.addPdf(data.target);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tobj.addImage(data.target.result);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}, false);\r\n\r\n\t\t\t\t\t\treader[i].readAsDataURL(files[i])\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\talert('The extension is not allowed');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Destroy\r\n\t\tobj.destroy = function() {\r\n\t\t\tobj.editor.removeEventListener('mouseup', editorMouseUp);\r\n\t\t\tobj.editor.removeEventListener('mousedown', editorMouseDown);\r\n\t\t\tobj.editor.removeEventListener('mousemove', editorMouseMove);\r\n\t\t\tobj.editor.removeEventListener('keyup', editorKeyUp);\r\n\t\t\tobj.editor.removeEventListener('keydown', editorKeyDown);\r\n\t\t\tobj.editor.removeEventListener('dragstart', editorDragStart);\r\n\t\t\tobj.editor.removeEventListener('dragenter', editorDragEnter);\r\n\t\t\tobj.editor.removeEventListener('dragover', editorDragOver);\r\n\t\t\tobj.editor.removeEventListener('drop', editorDrop);\r\n\t\t\tobj.editor.removeEventListener('paste', editorPaste);\r\n\t\t\tobj.editor.removeEventListener('blur', editorBlur);\r\n\t\t\tobj.editor.removeEventListener('focus', editorFocus);\r\n\r\n\t\t\tel.editor = null;\r\n\t\t\tel.classList.remove('jeditor-container');\r\n\r\n\t\t\ttoolbar.remove();\r\n\t\t\tsnippet.remove();\r\n\t\t\tobj.editor.remove();\r\n\t\t}\r\n\r\n\t\tobj.upload = function() {\r\n\t\t\thelpers.click(obj.file);\r\n\t\t}\r\n\r\n\t\t// Elements to be removed\r\n\t\tvar remove = [\r\n\t\t\tHTMLUnknownElement,\r\n\t\t\tHTMLAudioElement,\r\n\t\t\tHTMLEmbedElement,\r\n\t\t\tHTMLIFrameElement,\r\n\t\t\tHTMLTextAreaElement,\r\n\t\t\tHTMLInputElement,\r\n\t\t\tHTMLScriptElement\r\n\t\t];\r\n\r\n\t\t// Valid properties\r\n\t\tvar validProperty = ['width', 'height', 'align', 'border', 'src', 'tabindex'];\r\n\r\n\t\t// Valid CSS attributes\r\n\t\tvar validStyle = ['color', 'font-weight', 'font-size', 'background', 'background-color', 'margin'];\r\n\r\n\t\tvar parse = function(element) {\r\n\t\t   // Remove attributes\r\n\t\t   if (element.attributes && element.attributes.length) {\r\n\t\t\t   var image = null;\r\n\t\t\t   var style = null;\r\n\t\t\t   // Process style attribute\r\n\t\t\t   var elementStyle = element.getAttribute('style');\r\n\t\t\t   if (elementStyle) {\r\n\t\t\t\t   style = [];\r\n\t\t\t\t   var t = elementStyle.split(';');\r\n\t\t\t\t   for (var j = 0; j < t.length; j++) {\r\n\t\t\t\t\t   var v = t[j].trim().split(':');\r\n\t\t\t\t\t   if (validStyle.indexOf(v[0].trim()) >= 0) {\r\n\t\t\t\t\t\t   var k = v.shift();\r\n\t\t\t\t\t\t   var v = v.join(':');\r\n\t\t\t\t\t\t   style.push(k + ':' + v);\r\n\t\t\t\t\t   }\r\n\t\t\t\t   }\r\n\t\t\t   }\r\n\t\t\t   // Process image\r\n\t\t\t   if (element.tagName.toUpperCase() == 'IMG') {\r\n\t\t\t\t   if (! obj.options.acceptImages || ! element.src) {\r\n\t\t\t\t\t   element.parentNode.removeChild(element);\r\n\t\t\t\t   } else {\r\n\t\t\t\t\t   // Check if is data\r\n\t\t\t\t\t   element.setAttribute('tabindex', '900');\r\n\t\t\t\t\t   // Check attributes for persistence\r\n\t\t\t\t\t   obj.addImage(element.src);\r\n\t\t\t\t   }\r\n\t\t\t   }\r\n\t\t\t   // Remove attributes\r\n\t\t\t   var attr = [];\r\n\t\t\t   for (var i = 0; i < element.attributes.length; i++) {\r\n\t\t\t\t   attr.push(element.attributes[i].name);\r\n\t\t\t   }\r\n\t\t\t   if (attr.length) {\r\n\t\t\t\t   attr.forEach(function(v) {\r\n\t\t\t\t\t   if (validProperty.indexOf(v) == -1) {\r\n\t\t\t\t\t\t   element.removeAttribute(v);\r\n\t\t\t\t\t   } else {\r\n\t\t\t\t\t\t   // Protection XSS\r\n\t\t\t\t\t\t   if (element.attributes[i].value.indexOf('<') !== -1) {\r\n\t\t\t\t\t\t\t   element.attributes[i].value.replace('<', '&#60;');\r\n\t\t\t\t\t\t   }\r\n\t\t\t\t\t   }\r\n\t\t\t\t   });\r\n\t\t\t   }\r\n\t\t\t   element.style = '';\r\n\t\t\t   // Add valid style\r\n\t\t\t   if (style && style.length) {\r\n\t\t\t\t   element.setAttribute('style', style.join(';'));\r\n\t\t\t   }\r\n\t\t   }\r\n\t\t   // Parse children\r\n\t\t   if (element.children.length) {\r\n\t\t\t   for (var i = 0; i < element.children.length; i++) {\r\n\t\t\t\t   parse(element.children[i]);\r\n\t\t\t   }\r\n\t\t   }\r\n\r\n\t\t   if (remove.indexOf(element.constructor) >= 0) {\r\n\t\t\t   element.remove();\r\n\t\t   }\r\n\t\t}\r\n\r\n\t\tvar select = function(e) {\r\n\t\t\tvar s = window.getSelection()\r\n\t\t\tvar r = document.createRange();\r\n\t\t\tr.selectNode(e);\r\n\t\t\ts.addRange(r)\r\n\t\t}\r\n\r\n\t\tvar filter = function(data) {\r\n\t\t\tif (data) {\r\n\t\t\t\tdata = data.replace(new RegExp('<!--(.*?)-->', 'gsi'), '');\r\n\t\t\t}\r\n\t\t\tvar parser = new DOMParser();\r\n\t\t\tvar d = parser.parseFromString(data, \"text/html\");\r\n\t\t\tparse(d);\r\n\t\t\tvar span = document.createElement('span');\r\n\t\t\tspan.innerHTML = d.firstChild.innerHTML;\r\n\t\t\treturn span;\r\n\t\t}\r\n\r\n\t\tvar editorPaste = function(e) {\r\n\t\t\tif (obj.options.filterPaste == true) {\r\n\t\t\t\tif (e.clipboardData || e.originalEvent.clipboardData) {\r\n\t\t\t\t\tvar html = (e.originalEvent || e).clipboardData.getData('text/html');\r\n\t\t\t\t\tvar text = (e.originalEvent || e).clipboardData.getData('text/plain');\r\n\t\t\t\t\tvar file = (e.originalEvent || e).clipboardData.files\r\n\t\t\t\t} else if (window.clipboardData) {\r\n\t\t\t\t\tvar html = window.clipboardData.getData('Html');\r\n\t\t\t\t\tvar text = window.clipboardData.getData('Text');\r\n\t\t\t\t\tvar file = window.clipboardData.files\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (file.length) {\r\n\t\t\t\t\t// Paste a image from the clipboard\r\n\t\t\t\t\tobj.addFile(file);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (! html) {\r\n\t\t\t\t\t\thtml = text.split('\\r\\n');\r\n\t\t\t\t\t\tif (! e.target.innerText) {\r\n\t\t\t\t\t\t\thtml.map(function(v) {\r\n\t\t\t\t\t\t\t\tvar d = document.createElement('div');\r\n\t\t\t\t\t\t\t\td.innerText = v;\r\n\t\t\t\t\t\t\t\tobj.editor.appendChild(d);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\thtml = html.map(function(v) {\r\n\t\t\t\t\t\t\t\treturn '<div>' + v + '</div>';\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tdocument.execCommand('insertHtml', false, html.join(''));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar d = filter(html);\r\n\t\t\t\t\t\t// Paste to the editor\r\n\t\t\t\t\t\t//insertNodeAtCaret(d);\r\n\t\t\t\t\t\tdocument.execCommand('insertHtml', false, d.innerHTML);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar editorDragStart = function(e) {\r\n\t\t\tif (editorAction && editorAction.e) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar editorDragEnter = function(e) {\r\n\t\t\tif (editorAction || obj.options.dropZone == false) {\r\n\t\t\t\t// Do nothing\r\n\t\t\t} else {\r\n\t\t\t\tel.classList.add('jeditor-dragging');\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar editorDragOver = function(e) {\r\n\t\t\tif (editorAction || obj.options.dropZone == false) {\r\n\t\t\t\t// Do nothing\r\n\t\t\t} else {\r\n\t\t\t\tif (editorTimer) {\r\n\t\t\t\t\tclearTimeout(editorTimer);\r\n\t\t\t\t}\r\n\r\n\t\t\t\teditorTimer = setTimeout(function() {\r\n\t\t\t\t\tel.classList.remove('jeditor-dragging');\r\n\t\t\t\t}, 100);\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar editorDrop = function(e) {\r\n\t\t\tif (editorAction || obj.options.dropZone == false) {\r\n\t\t\t\t// Do nothing\r\n\t\t\t} else {\r\n\t\t\t\t// Position caret on the drop\r\n\t\t\t\tvar range = null;\r\n\t\t\t\tif (document.caretRangeFromPoint) {\r\n\t\t\t\t\trange=document.caretRangeFromPoint(e.clientX, e.clientY);\r\n\t\t\t\t} else if (e.rangeParent) {\r\n\t\t\t\t\trange=document.createRange();\r\n\t\t\t\t\trange.setStart(e.rangeParent,e.rangeOffset);\r\n\t\t\t\t}\r\n\t\t\t\tvar sel = window.getSelection();\r\n\t\t\t\tsel.removeAllRanges();\r\n\t\t\t\tsel.addRange(range);\r\n\t\t\t\tsel.anchorNode.parentNode.focus();\r\n\r\n\t\t\t\tvar html = (e.originalEvent || e).dataTransfer.getData('text/html');\r\n\t\t\t\tvar text = (e.originalEvent || e).dataTransfer.getData('text/plain');\r\n\t\t\t\tvar file = (e.originalEvent || e).dataTransfer.files;\r\n\r\n\t\t\t\tif (file.length) {\r\n\t\t\t\t\tobj.addFile(file);\r\n\t\t\t\t} else if (text) {\r\n\t\t\t\t\textractImageFromHtml(html);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tel.classList.remove('jeditor-dragging');\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar editorBlur = function(e) {\r\n\t\t\t// Process extensions\r\n\t\t\tprocessExtensions('onevent', e);\r\n\t\t\t// Apply changes\r\n\t\t\tchange(e);\r\n\t\t\t// Blur\r\n\t\t\tif (typeof(obj.options.onblur) == 'function') {\r\n\t\t\t\tobj.options.onblur(el, obj, e);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar editorFocus = function(e) {\r\n\t\t\t// Focus\r\n\t\t\tif (typeof(obj.options.onfocus) == 'function') {\r\n\t\t\t\tobj.options.onfocus(el, obj, e);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar editorKeyUp = function(e) {\r\n\t\t\tif (! obj.editor.innerHTML) {\r\n\t\t\t\tobj.editor.innerHTML = '<div><br></div>';\r\n\t\t\t}\r\n\t\t\tif (typeof(obj.options.onkeyup) == 'function') {\r\n\t\t\t\tobj.options.onkeyup(el, obj, e);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar editorKeyDown = function(e) {\r\n\t\t\t// Process extensions\r\n\t\t\tprocessExtensions('onevent', e);\r\n\r\n\t\t\tif (e.key == 'Delete') {\r\n\t\t\t\tif (e.target.tagName == 'IMG') {\r\n\t\t\t\t\tvar parent = e.target.parentNode;\r\n\t\t\t\t\tselect(e.target);\r\n\t\t\t\t\tif (parent.classList.contains('jsnippet-image')) {\r\n\t\t\t\t\t\tupdateTotalImages();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof(obj.options.onkeydown) == 'function') {\r\n\t\t\t\tobj.options.onkeydown(el, obj, e);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar editorMouseUp = function(e) {\r\n\t\t\tif (editorAction && editorAction.e) {\r\n\t\t\t\teditorAction.e.classList.remove('resizing');\r\n\r\n\t\t\t\tif (editorAction.e.changed == true) {\r\n\t\t\t\t\tvar image = editorAction.e.cloneNode()\r\n\t\t\t\t\timage.width = parseInt(editorAction.e.style.width) || editorAction.e.getAttribute('width');\r\n\t\t\t\t\timage.height = parseInt(editorAction.e.style.height) || editorAction.e.getAttribute('height');\r\n\t\t\t\t\teditorAction.e.style.width = '';\r\n\t\t\t\t\teditorAction.e.style.height = '';\r\n\t\t\t\t\tselect(editorAction.e);\r\n\t\t\t\t\tdocument.execCommand('insertHtml', false, image.outerHTML);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\teditorAction = false;\r\n\t\t}\r\n\r\n\t\tvar editorMouseDown = function(e) {\r\n\t\t\tvar close = function(snippet) {\r\n\t\t\t\tvar rect = snippet.getBoundingClientRect();\r\n\t\t\t\tif (rect.width - (e.clientX - rect.left) < 40 && e.clientY - rect.top < 40) {\r\n\t\t\t\t\tsnippet.innerHTML = '';\r\n\t\t\t\t\tsnippet.remove();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (e.target.tagName == 'IMG') {\r\n\t\t\t\tif (e.target.style.cursor) {\r\n\t\t\t\t\tvar rect = e.target.getBoundingClientRect();\r\n\t\t\t\t\teditorAction = {\r\n\t\t\t\t\t\te: e.target,\r\n\t\t\t\t\t\tx: e.clientX,\r\n\t\t\t\t\t\ty: e.clientY,\r\n\t\t\t\t\t\tw: rect.width,\r\n\t\t\t\t\t\th: rect.height,\r\n\t\t\t\t\t\td: e.target.style.cursor,\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (! e.target.getAttribute('width')) {\r\n\t\t\t\t\t\te.target.setAttribute('width', rect.width)\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (! e.target.getAttribute('height')) {\r\n\t\t\t\t\t\te.target.setAttribute('height', rect.height)\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar s = window.getSelection();\r\n\t\t\t\t\tif (s.rangeCount) {\r\n\t\t\t\t\t\tfor (var i = 0; i < s.rangeCount; i++) {\r\n\t\t\t\t\t\t\ts.removeRange(s.getRangeAt(i));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\te.target.classList.add('resizing');\r\n\t\t\t\t} else {\r\n\t\t\t\t\teditorAction = true;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (e.target.classList.contains('jsnippet')) {\r\n\t\t\t\t\tclose(e.target);\r\n\t\t\t\t} else if (e.target.parentNode.classList.contains('jsnippet')) {\r\n\t\t\t\t\tclose(e.target.parentNode);\r\n\t\t\t\t}\r\n\r\n\t\t\t\teditorAction = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar editorMouseMove = function(e) {\r\n\t\t\tif (e.target.tagName == 'IMG' && ! e.target.parentNode.classList.contains('jsnippet-image') && obj.options.allowImageResize == true) {\r\n\t\t\t\tif (e.target.getAttribute('tabindex')) {\r\n\t\t\t\t\tvar rect = e.target.getBoundingClientRect();\r\n\t\t\t\t\tif (e.clientY - rect.top < 5) {\r\n\t\t\t\t\t\tif (rect.width - (e.clientX - rect.left) < 5) {\r\n\t\t\t\t\t\t\te.target.style.cursor = 'ne-resize';\r\n\t\t\t\t\t\t} else if (e.clientX - rect.left < 5) {\r\n\t\t\t\t\t\t\te.target.style.cursor = 'nw-resize';\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\te.target.style.cursor = 'n-resize';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (rect.height - (e.clientY - rect.top) < 5) {\r\n\t\t\t\t\t\tif (rect.width - (e.clientX - rect.left) < 5) {\r\n\t\t\t\t\t\t\te.target.style.cursor = 'se-resize';\r\n\t\t\t\t\t\t} else if (e.clientX - rect.left < 5) {\r\n\t\t\t\t\t\t\te.target.style.cursor = 'sw-resize';\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\te.target.style.cursor = 's-resize';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (rect.width - (e.clientX - rect.left) < 5) {\r\n\t\t\t\t\t\te.target.style.cursor = 'e-resize';\r\n\t\t\t\t\t} else if (e.clientX - rect.left < 5) {\r\n\t\t\t\t\t\te.target.style.cursor = 'w-resize';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\te.target.style.cursor = '';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Move\r\n\t\t\tif (e.which == 1 && editorAction && editorAction.d) {\r\n\t\t\t\tif (editorAction.d == 'e-resize' || editorAction.d == 'ne-resize' ||  editorAction.d == 'se-resize') {\r\n\t\t\t\t\teditorAction.e.style.width = (editorAction.w + (e.clientX - editorAction.x));\r\n\r\n\t\t\t\t\tif (e.shiftKey) {\r\n\t\t\t\t\t\tvar newHeight = (e.clientX - editorAction.x) * (editorAction.h / editorAction.w);\r\n\t\t\t\t\t\teditorAction.e.style.height = editorAction.h + newHeight;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar newHeight =  null;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (! newHeight) {\r\n\t\t\t\t\tif (editorAction.d == 's-resize' || editorAction.d == 'se-resize' || editorAction.d == 'sw-resize') {\r\n\t\t\t\t\t\tif (! e.shiftKey) {\r\n\t\t\t\t\t\t\teditorAction.e.style.height = editorAction.h + (e.clientY - editorAction.y);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\teditorAction.e.changed = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar processExtensions = function(method, data) {\r\n\t\t\tif (obj.options.extensions) {\r\n\t\t\t\tvar ext = Object.keys(obj.options.extensions);\r\n\t\t\t\tif (ext.length) {\r\n\t\t\t\t\tfor (var i = 0; i < ext.length; i++)\r\n\t\t\t\t\t\tif (obj.options.extensions[ext[i]] && typeof(obj.options.extensions[ext[i]][method]) == 'function') {\r\n\t\t\t\t\t\t\tobj.options.extensions[ext[i]][method].call(obj, data);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar loadExtensions = function() {\r\n\t\t\tif (obj.options.extensions) {\r\n\t\t\t\tvar ext = Object.keys(obj.options.extensions);\r\n\t\t\t\tif (ext.length) {\r\n\t\t\t\t\tfor (var i = 0; i < ext.length; i++) {\r\n\t\t\t\t\t\tif (obj.options.extensions[ext[i]] && typeof (obj.options.extensions[ext[i]]) == 'function') {\r\n\t\t\t\t\t\t\tobj.options.extensions[ext[i]] = obj.options.extensions[ext[i]](el, obj);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdocument.addEventListener('mouseup', editorMouseUp);\r\n\t\tdocument.addEventListener('mousemove', editorMouseMove);\r\n\t\tobj.editor.addEventListener('mousedown', editorMouseDown);\r\n\t\tobj.editor.addEventListener('keyup', editorKeyUp);\r\n\t\tobj.editor.addEventListener('keydown', editorKeyDown);\r\n\t\tobj.editor.addEventListener('dragstart', editorDragStart);\r\n\t\tobj.editor.addEventListener('dragenter', editorDragEnter);\r\n\t\tobj.editor.addEventListener('dragover', editorDragOver);\r\n\t\tobj.editor.addEventListener('drop', editorDrop);\r\n\t\tobj.editor.addEventListener('paste', editorPaste);\r\n\t\tobj.editor.addEventListener('focus', editorFocus);\r\n\t\tobj.editor.addEventListener('blur', editorBlur);\r\n\r\n\t\t// Append editor to the container\r\n\t\tel.appendChild(obj.editor);\r\n\t\t// Snippet\r\n\t\tif (obj.options.snippet) {\r\n\t\t\tobj.appendSnippet(obj.options.snippet);\r\n\t\t}\r\n\r\n\t\t// Add toolbar\r\n\t\tif (obj.options.toolbar) {\r\n\t\t\t// Default toolbar configuration\r\n\t\t\tif (Array.isArray(obj.options.toolbar)) {\r\n\t\t\t\tvar toolbarOptions = {\r\n\t\t\t\t\tcontainer: true,\r\n\t\t\t\t\tresponsive: true,\r\n\t\t\t\t\titems: obj.options.toolbar\r\n\t\t\t\t}\r\n\t\t\t} else if (obj.options.toolbar === true) {\r\n\t\t\t\tvar toolbarOptions = {\r\n\t\t\t\t\tcontainer: true,\r\n\t\t\t\t\tresponsive: true,\r\n\t\t\t\t\titems: [],\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tvar toolbarOptions = obj.options.toolbar;\r\n\t\t\t}\r\n\r\n\t\t\t// Default items\r\n\t\t\tif (! (toolbarOptions.items && toolbarOptions.items.length)) {\r\n\t\t\t\ttoolbarOptions.items = Component.getDefaultToolbar(obj);\r\n\t\t\t}\r\n\r\n\t\t\tif (obj.options.toolbarOnTop) {\r\n\t\t\t\t// Add class\r\n\t\t\t\tel.classList.add('toolbar-on-top');\r\n\t\t\t\t// Append to the DOM\r\n\t\t\t\tel.insertBefore(toolbar, el.firstChild);\r\n\t\t\t} else {\r\n\t\t\t\t// Add padding to the editor\r\n\t\t\t\tobj.editor.style.padding = '15px';\r\n\t\t\t\t// Append to the DOM\r\n\t\t\t\tel.appendChild(toolbar);\r\n\t\t\t}\r\n\r\n\t\t\t// Create toolbar\r\n\t\t\tToolbar(toolbar, toolbarOptions);\r\n\r\n\t\t\ttoolbar.addEventListener('click', function() {\r\n\t\t\t\tobj.editor.focus();\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\t// Upload file\r\n\t\tobj.file = document.createElement('input');\r\n\t\tobj.file.style.display = 'none';\r\n\t\tobj.file.type = 'file';\r\n\t\tobj.file.setAttribute('accept', 'image/*');\r\n\t\tobj.file.onchange = function() {\r\n\t\t\tobj.addFile(this.files);\r\n\t\t}\r\n\t\tel.appendChild(obj.file);\r\n\r\n\t\t// Focus to the editor\r\n\t\tif (obj.options.focus) {\r\n\t\t\tComponent.setCursor(obj.editor, obj.options.focus == 'initial' ? true : false);\r\n\t\t}\r\n\r\n\t\t// Change method\r\n\t\tel.change = obj.setData;\r\n\r\n\t\t// Global generic value handler\r\n\t\tel.val = function(val) {\r\n\t\t\tif (val === undefined) {\r\n\t\t\t\t// Data type\r\n\t\t\t\tvar o = el.getAttribute('data-html') === 'true' ? false : true;\r\n\t\t\t\treturn obj.getData(o);\r\n\t\t\t} else {\r\n\t\t\t\tobj.setData(val);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tloadExtensions();\r\n\r\n\t\tel.editor = obj;\r\n\r\n\t\t// Onload\r\n\t\tif (typeof(obj.options.onload) == 'function') {\r\n\t\t\tobj.options.onload(el, obj, obj.editor);\r\n\t\t}\r\n\r\n\t\treturn obj;\r\n\t});\r\n\r\n\tComponent.setCursor = function(element, first) {\r\n\t\telement.focus();\r\n\t\tdocument.execCommand('selectAll');\r\n\t\tvar sel = window.getSelection();\r\n\t\tvar range = sel.getRangeAt(0);\r\n\t\tif (first == true) {\r\n\t\t\tvar node = range.startContainer;\r\n\t\t\tvar size = 0;\r\n\t\t} else {\r\n\t\t\tvar node = range.endContainer;\r\n\t\t\tvar size = node.length;\r\n\t\t}\r\n\t\trange.setStart(node, size);\r\n\t\trange.setEnd(node, size);\r\n\t\tsel.removeAllRanges();\r\n\t\tsel.addRange(range);\r\n\t}\r\n\r\n\tComponent.getDefaultToolbar = function(obj) {\r\n\r\n\t\tvar color = function(a,b,c) {\r\n\t\t\tif (! c.color) {\r\n\t\t\t\tvar t = null;\r\n\t\t\t\tvar colorPicker = Color(c, {\r\n\t\t\t\t\tonchange: function(o, v) {\r\n\t\t\t\t\t\tif (c.k === 'color') {\r\n\t\t\t\t\t\t\tdocument.execCommand('foreColor', false, v);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tdocument.execCommand('backColor', false, v);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tc.color.open();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar items = [];\r\n\r\n\t\titems.push({\r\n\t\t\tcontent: 'undo',\r\n\t\t\tonclick: function() {\r\n\t\t\t\tdocument.execCommand('undo');\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\titems.push({\r\n\t\t\tcontent: 'redo',\r\n\t\t\tonclick: function() {\r\n\t\t\t\tdocument.execCommand('redo');\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\titems.push({\r\n\t\t\ttype: 'divisor'\r\n\t\t});\r\n\r\n\t\tif (obj.options.toolbarOnTop) {\r\n\t\t\titems.push({\r\n\t\t\t\ttype: 'select',\r\n\t\t\t\twidth: '140px',\r\n\t\t\t\toptions: ['Default', 'Verdana', 'Arial', 'Courier New'],\r\n\t\t\t\trender: function (e) {\r\n\t\t\t\t\treturn '<span style=\"font-family:' + e + '\">' + e + '</span>';\r\n\t\t\t\t},\r\n\t\t\t\tonchange: function (a,b,c,d,e) {\r\n\t\t\t\t\tdocument.execCommand(\"fontName\", false, d);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\titems.push({\r\n\t\t\t\ttype: 'select',\r\n\t\t\t\tcontent: 'format_size',\r\n\t\t\t\toptions: ['x-small', 'small', 'medium', 'large', 'x-large'],\r\n\t\t\t\trender: function (e) {\r\n\t\t\t\t\treturn '<span style=\"font-size:' + e + '\">' + e + '</span>';\r\n\t\t\t\t},\r\n\t\t\t\tonchange: function (a,b,c,d,e) {\r\n\t\t\t\t\t//var html = `<span style=\"font-size: ${c}\">${text}</span>`;\r\n\t\t\t\t\t//document.execCommand('insertHtml', false, html);\r\n\t\t\t\t\tdocument.execCommand(\"fontSize\", false, parseInt(e)+1);\r\n\t\t\t\t\t//var f = window.getSelection().anchorNode.parentNode\r\n\t\t\t\t\t//f.removeAttribute(\"size\");\r\n\t\t\t\t\t//f.style.fontSize = d;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\titems.push({\r\n\t\t\t\ttype: 'select',\r\n\t\t\t\toptions: ['format_align_left', 'format_align_center', 'format_align_right', 'format_align_justify'],\r\n\t\t\t\trender: function (e) {\r\n\t\t\t\t\treturn '<i class=\"material-icons\">' + e + '</i>';\r\n\t\t\t\t},\r\n\t\t\t\tonchange: function (a,b,c,d,e) {\r\n\t\t\t\t\tvar options = ['JustifyLeft','justifyCenter','justifyRight','justifyFull'];\r\n\t\t\t\t\tdocument.execCommand(options[e]);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\titems.push({\r\n\t\t\t\ttype: 'divisor'\r\n\t\t\t});\r\n\r\n\t\t\titems.push({\r\n\t\t\t\tcontent: 'format_color_text',\r\n\t\t\t\tk: 'color',\r\n\t\t\t\tonclick: color,\r\n\t\t\t});\r\n\r\n\t\t\titems.push({\r\n\t\t\t\tcontent: 'format_color_fill',\r\n\t\t\t\tk: 'background-color',\r\n\t\t\t\tonclick: color,\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\titems.push({\r\n\t\t\tcontent: 'format_bold',\r\n\t\t\tonclick: function(a,b,c) {\r\n\t\t\t\tdocument.execCommand('bold');\r\n\r\n\t\t\t\tif (document.queryCommandState(\"bold\")) {\r\n\t\t\t\t\tc.classList.add('selected');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tc.classList.remove('selected');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\titems.push({\r\n\t\t\tcontent: 'format_italic',\r\n\t\t\tonclick: function(a,b,c) {\r\n\t\t\t\tdocument.execCommand('italic');\r\n\r\n\t\t\t\tif (document.queryCommandState(\"italic\")) {\r\n\t\t\t\t\tc.classList.add('selected');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tc.classList.remove('selected');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\titems.push({\r\n\t\t\tcontent: 'format_underline',\r\n\t\t\tonclick: function(a,b,c) {\r\n\t\t\t\tdocument.execCommand('underline');\r\n\r\n\t\t\t\tif (document.queryCommandState(\"underline\")) {\r\n\t\t\t\t\tc.classList.add('selected');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tc.classList.remove('selected');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\titems.push({\r\n\t\t\ttype:'divisor'\r\n\t\t});\r\n\r\n\t\titems.push({\r\n\t\t\tcontent: 'format_list_bulleted',\r\n\t\t\tonclick: function(a,b,c) {\r\n\t\t\t\tdocument.execCommand('insertUnorderedList');\r\n\r\n\t\t\t\tif (document.queryCommandState(\"insertUnorderedList\")) {\r\n\t\t\t\t\tc.classList.add('selected');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tc.classList.remove('selected');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\titems.push({\r\n\t\t\tcontent: 'format_list_numbered',\r\n\t\t\tonclick: function(a,b,c) {\r\n\t\t\t\tdocument.execCommand('insertOrderedList');\r\n\r\n\t\t\t\tif (document.queryCommandState(\"insertOrderedList\")) {\r\n\t\t\t\t\tc.classList.add('selected');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tc.classList.remove('selected');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\titems.push({\r\n\t\t\tcontent: 'format_indent_increase',\r\n\t\t\tonclick: function(a,b,c) {\r\n\t\t\t\tdocument.execCommand('indent', true, null);\r\n\r\n\t\t\t\tif (document.queryCommandState(\"indent\")) {\r\n\t\t\t\t\tc.classList.add('selected');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tc.classList.remove('selected');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\titems.push({\r\n\t\t\tcontent: 'format_indent_decrease',\r\n\t\t\tonclick: function() {\r\n\t\t\t\tdocument.execCommand('outdent');\r\n\r\n\t\t\t\tif (document.queryCommandState(\"outdent\")) {\r\n\t\t\t\t\tthis.classList.add('selected');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.classList.remove('selected');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (obj.options.toolbarOnTop) {\r\n\t\t\titems.push({\r\n\t\t\t\ttype: 'divisor'\r\n\t\t\t});\r\n\r\n\t\t\titems.push({\r\n\t\t\t\tcontent: 'photo',\r\n\t\t\t\tonclick: function () {\r\n\t\t\t\t\tobj.upload();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\titems.push({\r\n\t\t\t\ttype: 'select',\r\n\t\t\t\tcontent: 'table_view',\r\n\t\t\t\tcolumns: 8,\r\n\t\t\t\tgrid: 8,\r\n\t\t\t\tright: true,\r\n\t\t\t\toptions: [\r\n\t\t\t\t\t'0x0', '1x0', '2x0', '3x0', '4x0', '5x0', '6x0', '7x0',\r\n\t\t\t\t\t'0x1', '1x1', '2x1', '3x1', '4x1', '5x1', '6x1', '7x1',\r\n\t\t\t\t\t'0x2', '1x2', '2x2', '3x2', '4x2', '5x2', '6x2', '7x2',\r\n\t\t\t\t\t'0x3', '1x3', '2x3', '3x3', '4x3', '5x3', '6x3', '7x3',\r\n\t\t\t\t\t'0x4', '1x4', '2x4', '3x4', '4x4', '5x4', '6x4', '7x4',\r\n\t\t\t\t\t'0x5', '1x5', '2x5', '3x5', '4x5', '5x5', '6x5', '7x5',\r\n\t\t\t\t\t'0x6', '1x6', '2x6', '3x6', '4x6', '5x6', '6x6', '7x6',\r\n\t\t\t\t\t'0x7', '1x7', '2x7', '3x7', '4x7', '5x7', '6x7', '7x7',\r\n\t\t\t\t],\r\n\t\t\t\trender: function (e, item) {\r\n\t\t\t\t\tif (item) {\r\n\t\t\t\t\t\titem.onmouseover = this.onmouseover;\r\n\t\t\t\t\t\te = e.split('x');\r\n\t\t\t\t\t\titem.setAttribute('data-x', e[0]);\r\n\t\t\t\t\t\titem.setAttribute('data-y', e[1]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar element = document.createElement('div');\r\n\t\t\t\t\titem.style.margin = '1px';\r\n\t\t\t\t\titem.style.border = '1px solid #ddd';\r\n\t\t\t\t\treturn element;\r\n\t\t\t\t},\r\n\t\t\t\tonmouseover: function (e) {\r\n\t\t\t\t\tvar x = parseInt(e.target.getAttribute('data-x'));\r\n\t\t\t\t\tvar y = parseInt(e.target.getAttribute('data-y'));\r\n\t\t\t\t\tfor (var i = 0; i < e.target.parentNode.children.length; i++) {\r\n\t\t\t\t\t\tvar element = e.target.parentNode.children[i];\r\n\t\t\t\t\t\tvar ex = parseInt(element.getAttribute('data-x'));\r\n\t\t\t\t\t\tvar ey = parseInt(element.getAttribute('data-y'));\r\n\t\t\t\t\t\tif (ex <= x && ey <= y) {\r\n\t\t\t\t\t\t\telement.style.backgroundColor = '#cae1fc';\r\n\t\t\t\t\t\t\telement.style.borderColor = '#2977ff';\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\telement.style.backgroundColor = '';\r\n\t\t\t\t\t\t\telement.style.borderColor = '#ddd';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tonchange: function (a, b, c) {\r\n\t\t\t\t\tc = c.split('x');\r\n\t\t\t\t\tvar table = document.createElement('table');\r\n\t\t\t\t\tvar tbody = document.createElement('tbody');\r\n\t\t\t\t\tfor (var y = 0; y <= c[1]; y++) {\r\n\t\t\t\t\t\tvar tr = document.createElement('tr');\r\n\t\t\t\t\t\tfor (var x = 0; x <= c[0]; x++) {\r\n\t\t\t\t\t\t\tvar td = document.createElement('td');\r\n\t\t\t\t\t\t\ttd.innerHTML = '';\r\n\t\t\t\t\t\t\ttr.appendChild(td);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttbody.appendChild(tr);\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttable.appendChild(tbody);\r\n\t\t\t\t\ttable.setAttribute('width', '100%');\r\n\t\t\t\t\ttable.setAttribute('cellpadding', '6');\r\n\t\t\t\t\ttable.setAttribute('cellspacing', '0');\r\n\t\t\t\t\tdocument.execCommand('insertHTML', false, table.outerHTML);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn items;\r\n\t}\r\n\r\n\treturn Component;\r\n}\r\n\r\n/* harmony default export */ var editor = (Editor());\r\n;// CONCATENATED MODULE: ./src/plugins/floating.js\r\nfunction Floating() {\r\n\tvar Component = (function (el, options) {\r\n\t\tvar obj = {};\r\n\t\tobj.options = {};\r\n\r\n\t\t// Default configuration\r\n\t\tvar defaults = {\r\n\t\t\ttype: 'big',\r\n\t\t\ttitle: 'Untitled',\r\n\t\t\twidth: 510,\r\n\t\t\theight: 472,\r\n\t\t}\r\n\r\n\t\t// Loop through our object\r\n\t\tfor (var property in defaults) {\r\n\t\t\tif (options && options.hasOwnProperty(property)) {\r\n\t\t\t\tobj.options[property] = options[property];\r\n\t\t\t} else {\r\n\t\t\t\tobj.options[property] = defaults[property];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Private methods\r\n\r\n\t\tvar setContent = function () {\r\n\t\t\tvar temp = document.createElement('div');\r\n\t\t\twhile (el.children[0]) {\r\n\t\t\t\ttemp.appendChild(el.children[0]);\r\n\t\t\t}\r\n\r\n\t\t\tobj.content = document.createElement('div');\r\n\t\t\tobj.content.className = 'jfloating_content';\r\n\t\t\tobj.content.innerHTML = el.innerHTML;\r\n\r\n\t\t\twhile (temp.children[0]) {\r\n\t\t\t\tobj.content.appendChild(temp.children[0]);\r\n\t\t\t}\r\n\r\n\t\t\tobj.container = document.createElement('div');\r\n\t\t\tobj.container.className = 'jfloating';\r\n\t\t\tobj.container.appendChild(obj.content);\r\n\r\n\t\t\tif (obj.options.title) {\r\n\t\t\t\tobj.container.setAttribute('title', obj.options.title);\r\n\t\t\t} else {\r\n\t\t\t\tobj.container.classList.add('no-title');\r\n\t\t\t}\r\n\r\n\t\t\t// validate element dimensions\r\n\t\t\tif (obj.options.width) {\r\n\t\t\t\tobj.container.style.width = parseInt(obj.options.width) + 'px';\r\n\t\t\t}\r\n\r\n\t\t\tif (obj.options.height) {\r\n\t\t\t\tobj.container.style.height = parseInt(obj.options.height) + 'px';\r\n\t\t\t}\r\n\r\n\t\t\tel.innerHTML = '';\r\n\t\t\tel.appendChild(obj.container);\r\n\t\t}\r\n\r\n\t\tvar setEvents = function () {\r\n\t\t\tif (obj.container) {\r\n\t\t\t\tobj.container.addEventListener('click', function (e) {\r\n\t\t\t\t\tvar rect = e.target.getBoundingClientRect();\r\n\r\n\t\t\t\t\tif (e.target.classList.contains('jfloating')) {\r\n\t\t\t\t\t\tif (e.changedTouches && e.changedTouches[0]) {\r\n\t\t\t\t\t\t\tvar x = e.changedTouches[0].clientX;\r\n\t\t\t\t\t\t\tvar y = e.changedTouches[0].clientY;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvar x = e.clientX;\r\n\t\t\t\t\t\t\tvar y = e.clientY;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (rect.width - (x - rect.left) < 50 && (y - rect.top) < 50) {\r\n\t\t\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t\t\tobj.close();\r\n\t\t\t\t\t\t\t}, 100);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tobj.setState();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar setType = function () {\r\n\t\t\tobj.container.classList.add('jfloating-' + obj.options.type);\r\n\t\t}\r\n\r\n\t\tobj.state = {\r\n\t\t\tisMinized: false,\r\n\t\t}\r\n\r\n\t\tobj.setState = function () {\r\n\t\t\tif (obj.state.isMinized) {\r\n\t\t\t\tobj.container.classList.remove('jfloating-minimized');\r\n\t\t\t} else {\r\n\t\t\t\tobj.container.classList.add('jfloating-minimized');\r\n\t\t\t}\r\n\t\t\tobj.state.isMinized = !obj.state.isMinized;\r\n\t\t}\r\n\r\n\t\tobj.close = function () {\r\n\t\t\tComponents.elements.splice(Component.elements.indexOf(obj.container), 1);\r\n\t\t\tobj.updatePosition();\r\n\t\t\tel.remove();\r\n\t\t}\r\n\r\n\t\tobj.updatePosition = function () {\r\n\t\t\tfor (var i = 0; i < Component.elements.length; i++) {\r\n\t\t\t\tvar floating = Component.elements[i];\r\n\t\t\t\tvar prevFloating = Component.elements[i - 1];\r\n\t\t\t\tfloating.style.right = i * (prevFloating ? prevFloating.offsetWidth : floating.offsetWidth) * 1.01 + 'px';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tobj.init = function () {\r\n\t\t\t// Set content into root\r\n\t\t\tsetContent();\r\n\r\n\t\t\t// Set dialog events\r\n\t\t\tsetEvents();\r\n\r\n\t\t\t// Set dialog type\r\n\t\t\tsetType();\r\n\r\n\t\t\t// Update floating position\r\n\t\t\tComponent.elements.push(obj.container);\r\n\t\t\tobj.updatePosition();\r\n\r\n\t\t\tel.floating = obj;\r\n\t\t}\r\n\r\n\t\tobj.init();\r\n\r\n\t\treturn obj;\r\n\t});\r\n\r\n\tComponent.elements = [];\r\n\r\n\treturn Component;\r\n}\r\n\r\n/* harmony default export */ var floating = (Floating());\r\n;// CONCATENATED MODULE: ./src/plugins/validations.js\r\n\r\n\r\nfunction Validations() {\r\n\t/**\r\n\t * Options: Object,\r\n\t * Properties:\r\n\t * Constraint,\r\n\t * Reference,\r\n\t * Value\r\n\t */\r\n\r\n\tconst isNumeric = function(num) {\r\n\t\treturn !isNaN(num) && num !== null && num !== '';\r\n\t}\r\n\r\n\tconst numberCriterias = {\r\n\t\t'between': function(value, range) {\r\n\t\t\treturn value >= range[0] && value <= range[1];\r\n\t\t},\r\n\t\t'not between': function(value, range) {\r\n\t\t\treturn value < range[0] || value > range[1];\r\n\t\t},\r\n\t\t'<': function(value, range) {\r\n\t\t\treturn value < range[0];\r\n\t\t},\r\n\t\t'<=': function(value, range) {\r\n\t\t\treturn value <= range[0];\r\n\t\t},\r\n\t\t'>': function(value, range) {\r\n\t\t\treturn value > range[0];\r\n\t\t},\r\n\t\t'>=': function(value, range) {\r\n\t\t\treturn value >= range[0];\r\n\t\t},\r\n\t\t'=': function(value, range) {\r\n\t\t\treturn value == range[0];\r\n\t\t},\r\n\t\t'!=': function(value, range) {\r\n\t\t\treturn value != range[0];\r\n\t\t},\r\n\t}\r\n\r\n\tconst dateCriterias = {\r\n\t\t'valid date': function() {\r\n\t\t\treturn true;\r\n\t\t},\r\n\t\t'=': function(value, range) {\r\n\t\t\treturn value === range[0];\r\n\t\t},\r\n\t\t'!=': function(value, range) {\r\n\t\t\treturn value !== range[0];\r\n\t\t},\r\n\t\t'<': function(value, range) {\r\n\t\t\treturn value < range[0];\r\n\t\t},\r\n\t\t'<=': function(value, range) {\r\n\t\t\treturn value <= range[0];\r\n\t\t},\r\n\t\t'>': function(value, range) {\r\n\t\t\treturn value > range[0];\r\n\t\t},\r\n\t\t'>=': function(value, range) {\r\n\t\t\treturn value >= range[0];\r\n\t\t},\r\n\t\t'between': function(value, range) {\r\n\t\t\treturn value >= range[0] && value <= range[1];\r\n\t\t},\r\n\t\t'not between': function(value, range) {\r\n\t\t\treturn value < range[0] || value > range[1];\r\n\t\t},\r\n\t}\r\n\r\n\tconst textCriterias = {\r\n\t\t'contains': function(value, range) {\r\n\t\t\treturn value.includes(range[0]);\r\n\t\t},\r\n\t\t'not contains': function(value, range) {\r\n\t\t\treturn !value.includes(range[0]);\r\n\t\t},\r\n\t\t'begins with': function(value, range) {\r\n\t\t\treturn value.startsWith(range[0]);\r\n\t\t},\r\n\t\t'ends with': function(value, range) {\r\n\t\t\treturn value.endsWith(range[0]);\r\n\t\t},\r\n\t\t'=': function(value, range) {\r\n\t\t\treturn value === range[0];\r\n\t\t},\r\n\t\t'!=': function(value, range) {\r\n\t\t\treturn value !== range[0];\r\n\t\t},\r\n\t\t'valid email': function(value) {\r\n\t\t\tvar pattern = new RegExp(/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/);\r\n\r\n\t\t\treturn pattern.test(value);\r\n\t\t},\r\n\t\t'valid url': function(value) {\r\n\t\t\tvar pattern = new RegExp(/(((https?:\\/\\/)|(www\\.))[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|]+)/ig);\r\n\r\n\t\t\treturn pattern.test(value);\r\n\t\t},\r\n\t}\r\n\r\n\t// Component router\r\n\tconst component = function(value, options) {\r\n\t\tif (typeof(component[options.type]) === 'function') {\r\n\t\t\tif (options.allowBlank && value === '') {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn component[options.type](value, options);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tcomponent.url = function(data) {\r\n\t\tvar pattern = new RegExp(/(((https?:\\/\\/)|(www\\.))[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|]+)/ig);\r\n\t\treturn pattern.test(data) ? true : false;\r\n\t}\r\n\r\n\tcomponent.email = function(data) {\r\n\t\tvar pattern = new RegExp(/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/);\r\n\t\treturn data && pattern.test(data) ? true : false;\r\n\t}\r\n\r\n\tcomponent.required = function(data) {\r\n\t\treturn data && data.trim() ? true : false;\r\n\t}\r\n\r\n\tcomponent.exist = function(data, options) {\r\n\t\treturn !!data.toString().trim();\r\n\t}\r\n\r\n\tcomponent['not exist'] = function(data, options) {\r\n\t\treturn !data.toString().trim();\r\n\t}\r\n\r\n\tcomponent.empty = function(data) {\r\n\t\treturn !data.toString().trim();\r\n\t}\r\n\r\n\tcomponent.notEmpty = function(data) {\r\n\t\treturn !!data.toString().trim();\r\n\t}\r\n\r\n\tcomponent.number = function(data, options) {\r\n\t   if (! isNumeric(data)) {\r\n\t\t   return false;\r\n\t   }\r\n\r\n\t   if (!options || !options.criteria) {\r\n\t\t   return true;\r\n\t   }\r\n\r\n\t   if (!numberCriterias[options.criteria]) {\r\n\t\t   return false;\r\n\t   }\r\n\r\n\t   let values = options.value.map(function(num) {\r\n\t\t  return parseFloat(num);\r\n\t   })\r\n\r\n\t   return numberCriterias[options.criteria](data, values);\r\n   };\r\n\r\n\tcomponent.login = function(data) {\r\n\t\tlet pattern = new RegExp(/^[a-zA-Z0-9._-]+$/);\r\n\t\treturn data && pattern.test(data) ? true : false;\r\n\t}\r\n\r\n\tcomponent.list = function(data, options) {\r\n\t\tlet dataType = typeof data;\r\n\t\tif (dataType !== 'string' && dataType !== 'number') {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tlet list;\r\n\t\tif (typeof(options.value[0]) === 'string') {\r\n\t\t\tlist = options.value[0].split(',');\r\n\t\t} else {\r\n\t\t\tlist = options.value[0];\r\n\t\t}\r\n\r\n\t\tif (! Array.isArray(list)) {\r\n\t\t\treturn false;\r\n\t\t} else {\r\n\t\t\tlet validOption = list.findIndex(function (item) {\r\n\t\t\t\treturn item == data;\r\n\t\t\t});\r\n\r\n\t\t\treturn validOption > -1;\r\n\t\t}\r\n\t}\r\n\r\n\tconst getCurrentDateWithoutTime = function() {\r\n\t\tlet date = new Date();\r\n\t\tdate.setHours(0, 0, 0, 0);\r\n\t\treturn date;\r\n\t}\r\n\r\n\tconst relativeDates = {\r\n\t\t'one year ago': function() {\r\n\t\t\tlet date = getCurrentDateWithoutTime();\r\n\r\n\t\t\tdate.setFullYear(date.getFullYear() - 1);\r\n\r\n\t\t\treturn date;\r\n\t\t},\r\n\t\t'one month ago': function() {\r\n\t\t\tlet date = getCurrentDateWithoutTime();\r\n\r\n\t\t\tdate.setMonth(date.getMonth() - 1);\r\n\r\n\t\t\treturn date;\r\n\t\t},\r\n\t\t'one week ago': function() {\r\n\t\t\tlet date = getCurrentDateWithoutTime();\r\n\r\n\t\t\tdate.setDate(date.getDate() - 7);\r\n\r\n\t\t\treturn date;\r\n\t\t},\r\n\t\tyesterday: function() {\r\n\t\t\tlet date = getCurrentDateWithoutTime();\r\n\r\n\t\t\tdate.setDate(date.getDate() - 1);\r\n\r\n\t\t\treturn date;\r\n\t\t},\r\n\t\ttoday: getCurrentDateWithoutTime,\r\n\t\ttomorrow: function() {\r\n\t\t\tlet date = getCurrentDateWithoutTime();\r\n\r\n\t\t\tdate.setDate(date.getDate() + 1);\r\n\r\n\t\t\treturn date;\r\n\t\t},\r\n\t};\r\n\r\n\tcomponent.date = function(data, options) {\r\n\t\tif (isNumeric(data) && data > 0 && data < 1000000) {\r\n\t\t\tdata = helpers_date.numToDate(data);\r\n\t\t}\r\n\r\n\t\tif (new Date(data) == 'Invalid Date') {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif (!options || !options.criteria) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tif (!dateCriterias[options.criteria]) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tlet values = options.value.map(function(date) {\r\n\t\t\tif (typeof date === 'string' && relativeDates[date]) {\r\n\t\t\t\treturn relativeDates[date]().getTime();\r\n\t\t\t}\r\n\r\n\t\t\treturn new Date(date).getTime();\r\n\t\t});\r\n\r\n\t\treturn dateCriterias[options.criteria](new Date(data).getTime(), values);\r\n\t}\r\n\r\n\tcomponent.text = function(data, options) {\r\n\t\tif (typeof data !== 'string') {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif (!options || !options.criteria) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tif (!textCriterias[options.criteria]) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn textCriterias[options.criteria](data, options.value);\r\n\t}\r\n\r\n\tcomponent.textLength = function(data, options) {\r\n\t\tdata = data.toString();\r\n\r\n\t\treturn component.number(data.length, options);\r\n\t}\r\n\r\n\treturn component;\r\n}\r\n\r\n/* harmony default export */ var validations = (Validations());\r\n;// CONCATENATED MODULE: ./src/plugins/form.js\r\n\r\n\r\n\r\n\r\nfunction Form() {\r\n\tvar Component = (function(el, options) {\r\n\t\tvar obj = {};\r\n\t\tobj.options = {};\r\n\r\n\t\t// Default configuration\r\n\t\tvar defaults = {\r\n\t\t\turl: null,\r\n\t\t\tmessage: 'Are you sure? There are unsaved information in your form',\r\n\t\t\tignore: false,\r\n\t\t\tcurrentHash: null,\r\n\t\t\tsubmitButton:null,\r\n\t\t\tvalidations: null,\r\n\t\t\tonbeforeload: null,\r\n\t\t\tonload: null,\r\n\t\t\tonbeforesave: null,\r\n\t\t\tonsave: null,\r\n\t\t\tonbeforeremove: null,\r\n\t\t\tonremove: null,\r\n\t\t\tonerror: function(el, message) {\r\n\t\t\t\talert(message);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// Loop through our object\r\n\t\tfor (var property in defaults) {\r\n\t\t\tif (options && options.hasOwnProperty(property)) {\r\n\t\t\t\tobj.options[property] = options[property];\r\n\t\t\t} else {\r\n\t\t\t\tobj.options[property] = defaults[property];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Validations\r\n\t\tif (! obj.options.validations) {\r\n\t\t\tobj.options.validations = {};\r\n\t\t}\r\n\r\n\t\t// Submit Button\r\n\t\tif (! obj.options.submitButton) {\r\n\t\t\tobj.options.submitButton = el.querySelector('input[type=submit]');\r\n\t\t}\r\n\r\n\t\tif (obj.options.submitButton && obj.options.url) {\r\n\t\t\tobj.options.submitButton.onclick = function() {\r\n\t\t\t\tobj.save();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (! obj.options.validations.email) {\r\n\t\t\tobj.options.validations.email = validations.email;\r\n\t\t}\r\n\r\n\t\tif (! obj.options.validations.length) {\r\n\t\t\tobj.options.validations.length = validations.length;\r\n\t\t}\r\n\r\n\t\tif (! obj.options.validations.required) {\r\n\t\t\tobj.options.validations.required = validations.required;\r\n\t\t}\r\n\r\n\t\tobj.setUrl = function(url) {\r\n\t\t\tobj.options.url = url;\r\n\t\t}\r\n\r\n\t\tobj.load = function() {\r\n\t\t\tajax({\r\n\t\t\t\turl: obj.options.url,\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\tdataType: 'json',\r\n\t\t\t\tqueue: true,\r\n\t\t\t\tsuccess: function(data) {\r\n\t\t\t\t\t// Overwrite values from the backend\r\n\t\t\t\t\tif (typeof(obj.options.onbeforeload) == 'function') {\r\n\t\t\t\t\t\tvar ret = obj.options.onbeforeload(el, data);\r\n\t\t\t\t\t\tif (ret) {\r\n\t\t\t\t\t\t\tdata = ret;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// Apply values to the form\r\n\t\t\t\t\tComponent.setElements(el, data);\r\n\t\t\t\t\t// Onload methods\r\n\t\t\t\t\tif (typeof(obj.options.onload) == 'function') {\r\n\t\t\t\t\t\tobj.options.onload(el, data);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tobj.save = function() {\r\n\t\t\tvar test = obj.validate();\r\n\r\n\t\t\tif (test) {\r\n\t\t\t\tobj.options.onerror(el, test);\r\n\t\t\t} else {\r\n\t\t\t\tvar data = Component.getElements(el, true);\r\n\r\n\t\t\t\tif (typeof(obj.options.onbeforesave) == 'function') {\r\n\t\t\t\t\tvar data = obj.options.onbeforesave(el, data);\r\n\r\n\t\t\t\t\tif (data === false) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tajax({\r\n\t\t\t\t\turl: obj.options.url,\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tdataType: 'json',\r\n\t\t\t\t\tdata: data,\r\n\t\t\t\t\tsuccess: function(result) {\r\n\t\t\t\t\t\tif (typeof(obj.options.onsave) == 'function') {\r\n\t\t\t\t\t\t\tobj.options.onsave(el, data, result);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tobj.remove = function() {\r\n\t\t\tif (typeof(obj.options.onbeforeremove) == 'function') {\r\n\t\t\t\tvar ret = obj.options.onbeforeremove(el, obj);\r\n\t\t\t\tif (ret === false) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tajax({\r\n\t\t\t\turl: obj.options.url,\r\n\t\t\t\tmethod: 'DELETE',\r\n\t\t\t\tdataType: 'json',\r\n\t\t\t\tsuccess: function(result) {\r\n\t\t\t\t\tif (typeof(obj.options.onremove) == 'function') {\r\n\t\t\t\t\t\tobj.options.onremove(el, obj, result);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tobj.reset();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tvar addError = function(element) {\r\n\t\t\t// Add error in the element\r\n\t\t\telement.classList.add('error');\r\n\t\t\t// Submit button\r\n\t\t\tif (obj.options.submitButton) {\r\n\t\t\t\tobj.options.submitButton.setAttribute('disabled', true);\r\n\t\t\t}\r\n\t\t\t// Return error message\r\n\t\t\tvar error = element.getAttribute('data-error') || 'There is an error in the form';\r\n\t\t\telement.setAttribute('title', error);\r\n\t\t\treturn error;\r\n\t\t}\r\n\r\n\t\tvar delError = function(element) {\r\n\t\t\tvar error = false;\r\n\t\t\t// Remove class from this element\r\n\t\t\telement.classList.remove('error');\r\n\t\t\telement.removeAttribute('title');\r\n\t\t\t// Get elements in the form\r\n\t\t\tvar elements = el.querySelectorAll(\"input, select, textarea, div[name]\");\r\n\t\t\t// Run all elements\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tif (elements[i].getAttribute('data-validation')) {\r\n\t\t\t\t\tif (elements[i].classList.contains('error')) {\r\n\t\t\t\t\t\terror = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (obj.options.submitButton) {\r\n\t\t\t\tif (error) {\r\n\t\t\t\t\tobj.options.submitButton.setAttribute('disabled', true);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tobj.options.submitButton.removeAttribute('disabled');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tobj.validateElement = function(element) {\r\n\t\t\t// Test results\r\n\t\t\tvar test = false;\r\n\t\t\t// Value\r\n\t\t\tvar value = Component.getValue(element);\r\n\t\t\t// Validation\r\n\t\t\tvar validation = element.getAttribute('data-validation');\r\n\t\t\t// Parse\r\n\t\t\tif (typeof(obj.options.validations[validation]) == 'function' && ! obj.options.validations[validation](value, element)) {\r\n\t\t\t\t// Not passed in the test\r\n\t\t\t\ttest = addError(element);\r\n\t\t\t} else {\r\n\t\t\t\tif (element.classList.contains('error')) {\r\n\t\t\t\t\tdelError(element);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn test;\r\n\t\t}\r\n\r\n\t\tobj.reset = function() {\r\n\t\t\t// Get elements in the form\r\n\t\t\tvar name = null;\r\n\t\t\tvar elements = el.querySelectorAll(\"input, select, textarea, div[name]\");\r\n\t\t\t// Run all elements\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tif (name = elements[i].getAttribute('name')) {\r\n\t\t\t\t\tif (elements[i].type == 'checkbox' || elements[i].type == 'radio') {\r\n\t\t\t\t\t\telements[i].checked = false;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (typeof(elements[i].val) == 'function') {\r\n\t\t\t\t\t\t\telements[i].val('');\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\telements[i].value = '';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Run form validation\r\n\t\tobj.validate = function() {\r\n\t\t\tvar test = [];\r\n\t\t\t// Get elements in the form\r\n\t\t\tvar elements = el.querySelectorAll(\"input, select, textarea, div[name]\");\r\n\t\t\t// Run all elements\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\t// Required\r\n\t\t\t\tif (elements[i].getAttribute('data-validation')) {\r\n\t\t\t\t\tvar res = obj.validateElement(elements[i]);\r\n\t\t\t\t\tif (res) {\r\n\t\t\t\t\t\ttest.push(res);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (test.length > 0) {\r\n\t\t\t\treturn test.join('<br>');\r\n\t\t\t} else {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Check the form\r\n\t\tobj.getError = function() {\r\n\t\t\t// Validation\r\n\t\t\treturn obj.validation() ? true : false;\r\n\t\t}\r\n\r\n\t\t// Return the form hash\r\n\t\tobj.setHash = function() {\r\n\t\t\treturn obj.getHash(Component.getElements(el));\r\n\t\t}\r\n\r\n\t\t// Get the form hash\r\n\t\tobj.getHash = function(str) {\r\n\t\t\tvar hash = 0, i, chr;\r\n\r\n\t\t\tif (str.length === 0) {\r\n\t\t\t\treturn hash;\r\n\t\t\t} else {\r\n\t\t\t\tfor (i = 0; i < str.length; i++) {\r\n\t\t\t\t  chr = str.charCodeAt(i);\r\n\t\t\t\t  hash = ((hash << 5) - hash) + chr;\r\n\t\t\t\t  hash |= 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn hash;\r\n\t\t}\r\n\r\n\t\t// Is there any change in the form since start tracking?\r\n\t\tobj.isChanged = function() {\r\n\t\t\tvar hash = obj.setHash();\r\n\t\t\treturn (obj.options.currentHash != hash);\r\n\t\t}\r\n\r\n\t\t// Restart tracking\r\n\t\tobj.resetTracker = function() {\r\n\t\t\tobj.options.currentHash = obj.setHash();\r\n\t\t\tobj.options.ignore = false;\r\n\t\t}\r\n\r\n\t\t// Ignore flag\r\n\t\tobj.setIgnore = function(ignoreFlag) {\r\n\t\t\tobj.options.ignore = ignoreFlag ? true : false;\r\n\t\t}\r\n\r\n\t\t// Start tracking in one second\r\n\t\tsetTimeout(function() {\r\n\t\t\tobj.options.currentHash = obj.setHash();\r\n\t\t}, 1000);\r\n\r\n\t\t// Validations\r\n\t\tel.addEventListener(\"keyup\", function(e) {\r\n\t\t\tif (e.target.getAttribute('data-validation')) {\r\n\t\t\t\tobj.validateElement(e.target);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// Alert\r\n\t\tif (! Component.hasEvents) {\r\n\t\t\twindow.addEventListener(\"beforeunload\", function (e) {\r\n\t\t\t\tif (obj.isChanged() && obj.options.ignore == false) {\r\n\t\t\t\t\tvar confirmationMessage =  obj.options.message? obj.options.message : \"\\o/\";\r\n\r\n\t\t\t\t\tif (confirmationMessage) {\r\n\t\t\t\t\t\tif (typeof e == 'undefined') {\r\n\t\t\t\t\t\t\te = window.event;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (e) {\r\n\t\t\t\t\t\t\te.returnValue = confirmationMessage;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn confirmationMessage;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn void(0);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tComponent.hasEvents = true;\r\n\t\t}\r\n\r\n\t\tel.form = obj;\r\n\r\n\t\treturn obj;\r\n\t});\r\n\r\n\t// Get value from one element\r\n\tComponent.getValue = function(element) {\r\n\t\tvar value = null;\r\n\t\tif (element.type == 'checkbox') {\r\n\t\t\tif (element.checked == true) {\r\n\t\t\t\tvalue = element.value || true;\r\n\t\t\t}\r\n\t\t} else if (element.type == 'radio') {\r\n\t\t\tif (element.checked == true) {\r\n\t\t\t\tvalue = element.value;\r\n\t\t\t}\r\n\t\t} else if (element.type == 'file') {\r\n\t\t\tvalue = element.files;\r\n\t\t} else if (element.tagName == 'select' && element.multiple == true) {\r\n\t\t\tvalue = [];\r\n\t\t\tvar options = element.querySelectorAll(\"options[selected]\");\r\n\t\t\tfor (var j = 0; j < options.length; j++) {\r\n\t\t\t\tvalue.push(options[j].value);\r\n\t\t\t}\r\n\t\t} else if (typeof(element.val) == 'function') {\r\n\t\t\tvalue = element.val();\r\n\t\t} else {\r\n\t\t\tvalue = element.value || '';\r\n\t\t}\r\n\r\n\t\treturn value;\r\n\t}\r\n\r\n\t// Get form elements\r\n\tComponent.getElements = function(el, asArray) {\r\n\t\tvar data = {};\r\n\t\tvar name = null;\r\n\t\tvar elements = el.querySelectorAll(\"input, select, textarea, div[name]\");\r\n\r\n\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\tif (name = elements[i].getAttribute('name')) {\r\n\t\t\t\tdata[name] = Component.getValue(elements[i]) || '';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn asArray == true ? data : JSON.stringify(data);\r\n\t}\r\n\r\n\t//Get form elements\r\n\tComponent.setElements = function(el, data) {\r\n\t\tvar name = null;\r\n\t\tvar value = null;\r\n\t\tvar elements = el.querySelectorAll(\"input, select, textarea, div[name]\");\r\n\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t// Attributes\r\n\t\t\tvar type = elements[i].getAttribute('type');\r\n\t\t\tif (name = elements[i].getAttribute('name')) {\r\n\t\t\t\t// Transform variable names in pathname\r\n\t\t\t\tname = name.replace(new RegExp(/\\[(.*?)\\]/ig), '.$1');\r\n\t\t\t\tvalue = null;\r\n\t\t\t\t// Seach for the data in the path\r\n\t\t\t\tif (name.match(/\\./)) {\r\n\t\t\t\t\tvar tmp = Path.call(data, name) || '';\r\n\t\t\t\t\tif (typeof(tmp) !== 'undefined') {\r\n\t\t\t\t\t\tvalue = tmp;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (typeof(data[name]) !== 'undefined') {\r\n\t\t\t\t\t\tvalue = data[name];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// Set the values\r\n\t\t\t\tif (value !== null) {\r\n\t\t\t\t\tif (type == 'checkbox' || type == 'radio') {\r\n\t\t\t\t\t\telements[i].checked = value ? true : false;\r\n\t\t\t\t\t} else if (type == 'file') {\r\n\t\t\t\t\t\t// Do nothing\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (typeof (elements[i].val) == 'function') {\r\n\t\t\t\t\t\t\telements[i].val(value);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\telements[i].value = value;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn Component;\r\n}\r\n\r\n/* harmony default export */ var plugins_form = (Form());\r\n;// CONCATENATED MODULE: ./src/plugins/modal.js\r\n\r\n\r\n\r\n\r\nfunction Modal() {\r\n\r\n\tvar Events = function() {\r\n\t\t//  Position\r\n\t\tvar tracker = null;\r\n\r\n\t\tvar keyDown = function (e) {\r\n\t\t\tif (e.which == 27) {\r\n\t\t\t\tvar modals = document.querySelectorAll('.jmodal');\r\n\t\t\t\tfor (var i = 0; i < modals.length; i++) {\r\n\t\t\t\t\tmodals[i].parentNode.modal.close();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar mouseUp = function (e) {\r\n\t\t\tlet element = e.composedPath();\r\n\t\t\tvar item = helpers.findElement(element[0], 'jmodal');\r\n\t\t\tif (item) {\r\n\t\t\t\t// Get target info\r\n\t\t\t\tvar rect = item.getBoundingClientRect();\r\n\r\n\t\t\t\tif (e.changedTouches && e.changedTouches[0]) {\r\n\t\t\t\t\tvar x = e.changedTouches[0].clientX;\r\n\t\t\t\t\tvar y = e.changedTouches[0].clientY;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar x = e.clientX;\r\n\t\t\t\t\tvar y = e.clientY;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (rect.width - (x - rect.left) < 50 && (y - rect.top) < 50) {\r\n\t\t\t\t\titem.parentNode.modal.close();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (tracker) {\r\n\t\t\t\ttracker.element.style.cursor = 'auto';\r\n\t\t\t\ttracker = null;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar mouseDown = function (e) {\r\n\t\t\tlet element = e.composedPath();\r\n\t\t\tvar item = helpers.findElement(element[0], 'jmodal');\r\n\t\t\tif (item) {\r\n\t\t\t\t// Get target info\r\n\t\t\t\tvar rect = item.getBoundingClientRect();\r\n\r\n\t\t\t\tif (e.changedTouches && e.changedTouches[0]) {\r\n\t\t\t\t\tvar x = e.changedTouches[0].clientX;\r\n\t\t\t\t\tvar y = e.changedTouches[0].clientY;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar x = e.clientX;\r\n\t\t\t\t\tvar y = e.clientY;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (rect.width - (x - rect.left) < 50 && (y - rect.top) < 50) {\r\n\t\t\t\t\t// Do nothing\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (y - rect.top < 50) {\r\n\t\t\t\t\t\tif (document.selection) {\r\n\t\t\t\t\t\t\tdocument.selection.empty();\r\n\t\t\t\t\t\t} else if (window.getSelection) {\r\n\t\t\t\t\t\t\twindow.getSelection().removeAllRanges();\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\ttracker = {\r\n\t\t\t\t\t\t\tleft: rect.left,\r\n\t\t\t\t\t\t\ttop: rect.top,\r\n\t\t\t\t\t\t\tx: e.clientX,\r\n\t\t\t\t\t\t\ty: e.clientY,\r\n\t\t\t\t\t\t\twidth: rect.width,\r\n\t\t\t\t\t\t\theight: rect.height,\r\n\t\t\t\t\t\t\telement: item,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar mouseMove = function (e) {\r\n\t\t\tif (tracker) {\r\n\t\t\t\te = e || window.event;\r\n\t\t\t\tif (e.buttons) {\r\n\t\t\t\t\tvar mouseButton = e.buttons;\r\n\t\t\t\t} else if (e.button) {\r\n\t\t\t\t\tvar mouseButton = e.button;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar mouseButton = e.which;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (mouseButton) {\r\n\t\t\t\t\ttracker.element.style.top = (tracker.top + (e.clientY - tracker.y) + (tracker.height / 2)) + 'px';\r\n\t\t\t\t\ttracker.element.style.left = (tracker.left + (e.clientX - tracker.x) + (tracker.width / 2)) + 'px';\r\n\t\t\t\t\ttracker.element.style.cursor = 'move';\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttracker.element.style.cursor = 'auto';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdocument.addEventListener('keydown', keyDown);\r\n\t\tdocument.addEventListener('mouseup', mouseUp);\r\n\t\tdocument.addEventListener('mousedown', mouseDown);\r\n\t\tdocument.addEventListener('mousemove', mouseMove);\r\n\t}\r\n\r\n\tvar Component = (function (el, options) {\r\n\t\tvar obj = {};\r\n\t\tobj.options = {};\r\n\r\n\t\t// Default configuration\r\n\t\tvar defaults = {\r\n\t\t\turl: null,\r\n\t\t\tonopen: null,\r\n\t\t\tonclose: null,\r\n\t\t\tonload: null,\r\n\t\t\tclosed: false,\r\n\t\t\twidth: null,\r\n\t\t\theight: null,\r\n\t\t\ttitle: null,\r\n\t\t\tpadding: null,\r\n\t\t\tbackdrop: true,\r\n\t\t\ticon: null,\r\n\t\t};\r\n\r\n\t\t// Loop through our object\r\n\t\tfor (var property in defaults) {\r\n\t\t\tif (options && options.hasOwnProperty(property)) {\r\n\t\t\t\tobj.options[property] = options[property];\r\n\t\t\t} else {\r\n\t\t\t\tobj.options[property] = defaults[property];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Title\r\n\t\tif (!obj.options.title && el.getAttribute('title')) {\r\n\t\t\tobj.options.title = el.getAttribute('title');\r\n\t\t}\r\n\r\n\t\tvar temp = document.createElement('div');\r\n\t\twhile (el.children[0]) {\r\n\t\t\ttemp.appendChild(el.children[0]);\r\n\t\t}\r\n\r\n\t\tobj.title = document.createElement('div');\r\n\t\tobj.title.className = 'jmodal_title';\r\n\t\tif (obj.options.icon) {\r\n\t\t\tobj.title.setAttribute('data-icon', obj.options.icon);\r\n\t\t}\r\n\r\n\t\tobj.content = document.createElement('div');\r\n\t\tobj.content.className = 'jmodal_content';\r\n\t\tobj.content.innerHTML = el.innerHTML;\r\n\r\n\t\twhile (temp.children[0]) {\r\n\t\t\tobj.content.appendChild(temp.children[0]);\r\n\t\t}\r\n\r\n\t\tobj.container = document.createElement('div');\r\n\t\tobj.container.className = 'jmodal';\r\n\t\tobj.container.appendChild(obj.title);\r\n\t\tobj.container.appendChild(obj.content);\r\n\r\n\t\tif (obj.options.padding) {\r\n\t\t\tobj.content.style.padding = obj.options.padding;\r\n\t\t}\r\n\t\tif (obj.options.width) {\r\n\t\t\tobj.container.style.width = obj.options.width;\r\n\t\t}\r\n\t\tif (obj.options.height) {\r\n\t\t\tobj.container.style.height = obj.options.height;\r\n\t\t}\r\n\t\tif (obj.options.title) {\r\n\t\t\tvar title = document.createElement('h4');\r\n\t\t\ttitle.innerText = obj.options.title;\r\n\t\t\tobj.title.appendChild(title);\r\n\t\t}\r\n\r\n\t\tel.innerHTML = '';\r\n\t\tel.style.display = 'none';\r\n\t\tel.appendChild(obj.container);\r\n\r\n\t\t// Backdrop\r\n\t\tif (obj.options.backdrop) {\r\n\t\t\tvar backdrop = document.createElement('div');\r\n\t\t\tbackdrop.className = 'jmodal_backdrop';\r\n\t\t\tbackdrop.onclick = function () {\r\n\t\t\t\tobj.close();\r\n\t\t\t}\r\n\t\t\tel.appendChild(backdrop);\r\n\t\t}\r\n\r\n\t\tobj.open = function () {\r\n\t\t\tel.style.display = 'block';\r\n\t\t\t// Fullscreen\r\n\t\t\tvar rect = obj.container.getBoundingClientRect();\r\n\t\t\tif (helpers.getWindowWidth() < rect.width) {\r\n\t\t\t\tobj.container.style.top = '';\r\n\t\t\t\tobj.container.style.left = '';\r\n\t\t\t\tobj.container.classList.add('jmodal_fullscreen');\r\n\t\t\t\tanimation.slideBottom(obj.container, 1);\r\n\t\t\t} else {\r\n\t\t\t\tif (obj.options.backdrop) {\r\n\t\t\t\t\tbackdrop.style.display = 'block';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// Event\r\n\t\t\tif (typeof (obj.options.onopen) == 'function') {\r\n\t\t\t\tobj.options.onopen(el, obj);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tobj.resetPosition = function () {\r\n\t\t\tobj.container.style.top = '';\r\n\t\t\tobj.container.style.left = '';\r\n\t\t}\r\n\r\n\t\tobj.isOpen = function () {\r\n\t\t\treturn el.style.display != 'none' ? true : false;\r\n\t\t}\r\n\r\n\t\tobj.close = function () {\r\n\t\t\tif (obj.isOpen()) {\r\n\t\t\t\tel.style.display = 'none';\r\n\t\t\t\tif (obj.options.backdrop) {\r\n\t\t\t\t\t// Backdrop\r\n\t\t\t\t\tbackdrop.style.display = '';\r\n\t\t\t\t}\r\n\t\t\t\t// Remove fullscreen class\r\n\t\t\t\tobj.container.classList.remove('jmodal_fullscreen');\r\n\t\t\t\t// Event\r\n\t\t\t\tif (typeof (obj.options.onclose) == 'function') {\r\n\t\t\t\t\tobj.options.onclose(el, obj);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (obj.options.url) {\r\n\t\t\tajax({\r\n\t\t\t\turl: obj.options.url,\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\tdataType: 'text/html',\r\n\t\t\t\tsuccess: function (data) {\r\n\t\t\t\t\tobj.content.innerHTML = data;\r\n\r\n\t\t\t\t\tif (!obj.options.closed) {\r\n\t\t\t\t\t\tobj.open();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (typeof (obj.options.onload) === 'function') {\r\n\t\t\t\t\t\tobj.options.onload(obj);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (!obj.options.closed) {\r\n\t\t\t\tobj.open();\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof (obj.options.onload) === 'function') {\r\n\t\t\t\tobj.options.onload(obj);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Keep object available from the node\r\n\t\tel.modal = obj;\r\n\r\n\t\t// Create events when the first modal is create only\r\n\t\tEvents();\r\n\r\n\t\t// Execute the events only once\r\n\t\tEvents = function() {};\r\n\r\n\t\treturn obj;\r\n\t});\r\n\r\n\treturn Component;\r\n}\r\n\r\n/* harmony default export */ var modal = (Modal());\r\n;// CONCATENATED MODULE: ./src/plugins/notification.js\r\n\r\n\r\n\r\nfunction Notification() {\r\n\tvar Component = function (options) {\r\n\t\tvar obj = {};\r\n\t\tobj.options = {};\r\n\r\n\t\t// Default configuration\r\n\t\tvar defaults = {\r\n\t\t\ticon: null,\r\n\t\t\tname: 'Notification',\r\n\t\t\tdate: null,\r\n\t\t\terror: null,\r\n\t\t\ttitle: null,\r\n\t\t\tmessage: null,\r\n\t\t\ttimeout: 4000,\r\n\t\t\tautoHide: true,\r\n\t\t\tcloseable: true,\r\n\t\t};\r\n\r\n\t\t// Loop through our object\r\n\t\tfor (var property in defaults) {\r\n\t\t\tif (options && options.hasOwnProperty(property)) {\r\n\t\t\t\tobj.options[property] = options[property];\r\n\t\t\t} else {\r\n\t\t\t\tobj.options[property] = defaults[property];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar notification = document.createElement('div');\r\n\t\tnotification.className = 'jnotification';\r\n\r\n\t\tif (obj.options.error) {\r\n\t\t\tnotification.classList.add('jnotification-error');\r\n\t\t}\r\n\r\n\t\tvar notificationContainer = document.createElement('div');\r\n\t\tnotificationContainer.className = 'jnotification-container';\r\n\t\tnotification.appendChild(notificationContainer);\r\n\r\n\t\tvar notificationHeader = document.createElement('div');\r\n\t\tnotificationHeader.className = 'jnotification-header';\r\n\t\tnotificationContainer.appendChild(notificationHeader);\r\n\r\n\t\tvar notificationImage = document.createElement('div');\r\n\t\tnotificationImage.className = 'jnotification-image';\r\n\t\tnotificationHeader.appendChild(notificationImage);\r\n\r\n\t\tif (obj.options.icon) {\r\n\t\t\tvar notificationIcon = document.createElement('img');\r\n\t\t\tnotificationIcon.src = obj.options.icon;\r\n\t\t\tnotificationImage.appendChild(notificationIcon);\r\n\t\t}\r\n\r\n\t\tvar notificationName = document.createElement('div');\r\n\t\tnotificationName.className = 'jnotification-name';\r\n\t\tnotificationName.innerHTML = obj.options.name;\r\n\t\tnotificationHeader.appendChild(notificationName);\r\n\r\n\t\tif (obj.options.closeable == true) {\r\n\t\t\tvar notificationClose = document.createElement('div');\r\n\t\t\tnotificationClose.className = 'jnotification-close';\r\n\t\t\tnotificationClose.onclick = function () {\r\n\t\t\t\tobj.hide();\r\n\t\t\t}\r\n\t\t\tnotificationHeader.appendChild(notificationClose);\r\n\t\t}\r\n\r\n\t\tvar notificationDate = document.createElement('div');\r\n\t\tnotificationDate.className = 'jnotification-date';\r\n\t\tnotificationHeader.appendChild(notificationDate);\r\n\r\n\t\tvar notificationContent = document.createElement('div');\r\n\t\tnotificationContent.className = 'jnotification-content';\r\n\t\tnotificationContainer.appendChild(notificationContent);\r\n\r\n\t\tif (obj.options.title) {\r\n\t\t\tvar notificationTitle = document.createElement('div');\r\n\t\t\tnotificationTitle.className = 'jnotification-title';\r\n\t\t\tnotificationTitle.innerHTML = obj.options.title;\r\n\t\t\tnotificationContent.appendChild(notificationTitle);\r\n\t\t}\r\n\r\n\t\tvar notificationMessage = document.createElement('div');\r\n\t\tnotificationMessage.className = 'jnotification-message';\r\n\t\tnotificationMessage.innerHTML = obj.options.message;\r\n\t\tnotificationContent.appendChild(notificationMessage);\r\n\r\n\t\tobj.show = function () {\r\n\t\t\tdocument.body.appendChild(notification);\r\n\t\t\tif (helpers.getWindowWidth() > 800) {\r\n\t\t\t\tanimation.fadeIn(notification);\r\n\t\t\t} else {\r\n\t\t\t\tanimation.slideTop(notification, 1);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tobj.hide = function () {\r\n\t\t\tif (helpers.getWindowWidth() > 800) {\r\n\t\t\t\tanimation.fadeOut(notification, function () {\r\n\t\t\t\t\tif (notification.parentNode) {\r\n\t\t\t\t\t\tnotification.parentNode.removeChild(notification);\r\n\t\t\t\t\t\tif (notificationTimeout) {\r\n\t\t\t\t\t\t\tclearTimeout(notificationTimeout);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tanimation.slideTop(notification, 0, function () {\r\n\t\t\t\t\tif (notification.parentNode) {\r\n\t\t\t\t\t\tnotification.parentNode.removeChild(notification);\r\n\t\t\t\t\t\tif (notificationTimeout) {\r\n\t\t\t\t\t\t\tclearTimeout(notificationTimeout);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tobj.show();\r\n\r\n\t\tif (obj.options.autoHide == true) {\r\n\t\t\tvar notificationTimeout = setTimeout(function () {\r\n\t\t\t\tobj.hide();\r\n\t\t\t}, obj.options.timeout);\r\n\t\t}\r\n\r\n\t\tif (helpers.getWindowWidth() < 800) {\r\n\t\t\tnotification.addEventListener(\"swipeup\", function (e) {\r\n\t\t\t\tobj.hide();\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn obj;\r\n\t}\r\n\r\n\tComponent.isVisible = function () {\r\n\t\tvar j = document.querySelector('.jnotification');\r\n\t\treturn j && j.parentNode ? true : false;\r\n\t}\r\n\r\n\treturn Component;\r\n}\r\n\r\n/* harmony default export */ var notification = (Notification());\r\n;// CONCATENATED MODULE: ./src/plugins/progressbar.js\r\nfunction Progressbar(el, options) {\r\n\tvar obj = {};\r\n\tobj.options = {};\r\n\r\n\t// Default configuration\r\n\tvar defaults = {\r\n\t\tvalue: 0,\r\n\t\tonchange: null,\r\n\t\twidth: null,\r\n\t};\r\n\r\n\t// Loop through the initial configuration\r\n\tfor (var property in defaults) {\r\n\t\tif (options && options.hasOwnProperty(property)) {\r\n\t\t\tobj.options[property] = options[property];\r\n\t\t} else {\r\n\t\t\tobj.options[property] = defaults[property];\r\n\t\t}\r\n\t}\r\n\r\n\t// Class\r\n\tel.classList.add('jprogressbar');\r\n\tel.setAttribute('tabindex', 1);\r\n\tel.setAttribute('data-value', obj.options.value);\r\n\r\n\tvar bar = document.createElement('div');\r\n\tbar.style.width = obj.options.value + '%';\r\n\tbar.style.color = '#fff';\r\n\tel.appendChild(bar);\r\n\r\n\tif (obj.options.width) {\r\n\t\tel.style.width = obj.options.width;\r\n\t}\r\n\r\n\t// Set value\r\n\tobj.setValue = function(value) {\r\n\t\tvalue = parseInt(value);\r\n\t\tobj.options.value = value;\r\n\t\tbar.style.width = value + '%';\r\n\t\tel.setAttribute('data-value', value + '%');\r\n\r\n\t\tif (value < 6) {\r\n\t\t\tel.style.color = '#000';\r\n\t\t} else {\r\n\t\t\tel.style.color = '#fff';\r\n\t\t}\r\n\r\n\t\t// Update value\r\n\t\tobj.options.value = value;\r\n\r\n\t\tif (typeof(obj.options.onchange) == 'function') {\r\n\t\t\tobj.options.onchange(el, value);\r\n\t\t}\r\n\r\n\t\t// Lemonade JS\r\n\t\tif (el.value != obj.options.value) {\r\n\t\t\tel.value = obj.options.value;\r\n\t\t\tif (typeof(el.oninput) == 'function') {\r\n\t\t\t\tel.oninput({\r\n\t\t\t\t\ttype: 'input',\r\n\t\t\t\t\ttarget: el,\r\n\t\t\t\t\tvalue: el.value\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tobj.getValue = function() {\r\n\t\treturn obj.options.value;\r\n\t}\r\n\r\n\tvar action = function(e) {\r\n\t\tif (e.which) {\r\n\t\t\t// Get target info\r\n\t\t\tvar rect = el.getBoundingClientRect();\r\n\r\n\t\t\tif (e.changedTouches && e.changedTouches[0]) {\r\n\t\t\t\tvar x = e.changedTouches[0].clientX;\r\n\t\t\t\tvar y = e.changedTouches[0].clientY;\r\n\t\t\t} else {\r\n\t\t\t\tvar x = e.clientX;\r\n\t\t\t\tvar y = e.clientY;\r\n\t\t\t}\r\n\r\n\t\t\tobj.setValue(Math.round((x - rect.left) / rect.width * 100));\r\n\t\t}\r\n\t}\r\n\r\n\t// Events\r\n\tif ('touchstart' in document.documentElement === true) {\r\n\t\tel.addEventListener('touchstart', action);\r\n\t\tel.addEventListener('touchend', action);\r\n\t} else {\r\n\t\tel.addEventListener('mousedown', action);\r\n\t\tel.addEventListener(\"mousemove\", action);\r\n\t}\r\n\r\n\t// Change\r\n\tel.change = obj.setValue;\r\n\r\n\t// Global generic value handler\r\n\tel.val = function(val) {\r\n\t\tif (val === undefined) {\r\n\t\t\treturn obj.getValue();\r\n\t\t} else {\r\n\t\t\tobj.setValue(val);\r\n\t\t}\r\n\t}\r\n\r\n\t// Reference\r\n\tel.progressbar = obj;\r\n\r\n\treturn obj;\r\n}\r\n;// CONCATENATED MODULE: ./src/plugins/rating.js\r\nfunction Rating(el, options) {\r\n\t// Already created, update options\r\n\tif (el.rating) {\r\n\t\treturn el.rating.setOptions(options, true);\r\n\t}\r\n\r\n\t// New instance\r\n\tvar obj = {};\r\n\tobj.options = {};\r\n\r\n\tobj.setOptions = function(options, reset) {\r\n\t\t// Default configuration\r\n\t\tvar defaults = {\r\n\t\t\tnumber: 5,\r\n\t\t\tvalue: 0,\r\n\t\t\ttooltip: [ 'Very bad', 'Bad', 'Average', 'Good', 'Very good' ],\r\n\t\t\tonchange: null,\r\n\t\t};\r\n\r\n\t\t// Loop through the initial configuration\r\n\t\tfor (var property in defaults) {\r\n\t\t\tif (options && options.hasOwnProperty(property)) {\r\n\t\t\t\tobj.options[property] = options[property];\r\n\t\t\t} else {\r\n\t\t\t\tif (typeof(obj.options[property]) == 'undefined' || reset === true) {\r\n\t\t\t\t\tobj.options[property] = defaults[property];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Make sure the container is empty\r\n\t\tel.innerHTML = '';\r\n\r\n\t\t// Add elements\r\n\t\tfor (var i = 0; i < obj.options.number; i++) {\r\n\t\t\tvar div = document.createElement('div');\r\n\t\t\tdiv.setAttribute('data-index', (i + 1))\r\n\t\t\tdiv.setAttribute('title', obj.options.tooltip[i])\r\n\t\t\tel.appendChild(div);\r\n\t\t}\r\n\r\n\t\t// Selected option\r\n\t\tif (obj.options.value) {\r\n\t\t\tfor (var i = 0; i < obj.options.number; i++) {\r\n\t\t\t\tif (i < obj.options.value) {\r\n\t\t\t\t\tel.children[i].classList.add('jrating-selected');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn obj;\r\n\t}\r\n\r\n\t// Set value\r\n\tobj.setValue = function(index) {\r\n\t\tfor (var i = 0; i < obj.options.number; i++) {\r\n\t\t\tif (i < index) {\r\n\t\t\t\tel.children[i].classList.add('jrating-selected');\r\n\t\t\t} else {\r\n\t\t\t\tel.children[i].classList.remove('jrating-over');\r\n\t\t\t\tel.children[i].classList.remove('jrating-selected');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tobj.options.value = index;\r\n\r\n\t\tif (typeof(obj.options.onchange) == 'function') {\r\n\t\t\tobj.options.onchange(el, index);\r\n\t\t}\r\n\r\n\t\t// Lemonade JS\r\n\t\tif (el.value != obj.options.value) {\r\n\t\t\tel.value = obj.options.value;\r\n\t\t\tif (typeof(el.oninput) == 'function') {\r\n\t\t\t\tel.oninput({\r\n\t\t\t\t\ttype: 'input',\r\n\t\t\t\t\ttarget: el,\r\n\t\t\t\t\tvalue: el.value\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tobj.getValue = function() {\r\n\t\treturn obj.options.value;\r\n\t}\r\n\r\n\tvar init = function() {\r\n\t\t// Start plugin\r\n\t\tobj.setOptions(options);\r\n\r\n\t\t// Class\r\n\t\tel.classList.add('jrating');\r\n\r\n\t\t// Events\r\n\t\tel.addEventListener(\"click\", function(e) {\r\n\t\t\tvar index = e.target.getAttribute('data-index');\r\n\t\t\tif (index != undefined) {\r\n\t\t\t\tif (index == obj.options.value) {\r\n\t\t\t\t\tobj.setValue(0);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tobj.setValue(index);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tel.addEventListener(\"mouseover\", function(e) {\r\n\t\t\tvar index = e.target.getAttribute('data-index');\r\n\t\t\tfor (var i = 0; i < obj.options.number; i++) {\r\n\t\t\t\tif (i < index) {\r\n\t\t\t\t\tel.children[i].classList.add('jrating-over');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tel.children[i].classList.remove('jrating-over');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tel.addEventListener(\"mouseout\", function(e) {\r\n\t\t\tfor (var i = 0; i < obj.options.number; i++) {\r\n\t\t\t\tel.children[i].classList.remove('jrating-over');\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// Change\r\n\t\tel.change = obj.setValue;\r\n\r\n\t\t// Global generic value handler\r\n\t\tel.val = function(val) {\r\n\t\t\tif (val === undefined) {\r\n\t\t\t\treturn obj.getValue();\r\n\t\t\t} else {\r\n\t\t\t\tobj.setValue(val);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Reference\r\n\t\tel.rating = obj;\r\n\t}\r\n\r\n\tinit();\r\n\r\n\treturn obj;\r\n}\r\n;// CONCATENATED MODULE: ./src/plugins/search.js\r\n\r\n\r\n\r\nfunction Search(el, options) {\r\n\tif (el.search) {\r\n\t\treturn el.search;\r\n\t}\r\n\r\n\tvar index =  null;\r\n\r\n\tvar select = function(e) {\r\n\t\tif (e.target.classList.contains('jsearch_item')) {\r\n\t\t\tvar element = e.target;\r\n\t\t} else {\r\n\t\t\tvar element = e.target.parentNode;\r\n\t\t}\r\n\r\n\t\tobj.selectIndex(element);\r\n\t\te.preventDefault();\r\n\t}\r\n\r\n\tvar createList = function(data) {\r\n\t\tif (typeof(obj.options.onsearch) == 'function') {\r\n\t\t\tvar ret = obj.options.onsearch(obj, data);\r\n\t\t\tif (ret) {\r\n\t\t\t\tdata = ret;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Reset container\r\n\t\tcontainer.innerHTML = '';\r\n\t\t// Print results\r\n\t\tif (! data.length) {\r\n\t\t\t// Show container\r\n\t\t\tel.style.display = '';\r\n\t\t} else {\r\n\t\t\t// Show container\r\n\t\t\tel.style.display = 'block';\r\n\r\n\t\t\t// Show items (only 10)\r\n\t\t\tvar len = data.length < 11 ? data.length : 10;\r\n\t\t\tfor (var i = 0; i < len; i++) {\r\n\t\t\t\tif (typeof(data[i]) == 'string') {\r\n\t\t\t\t\tvar text = data[i];\r\n\t\t\t\t\tvar value = data[i];\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Legacy\r\n\t\t\t\t\tvar text = data[i].text;\r\n\t\t\t\t\tif (! text && data[i].name) {\r\n\t\t\t\t\t\ttext = data[i].name;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar value = data[i].value;\r\n\t\t\t\t\tif (! value && data[i].id) {\r\n\t\t\t\t\t\tvalue = data[i].id;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar div = document.createElement('div');\r\n\t\t\t\tdiv.setAttribute('data-value', value);\r\n\t\t\t\tdiv.setAttribute('data-text', text);\r\n\t\t\t\tdiv.className = 'jsearch_item';\r\n\r\n\t\t\t\tif (data[i].id) {\r\n\t\t\t\t\tdiv.setAttribute('id', data[i].id)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (obj.options.forceSelect && i == 0) {\r\n\t\t\t\t\tdiv.classList.add('selected');\r\n\t\t\t\t}\r\n\t\t\t\tvar img = document.createElement('img');\r\n\t\t\t\tif (data[i].image) {\r\n\t\t\t\t\timg.src = data[i].image;\r\n\t\t\t\t} else {\r\n\t\t\t\t\timg.style.display = 'none';\r\n\t\t\t\t}\r\n\t\t\t\tdiv.appendChild(img);\r\n\r\n\t\t\t\tvar item = document.createElement('div');\r\n\t\t\t\titem.innerHTML = text;\r\n\t\t\t\tdiv.appendChild(item);\r\n\r\n\t\t\t\t// Append item to the container\r\n\t\t\t\tcontainer.appendChild(div);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tvar execute = function(str) {\r\n\t\tif (str != obj.terms) {\r\n\t\t\t// New terms\r\n\t\t\tobj.terms = str;\r\n\t\t\t// New index\r\n\t\t\tif (obj.options.forceSelect) {\r\n\t\t\t\tindex = 0;\r\n\t\t\t} else {\r\n\t\t\t\tindex = null;\r\n\t\t\t}\r\n\t\t\t// Array or remote search\r\n\t\t\tif (Array.isArray(obj.options.data)) {\r\n\t\t\t\tvar test = function(o) {\r\n\t\t\t\t\tif (typeof(o) == 'string') {\r\n\t\t\t\t\t\tif ((''+o).toLowerCase().search(str.toLowerCase()) >= 0) {\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tfor (var key in o) {\r\n\t\t\t\t\t\t\tvar value = o[key];\r\n\t\t\t\t\t\t\tif ((''+value).toLowerCase().search(str.toLowerCase()) >= 0) {\r\n\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar results = obj.options.data.filter(function(item) {\r\n\t\t\t\t\treturn test(item);\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// Show items\r\n\t\t\t\tcreateList(results);\r\n\t\t\t} else {\r\n\t\t\t\t// Get remove results\r\n\t\t\t\tajax({\r\n\t\t\t\t\turl: obj.options.data + str,\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\tdataType: 'json',\r\n\t\t\t\t\tsuccess: function(data) {\r\n\t\t\t\t\t\t// Show items\r\n\t\t\t\t\t\tcreateList(data);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// Search timer\r\n\tvar timer = null;\r\n\r\n\t// Search methods\r\n\tvar obj = function(str) {\r\n\t\tif (timer) {\r\n\t\t\tclearTimeout(timer);\r\n\t\t}\r\n\t\ttimer = setTimeout(function() {\r\n\t\t\texecute(str);\r\n\t\t}, 500);\r\n\t}\r\n\tif(options.forceSelect === null) {\r\n\t\toptions.forceSelect = true;\r\n\t}\r\n\tobj.options = {\r\n\t\tdata: options.data || null,\r\n\t\tinput: options.input || null,\r\n\t\tsearchByNode: options.searchByNode || null,\r\n\t\tonselect: options.onselect || null,\r\n\t\tforceSelect: options.forceSelect,\r\n\t\tonsearch: options.onsearch || null,\r\n\t\tonbeforesearch: options.onbeforesearch || null,\r\n\t};\r\n\r\n\tobj.selectIndex = function(item) {\r\n\t\tvar id = item.getAttribute('id');\r\n\t\tvar text = item.getAttribute('data-text');\r\n\t\tvar value = item.getAttribute('data-value');\r\n\t\tvar image = item.children[0].src || '';\r\n\t\t// Onselect\r\n\t\tif (typeof(obj.options.onselect) == 'function') {\r\n\t\t\tobj.options.onselect(obj, text, value, id, image);\r\n\t\t}\r\n\t\t// Close container\r\n\t\tobj.close();\r\n\t}\r\n\r\n\tobj.open = function() {\r\n\t\tel.style.display = 'block';\r\n\t}\r\n\r\n\tobj.close = function() {\r\n\t\tif (timer) {\r\n\t\t\tclearTimeout(timer);\r\n\t\t}\r\n\t\t// Current terms\r\n\t\tobj.terms = '';\r\n\t\t// Remove results\r\n\t\tcontainer.innerHTML = '';\r\n\t\t// Hide\r\n\t\tel.style.display = '';\r\n\t}\r\n\r\n\tobj.isOpened = function() {\r\n\t\treturn el.style.display ? true : false;\r\n\t}\r\n\r\n\tobj.keydown = function(e) {\r\n\t\tif (obj.isOpened()) {\r\n\t\t\tif (e.key == 'Enter') {\r\n\t\t\t\t// Enter\r\n\t\t\t\tif (index!==null && container.children[index]) {\r\n\t\t\t\t\tobj.selectIndex(container.children[index]);\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tobj.close();\r\n\t\t\t\t}\r\n\t\t\t} else if (e.key === 'ArrowUp') {\r\n\t\t\t\t// Up\r\n\t\t\t\tif (index!==null && container.children[0]) {\r\n\t\t\t\t\tcontainer.children[index].classList.remove('selected');\r\n\t\t\t\t\tif(!obj.options.forceSelect && index === 0) {\r\n\t\t\t\t\t\tindex = null;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tindex = Math.max(0, index-1);\r\n\t\t\t\t\t\tcontainer.children[index].classList.add('selected');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\te.preventDefault();\r\n\t\t\t} else if (e.key === 'ArrowDown') {\r\n\t\t\t\t// Down\r\n\t\t\t\tif(index == null) {\r\n\t\t\t\t\tindex = -1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcontainer.children[index].classList.remove('selected');\r\n\t\t\t\t}\r\n\t\t\t\tif (index < 9 && container.children[index+1]) {\r\n\t\t\t\t\tindex++;\r\n\t\t\t\t}\r\n\t\t\t\tcontainer.children[index].classList.add('selected');\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tobj.keyup = function(e) {\r\n\t\tif (! obj.options.searchByNode && obj.options.input) {\r\n\t\t\tif (obj.options.input.tagName === 'DIV') {\r\n\t\t\t\tvar terms = obj.options.input.innerText;\r\n\t\t\t} else {\r\n\t\t\t\tvar terms = obj.options.input.value;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// Current node\r\n\t\t\tvar node = helpers.getNode();\r\n\t\t\tif (node) {\r\n\t\t\t\tvar terms = node.innerText;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (typeof(obj.options.onbeforesearch) == 'function') {\r\n\t\t\tvar ret = obj.options.onbeforesearch(obj, terms);\r\n\t\t\tif (ret) {\r\n\t\t\t\tterms = ret;\r\n\t\t\t} else {\r\n\t\t\t\tif (ret === false) {\r\n\t\t\t\t\t// Ignore event\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tobj(terms);\r\n\t}\r\n\r\n\tobj.blur = function(e) {\r\n\t\tobj.close();\r\n\t}\r\n\r\n\t// Add events\r\n\tif (obj.options.input) {\r\n\t\tobj.options.input.addEventListener(\"keyup\", obj.keyup);\r\n\t\tobj.options.input.addEventListener(\"keydown\", obj.keydown);\r\n\t\tobj.options.input.addEventListener(\"blur\", obj.blur);\r\n\t}\r\n\r\n\t// Append element\r\n\tvar container = document.createElement('div');\r\n\tcontainer.classList.add('jsearch_container');\r\n\tcontainer.onmousedown = select;\r\n\tel.appendChild(container);\r\n\r\n\tel.classList.add('jsearch');\r\n\tel.search = obj;\r\n\r\n\treturn obj;\r\n}\r\n;// CONCATENATED MODULE: ./src/plugins/slider.js\r\nfunction Slider(el, options) {\r\n\tvar obj = {};\r\n\tobj.options = {};\r\n\tobj.currentImage = null;\r\n\r\n\tif (options) {\r\n\t\tobj.options = options;\r\n\t}\r\n\r\n\t// Focus\r\n\tel.setAttribute('tabindex', '900')\r\n\r\n\t// Items\r\n\tobj.options.items = [];\r\n\r\n\tif (! el.classList.contains('jslider')) {\r\n\t\tel.classList.add('jslider');\r\n\t\tel.classList.add('unselectable');\r\n\r\n\t\tif (obj.options.height) {\r\n\t\t\tel.style.minHeight = parseInt(obj.options.height) + 'px';\r\n\t\t}\r\n\t\tif (obj.options.width) {\r\n\t\t\tel.style.width = parseInt(obj.options.width) + 'px';\r\n\t\t}\r\n\t\tif (obj.options.grid) {\r\n\t\t\tel.classList.add('jslider-grid');\r\n\t\t\tvar number = el.children.length;\r\n\t\t\tif (number > 4) {\r\n\t\t\t\tel.setAttribute('data-total', number - 4);\r\n\t\t\t}\r\n\t\t\tel.setAttribute('data-number', (number > 4 ? 4 : number));\r\n\t\t}\r\n\r\n\t\t// Add slider counter\r\n\t\tvar counter = document.createElement('div');\r\n\t\tcounter.classList.add('jslider-counter');\r\n\r\n\t\t// Move children inside\r\n\t\tif (el.children.length > 0) {\r\n\t\t\t// Keep children items\r\n\t\t\tfor (var i = 0; i < el.children.length; i++) {\r\n\t\t\t\tobj.options.items.push(el.children[i]);\r\n\r\n\t\t\t\t// counter click event\r\n\t\t\t\tvar item = document.createElement('div');\r\n\t\t\t\titem.onclick = function() {\r\n\t\t\t\t\tvar index = Array.prototype.slice.call(counter.children).indexOf(this);\r\n\t\t\t\t\tobj.show(obj.currentImage = obj.options.items[index]);\r\n\t\t\t\t}\r\n\t\t\t\tcounter.appendChild(item);\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Add caption\r\n\t\tvar caption = document.createElement('div');\r\n\t\tcaption.className = 'jslider-caption';\r\n\r\n\t\t// Add close buttom\r\n\t\tvar controls = document.createElement('div');\r\n\t\tvar close = document.createElement('div');\r\n\t\tclose.className = 'jslider-close';\r\n\t\tclose.innerHTML = '';\r\n\r\n\t\tclose.onclick = function() {\r\n\t\t\tobj.close();\r\n\t\t}\r\n\t\tcontrols.appendChild(caption);\r\n\t\tcontrols.appendChild(close);\r\n\t}\r\n\r\n\tobj.updateCounter = function(index) {\r\n\t\tfor (var i = 0; i < counter.children.length; i ++) {\r\n\t\t\tif (counter.children[i].classList.contains('jslider-counter-focus')) {\r\n\t\t\t\tcounter.children[i].classList.remove('jslider-counter-focus');\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tcounter.children[index].classList.add('jslider-counter-focus');\r\n\t}\r\n\r\n\tobj.show = function(target) {\r\n\t\tif (! target) {\r\n\t\t\tvar target = el.children[0];\r\n\t\t}\r\n\r\n\t\t// Focus element\r\n\t\tel.classList.add('jslider-focus');\r\n\t\tel.classList.remove('jslider-grid');\r\n\t\tel.appendChild(controls);\r\n\t\tel.appendChild(counter);\r\n\r\n\t\t// Update counter\r\n\t\tvar index = obj.options.items.indexOf(target);\r\n\t\tobj.updateCounter(index);\r\n\r\n\t\t// Remove display\r\n\t\tfor (var i = 0; i < el.children.length; i++) {\r\n\t\t\tel.children[i].style.display = '';\r\n\t\t}\r\n\t\ttarget.style.display = 'block';\r\n\r\n\t\t// Is there any previous\r\n\t\tif (target.previousElementSibling) {\r\n\t\t\tel.classList.add('jslider-left');\r\n\t\t} else {\r\n\t\t\tel.classList.remove('jslider-left');\r\n\t\t}\r\n\r\n\t\t// Is there any next\r\n\t\tif (target.nextElementSibling && target.nextElementSibling.tagName == 'IMG') {\r\n\t\t\tel.classList.add('jslider-right');\r\n\t\t} else {\r\n\t\t\tel.classList.remove('jslider-right');\r\n\t\t}\r\n\r\n\t\tobj.currentImage = target;\r\n\r\n\t\t// Vertical image\r\n\t\tif (obj.currentImage.offsetHeight > obj.currentImage.offsetWidth) {\r\n\t\t\tobj.currentImage.classList.add('jslider-vertical');\r\n\t\t}\r\n\r\n\t\tcontrols.children[0].innerText = obj.currentImage.getAttribute('title');\r\n\t}\r\n\r\n\tobj.open = function() {\r\n\t\tobj.show();\r\n\r\n\t\t// Event\r\n\t\tif (typeof(obj.options.onopen) == 'function') {\r\n\t\t\tobj.options.onopen(el);\r\n\t\t}\r\n\t}\r\n\r\n\tobj.close = function() {\r\n\t\t// Remove control classes\r\n\t\tel.classList.remove('jslider-focus');\r\n\t\tel.classList.remove('jslider-left');\r\n\t\tel.classList.remove('jslider-right');\r\n\t\t// Show as a grid depending on the configuration\r\n\t\tif (obj.options.grid) {\r\n\t\t\tel.classList.add('jslider-grid');\r\n\t\t}\r\n\t\t// Remove display\r\n\t\tfor (var i = 0; i < el.children.length; i++) {\r\n\t\t\tel.children[i].style.display = '';\r\n\t\t}\r\n\t\t// Remove controls from the component\r\n\t\tcounter.remove();\r\n\t\tcontrols.remove();\r\n\t\t// Current image\r\n\t\tobj.currentImage = null;\r\n\t\t// Event\r\n\t\tif (typeof(obj.options.onclose) == 'function') {\r\n\t\t\tobj.options.onclose(el);\r\n\t\t}\r\n\t}\r\n\r\n\tobj.reset = function() {\r\n\t\tel.innerHTML = '';\r\n\t}\r\n\r\n\tobj.next = function() {\r\n\t\tvar nextImage = obj.currentImage.nextElementSibling;\r\n\t\tif (nextImage && nextImage.tagName === 'IMG') {\r\n\t\t\tobj.show(obj.currentImage.nextElementSibling);\r\n\t\t}\r\n\t}\r\n\r\n\tobj.prev = function() {\r\n\t\tif (obj.currentImage.previousElementSibling) {\r\n\t\t\tobj.show(obj.currentImage.previousElementSibling);\r\n\t\t}\r\n\t}\r\n\r\n\tvar mouseUp = function(e) {\r\n\t\t// Open slider\r\n\t\tif (e.target.tagName == 'IMG') {\r\n\t\t\tobj.show(e.target);\r\n\t\t} else if (! e.target.classList.contains('jslider-close') && ! (e.target.parentNode.classList.contains('jslider-counter') || e.target.classList.contains('jslider-counter'))){\r\n\t\t\t// Arrow controls\r\n\t\t\tvar offsetX = e.offsetX || e.changedTouches[0].clientX;\r\n\t\t\tif (e.target.clientWidth - offsetX < 40) {\r\n\t\t\t\t// Show next image\r\n\t\t\t\tobj.next();\r\n\t\t\t} else if (offsetX < 40) {\r\n\t\t\t\t// Show previous image\r\n\t\t\t\tobj.prev();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tif ('ontouchend' in document.documentElement === true) {\r\n\t\tel.addEventListener('touchend', mouseUp);\r\n\t} else {\r\n\t\tel.addEventListener('mouseup', mouseUp);\r\n\t}\r\n\r\n\t// Add global events\r\n\tel.addEventListener(\"swipeleft\", function(e) {\r\n\t\tobj.next();\r\n\t\te.preventDefault();\r\n\t\te.stopPropagation();\r\n\t});\r\n\r\n\tel.addEventListener(\"swiperight\", function(e) {\r\n\t\tobj.prev();\r\n\t\te.preventDefault();\r\n\t\te.stopPropagation();\r\n\t});\r\n\r\n\tel.addEventListener('keydown', function(e) {\r\n\t\tif (e.which == 27) {\r\n\t\t\tobj.close();\r\n\t\t}\r\n\t});\r\n\r\n\tel.slider = obj;\r\n\r\n\treturn obj;\r\n}\r\n;// CONCATENATED MODULE: ./src/plugins/tags.js\r\n\r\n\r\n\r\n\r\nfunction Tags(el, options) {\r\n\t// Redefine configuration\r\n\tif (el.tags) {\r\n\t\treturn el.tags.setOptions(options, true);\r\n\t}\r\n\r\n\tvar obj = { type:'tags' };\r\n\tobj.options = {};\r\n\r\n\t// Limit\r\n\tvar limit = function() {\r\n\t\treturn obj.options.limit && el.children.length >= obj.options.limit ? true : false;\r\n\t}\r\n\r\n\t// Search helpers\r\n\tvar search = null;\r\n\tvar searchContainer = null;\r\n\r\n\tobj.setOptions = function(options, reset) {\r\n\t\t/**\r\n\t\t * @typedef {Object} defaults\r\n\t\t * @property {(string|Array)} value - Initial value of the compontent\r\n\t\t * @property {number} limit - Max number of tags inside the element\r\n\t\t * @property {string} search - The URL for suggestions\r\n\t\t * @property {string} placeholder - The default instruction text on the element\r\n\t\t * @property {validation} validation - Method to validate the tags\r\n\t\t * @property {requestCallback} onbeforechange - Method to be execute before any changes on the element\r\n\t\t * @property {requestCallback} onchange - Method to be execute after any changes on the element\r\n\t\t * @property {requestCallback} onfocus - Method to be execute when on focus\r\n\t\t * @property {requestCallback} onblur - Method to be execute when on blur\r\n\t\t * @property {requestCallback} onload - Method to be execute when the element is loaded\r\n\t\t */\r\n\t\tvar defaults = {\r\n\t\t\tvalue: '',\r\n\t\t\tlimit: null,\r\n\t\t\tsearch: null,\r\n\t\t\tplaceholder: null,\r\n\t\t\tvalidation: null,\r\n\t\t\tonbeforepaste: null,\r\n\t\t\tonbeforechange: null,\r\n\t\t\tonlimit: null,\r\n\t\t\tonchange: null,\r\n\t\t\tonfocus: null,\r\n\t\t\tonblur: null,\r\n\t\t\tonload: null,\r\n\t\t}\r\n\r\n\t\t// Loop through though the default configuration\r\n\t\tfor (var property in defaults) {\r\n\t\t\tif (options && options.hasOwnProperty(property)) {\r\n\t\t\t\tobj.options[property] = options[property];\r\n\t\t\t} else {\r\n\t\t\t\tif (typeof(obj.options[property]) == 'undefined' || reset === true) {\r\n\t\t\t\t\tobj.options[property] = defaults[property];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Placeholder\r\n\t\tif (obj.options.placeholder) {\r\n\t\t\tel.setAttribute('data-placeholder', obj.options.placeholder);\r\n\t\t} else {\r\n\t\t\tel.removeAttribute('data-placeholder');\r\n\t\t}\r\n\t\tel.placeholder = obj.options.placeholder;\r\n\r\n\t\t// Update value\r\n\t\tobj.setValue(obj.options.value);\r\n\r\n\t\t// Validate items\r\n\t\tfilter();\r\n\r\n\t\t// Create search box\r\n\t\tif (obj.options.search) {\r\n\t\t\tif (! searchContainer) {\r\n\t\t\t\tsearchContainer = document.createElement('div');\r\n\t\t\t\tel.parentNode.insertBefore(searchContainer, el.nextSibling);\r\n\r\n\t\t\t\t// Create container\r\n\t\t\t\tsearch = Search(searchContainer, {\r\n\t\t\t\t\tdata: obj.options.search,\r\n\t\t\t\t\tonselect: function(a,b,c) {\r\n\t\t\t\t\t\tobj.selectIndex(b,c);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (searchContainer) {\r\n\t\t\t\tsearch = null;\r\n\t\t\t\tsearchContainer.remove();\r\n\t\t\t\tsearchContainer = null;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn obj;\r\n\t}\r\n\r\n\t/**\r\n\t * Add a new tag to the element\r\n\t * @param {(?string|Array)} value - The value of the new element\r\n\t */\r\n\tobj.add = function(value, focus) {\r\n\t\tif (typeof(obj.options.onbeforechange) == 'function') {\r\n\t\t\tvar ret = obj.options.onbeforechange(el, obj, obj.options.value, value);\r\n\t\t\tif (ret === false) {\r\n\t\t\t\treturn false;\r\n\t\t\t} else {\r\n\t\t\t\tif (ret != null) {\r\n\t\t\t\t\tvalue = ret;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Make sure search is closed\r\n\t\tif (search) {\r\n\t\t\tsearch.close();\r\n\t\t}\r\n\r\n\t\tif (limit()) {\r\n\t\t\tif (typeof(obj.options.onlimit) == 'function') {\r\n\t\t\t\tobj.options.onlimit(obj, obj.options.limit);\r\n\t\t\t} else {\r\n\t\t\t\talert(dictionary.translate('You reach the limit number of entries') + ' ' + obj.options.limit);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// Get node\r\n\t\t\tvar node = helpers.getNode();\r\n\r\n\t\t\tif (node && node.parentNode && node.parentNode.classList.contains('jtags') &&\r\n\t\t\t\tnode.nextSibling && (! (node.nextSibling.innerText && node.nextSibling.innerText.trim()))) {\r\n\t\t\t\tdiv = node.nextSibling;\r\n\t\t\t} else {\r\n\t\t\t\t// Remove not used last item\r\n\t\t\t\tif (el.lastChild) {\r\n\t\t\t\t\tif (! el.lastChild.innerText.trim()) {\r\n\t\t\t\t\t\tel.removeChild(el.lastChild);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Mix argument string or array\r\n\t\t\t\tif (! value || typeof(value) == 'string') {\r\n\t\t\t\t\tvar div = createElement(value, value, node);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfor (var i = 0; i <= value.length; i++) {\r\n\t\t\t\t\t\tif (! limit()) {\r\n\t\t\t\t\t\t\tif (! value[i] || typeof(value[i]) == 'string') {\r\n\t\t\t\t\t\t\t\tvar t = value[i] || '';\r\n\t\t\t\t\t\t\t\tvar v = null;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tvar t = value[i].text;\r\n\t\t\t\t\t\t\t\tvar v = value[i].value;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// Add element\r\n\t\t\t\t\t\t\tvar div = createElement(t, v);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Change\r\n\t\t\t\tchange();\r\n\t\t\t}\r\n\r\n\t\t\t// Place caret\r\n\t\t\tif (focus) {\r\n\t\t\t\tsetFocus(div);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tobj.setLimit = function(limit) {\r\n\t\tobj.options.limit = limit;\r\n\t\tvar n = el.children.length - limit;\r\n\t\twhile (el.children.length > limit) {\r\n\t\t\tel.removeChild(el.lastChild);\r\n\t\t}\r\n\t}\r\n\r\n\t// Remove a item node\r\n\tobj.remove = function(node) {\r\n\t\t// Remove node\r\n\t\tnode.parentNode.removeChild(node);\r\n\t\t// Make sure element is not blank\r\n\t\tif (! el.children.length) {\r\n\t\t\tobj.add('', true);\r\n\t\t} else {\r\n\t\t\tchange();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Get all tags in the element\r\n\t * @return {Array} data - All tags as an array\r\n\t */\r\n\tobj.getData = function() {\r\n\t\tvar data = [];\r\n\t\tfor (var i = 0; i < el.children.length; i++) {\r\n\t\t\t// Get value\r\n\t\t\tvar text = el.children[i].innerText.replace(\"\\n\", \"\");\r\n\t\t\t// Get id\r\n\t\t\tvar value = el.children[i].getAttribute('data-value');\r\n\t\t\tif (! value) {\r\n\t\t\t\tvalue = text;\r\n\t\t\t}\r\n\t\t\t// Item\r\n\t\t\tif (text || value) {\r\n\t\t\t\tdata.push({ text: text, value: value });\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn data;\r\n\t}\r\n\r\n\t/**\r\n\t * Get the value of one tag. Null for all tags\r\n\t * @param {?number} index - Tag index number. Null for all tags.\r\n\t * @return {string} value - All tags separated by comma\r\n\t */\r\n\tobj.getValue = function(index) {\r\n\t\tvar value = null;\r\n\r\n\t\tif (index != null) {\r\n\t\t\t// Get one individual value\r\n\t\t\tvalue = el.children[index].getAttribute('data-value');\r\n\t\t\tif (! value) {\r\n\t\t\t\tvalue = el.children[index].innerText.replace(\"\\n\", \"\");\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// Get all\r\n\t\t\tvar data = [];\r\n\t\t\tfor (var i = 0; i < el.children.length; i++) {\r\n\t\t\t\tvalue = el.children[i].innerText.replace(\"\\n\", \"\");\r\n\t\t\t\tif (value) {\r\n\t\t\t\t\tdata.push(obj.getValue(i));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvalue = data.join(',');\r\n\t\t}\r\n\r\n\t\treturn value;\r\n\t}\r\n\r\n\t/**\r\n\t * Set the value of the element based on a string separeted by (,|;|\\r\\n)\r\n\t * @param {mixed} value - A string or array object with values\r\n\t */\r\n\tobj.setValue = function(mixed) {\r\n\t\tif (! mixed) {\r\n\t\t\tobj.reset();\r\n\t\t} else {\r\n\t\t\tif (el.value != mixed) {\r\n\t\t\t\tif (Array.isArray(mixed)) {\r\n\t\t\t\t\tobj.add(mixed);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Remove whitespaces\r\n\t\t\t\t\tvar text = (''+mixed).trim();\r\n\t\t\t\t\t// Tags\r\n\t\t\t\t\tvar data = extractTags(text);\r\n\t\t\t\t\t// Reset\r\n\t\t\t\t\tel.innerHTML = '';\r\n\t\t\t\t\t// Add tags to the element\r\n\t\t\t\t\tobj.add(data);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Reset the data from the element\r\n\t */\r\n\tobj.reset = function() {\r\n\t\t// Empty class\r\n\t\tel.classList.add('jtags-empty');\r\n\t\t// Empty element\r\n\t\tel.innerHTML = '<div></div>';\r\n\t\t// Execute changes\r\n\t\tchange();\r\n\t}\r\n\r\n\t/**\r\n\t * Verify if all tags in the element are valid\r\n\t * @return {boolean}\r\n\t */\r\n\tobj.isValid = function() {\r\n\t\tvar test = 0;\r\n\t\tfor (var i = 0; i < el.children.length; i++) {\r\n\t\t\tif (el.children[i].classList.contains('jtags_error')) {\r\n\t\t\t\ttest++;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn test == 0 ? true : false;\r\n\t}\r\n\r\n\t/**\r\n\t * Add one element from the suggestions to the element\r\n\t * @param {object} item - Node element in the suggestions container\r\n\t */\r\n\tobj.selectIndex = function(text, value) {\r\n\t\tvar node = helpers.getNode();\r\n\t\tif (node) {\r\n\t\t\t// Append text to the caret\r\n\t\t\tnode.innerText = text;\r\n\t\t\t// Set node id\r\n\t\t\tif (value) {\r\n\t\t\t\tnode.setAttribute('data-value', value);\r\n\t\t\t}\r\n\t\t\t// Remove any error\r\n\t\t\tnode.classList.remove('jtags_error');\r\n\t\t\tif (! limit()) {\r\n\t\t\t\t// Add new item\r\n\t\t\t\tobj.add('', true);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Search for suggestions\r\n\t * @param {object} node - Target node for any suggestions\r\n\t */\r\n\tobj.search = function(node) {\r\n\t\t// Search for\r\n\t\tvar terms = node.innerText;\r\n\t}\r\n\r\n\t// Destroy tags element\r\n\tobj.destroy = function() {\r\n\t\t// Bind events\r\n\t\tel.removeEventListener('mouseup', tagsMouseUp);\r\n\t\tel.removeEventListener('keydown', tagsKeyDown);\r\n\t\tel.removeEventListener('keyup', tagsKeyUp);\r\n\t\tel.removeEventListener('paste', tagsPaste);\r\n\t\tel.removeEventListener('focus', tagsFocus);\r\n\t\tel.removeEventListener('blur', tagsBlur);\r\n\r\n\t\t// Remove element\r\n\t\tel.parentNode.removeChild(el);\r\n\t}\r\n\r\n\tvar setFocus = function(node) {\r\n\t\tif (el.children.length) {\r\n\t\t\tvar range = document.createRange();\r\n\t\t\tvar sel = window.getSelection();\r\n\t\t\tif (! node) {\r\n\t\t\t\tvar node = el.childNodes[el.childNodes.length-1];\r\n\t\t\t}\r\n\t\t\trange.setStart(node, node.length)\r\n\t\t\trange.collapse(true)\r\n\t\t\tsel.removeAllRanges()\r\n\t\t\tsel.addRange(range)\r\n\t\t\tel.scrollLeft = el.scrollWidth;\r\n\t\t}\r\n\t}\r\n\r\n\tvar createElement = function(label, value, node) {\r\n\t\tvar div = document.createElement('div');\r\n\t\tdiv.innerHTML = label ? label : '';\r\n\t\tif (value) {\r\n\t\t\tdiv.setAttribute('data-value', value);\r\n\t\t}\r\n\r\n\t\tif (node && node.parentNode.classList.contains('jtags')) {\r\n\t\t\tel.insertBefore(div, node.nextSibling);\r\n\t\t} else {\r\n\t\t\tel.appendChild(div);\r\n\t\t}\r\n\r\n\t\treturn div;\r\n\t}\r\n\r\n\tvar change = function() {\r\n\t\t// Value\r\n\t\tvar value = obj.getValue();\r\n\r\n\t\tif (value != obj.options.value) {\r\n\t\t\tobj.options.value = value;\r\n\t\t\tif (typeof(obj.options.onchange) == 'function') {\r\n\t\t\t\tobj.options.onchange(el, obj, obj.options.value);\r\n\t\t\t}\r\n\r\n\t\t\t// Lemonade JS\r\n\t\t\tif (el.value != obj.options.value) {\r\n\t\t\t\tel.value = obj.options.value;\r\n\t\t\t\tif (typeof(el.oninput) == 'function') {\r\n\t\t\t\t\tel.oninput({\r\n\t\t\t\t\t\ttype: 'input',\r\n\t\t\t\t\t\ttarget: el,\r\n\t\t\t\t\t\tvalue: el.value\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfilter();\r\n\t}\r\n\r\n\t/**\r\n\t * Filter tags\r\n\t */\r\n\tvar filter = function() {\r\n\t\tfor (var i = 0; i < el.children.length; i++) {\r\n\t\t\tif (el.children[i].tagName === 'DIV') {\r\n\t\t\t\t// Create label design\r\n\t\t\t\tif (!obj.getValue(i)) {\r\n\t\t\t\t\tel.children[i].classList.remove('jtags_label');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tel.children[i].classList.add('jtags_label');\r\n\r\n\t\t\t\t\t// Validation in place\r\n\t\t\t\t\tif (typeof (obj.options.validation) == 'function') {\r\n\t\t\t\t\t\tif (obj.getValue(i)) {\r\n\t\t\t\t\t\t\tif (!obj.options.validation(el.children[i], el.children[i].innerText, el.children[i].getAttribute('data-value'))) {\r\n\t\t\t\t\t\t\t\tel.children[i].classList.add('jtags_error');\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tel.children[i].classList.remove('jtags_error');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tel.children[i].classList.remove('jtags_error');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tel.children[i].classList.remove('jtags_error');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tisEmpty();\r\n\t}\r\n\r\n\tvar isEmpty = function() {\r\n\t\t// Can't be empty\r\n\t\tif (! el.innerText.trim()) {\r\n\t\t\tif (! el.children.length || el.children[0].tagName === 'BR') {\r\n\t\t\t\tel.innerHTML = '';\r\n\t\t\t\tsetFocus(createElement());\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tel.classList.remove('jtags-empty');\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Extract tags from a string\r\n\t * @param {string} text - Raw string\r\n\t * @return {Array} data - Array with extracted tags\r\n\t */\r\n\tvar extractTags = function(text) {\r\n\t\t/** @type {Array} */\r\n\t\tvar data = [];\r\n\r\n\t\t/** @type {string} */\r\n\t\tvar word = '';\r\n\r\n\t\t// Remove whitespaces\r\n\t\ttext = text.trim();\r\n\r\n\t\tif (text) {\r\n\t\t\tfor (var i = 0; i < text.length; i++) {\r\n\t\t\t\tif (text[i] == ',' || text[i] == ';' || text[i] == '\\n') {\r\n\t\t\t\t\tif (word) {\r\n\t\t\t\t\t\tdata.push(word.trim());\r\n\t\t\t\t\t\tword = '';\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tword += text[i];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (word) {\r\n\t\t\t\tdata.push(word);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\t}\r\n\r\n\t/** @type {number} */\r\n\tvar anchorOffset = 0;\r\n\r\n\t/**\r\n\t * Processing event keydown on the element\r\n\t * @param e {object}\r\n\t */\r\n\tvar tagsKeyDown = function(e) {\r\n\t\t// Anchoroffset\r\n\t\tanchorOffset = window.getSelection().anchorOffset;\r\n\r\n\t\t// Verify if is empty\r\n\t\tisEmpty();\r\n\r\n\t\t// Comma\r\n\t\tif (e.key === 'Tab'  || e.key === ';' || e.key === ',') {\r\n\t\t\tvar n = window.getSelection().anchorOffset;\r\n\t\t\tif (n > 1) {\r\n\t\t\t\tif (limit()) {\r\n\t\t\t\t\tif (typeof(obj.options.onlimit) == 'function') {\r\n\t\t\t\t\t\tobj.options.onlimit(obj, obj.options.limit)\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tobj.add('', true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\te.preventDefault();\r\n\t\t} else if (e.key == 'Enter') {\r\n\t\t\tif (! search || ! search.isOpened()) {\r\n\t\t\t\tvar n = window.getSelection().anchorOffset;\r\n\t\t\t\tif (n > 1) {\r\n\t\t\t\t\tif (! limit()) {\r\n\t\t\t\t\t\tobj.add('', true);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\t\t} else if (e.key == 'Backspace') {\r\n\t\t\t// Back space - do not let last item to be removed\r\n\t\t\tif (el.children.length == 1 && window.getSelection().anchorOffset < 1) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Search events\r\n\t\tif (search) {\r\n\t\t\tsearch.keydown(e);\r\n\t\t}\r\n\r\n\t\t// Verify if is empty\r\n\t\tisEmpty();\r\n\t}\r\n\r\n\t/**\r\n\t * Processing event keyup on the element\r\n\t * @param e {object}\r\n\t */\r\n\tvar tagsKeyUp = function(e) {\r\n\t\tif (e.which == 39) {\r\n\t\t\t// Right arrow\r\n\t\t\tvar n = window.getSelection().anchorOffset;\r\n\t\t\tif (n > 1 && n == anchorOffset) {\r\n\t\t\t\tobj.add('', true);\r\n\t\t\t}\r\n\t\t} else if (e.which == 13 || e.which == 38 || e.which == 40) {\r\n\t\t\te.preventDefault();\r\n\t\t} else {\r\n\t\t\tif (search) {\r\n\t\t\t\tsearch.keyup(e);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfilter();\r\n\t}\r\n\r\n\t/**\r\n\t * Processing event paste on the element\r\n\t * @param e {object}\r\n\t */\r\n\tvar tagsPaste =  function(e) {\r\n\t\tif (e.clipboardData || e.originalEvent.clipboardData) {\r\n\t\t\tvar text = (e.originalEvent || e).clipboardData.getData('text/plain');\r\n\t\t} else if (window.clipboardData) {\r\n\t\t\tvar text = window.clipboardData.getData('Text');\r\n\t\t}\r\n\r\n\t\tvar data = extractTags(text);\r\n\r\n\t\tif (typeof(obj.options.onbeforepaste) == 'function') {\r\n\t\t\tvar ret = obj.options.onbeforepaste(el, obj, data);\r\n\t\t\tif (ret === false) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\treturn false;\r\n\t\t\t} else {\r\n\t\t\t\tif (ret) {\r\n\t\t\t\t\tdata = ret;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (data.length > 1) {\r\n\t\t\tobj.add(data, true);\r\n\t\t\te.preventDefault();\r\n\t\t} else if (data[0]) {\r\n\t\t\tdocument.execCommand('insertText', false, data[0])\r\n\t\t\te.preventDefault();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Processing event mouseup on the element\r\n\t * @param e {object}\r\n\t */\r\n\tvar tagsMouseUp = function(e) {\r\n\t\tif (e.target.parentNode && e.target.parentNode.classList.contains('jtags')) {\r\n\t\t\tif (e.target.classList.contains('jtags_label') || e.target.classList.contains('jtags_error')) {\r\n\t\t\t\tvar rect = e.target.getBoundingClientRect();\r\n\t\t\t\tif (rect.width - (e.clientX - rect.left) < 16) {\r\n\t\t\t\t\tobj.remove(e.target);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Set focus in the last item\r\n\t\tif (e.target == el) {\r\n\t\t\tsetFocus();\r\n\t\t}\r\n\t}\r\n\r\n\tvar tagsFocus = function() {\r\n\t\tif (! el.classList.contains('jtags-focus')) {\r\n\t\t\tif (! el.children.length || obj.getValue(el.children.length - 1)) {\r\n\t\t\t\tif (! limit()) {\r\n\t\t\t\t\tcreateElement('');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof(obj.options.onfocus) == 'function') {\r\n\t\t\t\tobj.options.onfocus(el, obj, obj.getValue());\r\n\t\t\t}\r\n\r\n\t\t\tel.classList.add('jtags-focus');\r\n\t\t}\r\n\t}\r\n\r\n\tvar tagsBlur = function() {\r\n\t\tif (el.classList.contains('jtags-focus')) {\r\n\t\t\tif (search) {\r\n\t\t\t\tsearch.close();\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i = 0; i < el.children.length - 1; i++) {\r\n\t\t\t\t// Create label design\r\n\t\t\t\tif (! obj.getValue(i)) {\r\n\t\t\t\t\tel.removeChild(el.children[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tchange();\r\n\r\n\t\t\tel.classList.remove('jtags-focus');\r\n\r\n\t\t\tif (typeof(obj.options.onblur) == 'function') {\r\n\t\t\t\tobj.options.onblur(el, obj, obj.getValue());\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tvar init = function() {\r\n\t\t// Bind events\r\n\t\tif ('touchend' in document.documentElement === true) {\r\n\t\t\tel.addEventListener('touchend', tagsMouseUp);\r\n\t\t} else {\r\n\t\t\tel.addEventListener('mouseup', tagsMouseUp);\r\n\t\t}\r\n\r\n\t\tel.addEventListener('keydown', tagsKeyDown);\r\n\t\tel.addEventListener('keyup', tagsKeyUp);\r\n\t\tel.addEventListener('paste', tagsPaste);\r\n\t\tel.addEventListener('focus', tagsFocus);\r\n\t\tel.addEventListener('blur', tagsBlur);\r\n\r\n\t\t// Editable\r\n\t\tel.setAttribute('contenteditable', true);\r\n\r\n\t\t// Prepare container\r\n\t\tel.classList.add('jtags');\r\n\r\n\t\t// Initial options\r\n\t\tobj.setOptions(options);\r\n\r\n\t\tif (typeof(obj.options.onload) == 'function') {\r\n\t\t\tobj.options.onload(el, obj);\r\n\t\t}\r\n\r\n\t\t// Change methods\r\n\t\tel.change = obj.setValue;\r\n\r\n\t\t// Global generic value handler\r\n\t\tel.val = function(val) {\r\n\t\t\tif (val === undefined) {\r\n\t\t\t\treturn obj.getValue();\r\n\t\t\t} else {\r\n\t\t\t\tobj.setValue(val);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tel.tags = obj;\r\n\t}\r\n\r\n\tinit();\r\n\r\n\treturn obj;\r\n}\r\n;// CONCATENATED MODULE: ./src/plugins/upload.js\r\n\r\n\r\n\r\n\r\nfunction Upload(el, options) {\r\n\tvar obj = {};\r\n\tobj.options = {};\r\n\r\n\t// Default configuration\r\n\tvar defaults = {\r\n\t\ttype: 'image',\r\n\t\textension: '*',\r\n\t\tinput: false,\r\n\t\tminWidth: false,\r\n\t\tmaxWidth: null,\r\n\t\tmaxHeight: null,\r\n\t\tmaxJpegSizeBytes: null, // For example, 350Kb would be 350000\r\n\t\tonchange: null,\r\n\t\tmultiple: false,\r\n\t\tremoteParser: null,\r\n\t};\r\n\r\n\t// Loop through our object\r\n\tfor (var property in defaults) {\r\n\t\tif (options && options.hasOwnProperty(property)) {\r\n\t\t\tobj.options[property] = options[property];\r\n\t\t} else {\r\n\t\t\tobj.options[property] = defaults[property];\r\n\t\t}\r\n\t}\r\n\r\n\t// Multiple\r\n\tif (obj.options.multiple == true) {\r\n\t\tel.setAttribute('data-multiple', true);\r\n\t}\r\n\r\n\t// Container\r\n\tel.content = [];\r\n\r\n\t// Upload icon\r\n\tel.classList.add('jupload');\r\n\r\n\tif (obj.options.input == true) {\r\n\t\tel.classList.add('input');\r\n\t}\r\n\r\n\tobj.add = function(data) {\r\n\t\t// Reset container for single files\r\n\t\tif (obj.options.multiple == false) {\r\n\t\t\tel.content = [];\r\n\t\t\tel.innerText = '';\r\n\t\t}\r\n\r\n\t\t// Append to the element\r\n\t\tif (obj.options.type == 'image') {\r\n\t\t\tvar img = document.createElement('img');\r\n\t\t\timg.setAttribute('src', data.file);\r\n\t\t\timg.setAttribute('tabindex', -1);\r\n\t\t\tif (! el.getAttribute('name')) {\r\n\t\t\t\timg.className = 'jfile';\r\n\t\t\t\timg.content = data;\r\n\t\t\t}\r\n\t\t\tel.appendChild(img);\r\n\t\t} else {\r\n\t\t\tif (data.name) {\r\n\t\t\t\tvar name = data.name;\r\n\t\t\t} else {\r\n\t\t\t\tvar name = data.file;\r\n\t\t\t}\r\n\t\t\tvar div = document.createElement('div');\r\n\t\t\tdiv.innerText = name || obj.options.type;\r\n\t\t\tdiv.classList.add('jupload-item');\r\n\t\t\tdiv.setAttribute('tabindex', -1);\r\n\t\t\tel.appendChild(div);\r\n\t\t}\r\n\r\n\t\tif (data.content) {\r\n\t\t\tdata.file = helpers.guid();\r\n\t\t}\r\n\r\n\t\t// Push content\r\n\t\tel.content.push(data);\r\n\r\n\t\t// Onchange\r\n\t\tif (typeof(obj.options.onchange) == 'function') {\r\n\t\t\tobj.options.onchange(el, data);\r\n\t\t}\r\n\t}\r\n\r\n\tobj.addFromFile = function(file) {\r\n\t\tvar type = file.type.split('/');\r\n\t\tif (type[0] == obj.options.type) {\r\n\t\t\tvar readFile = new FileReader();\r\n\t\t\treadFile.addEventListener(\"load\", function (v) {\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\tfile: v.srcElement.result,\r\n\t\t\t\t\textension: file.name.substr(file.name.lastIndexOf('.') + 1),\r\n\t\t\t\t\tname: file.name,\r\n\t\t\t\t\tsize: file.size,\r\n\t\t\t\t\tlastmodified: file.lastModified,\r\n\t\t\t\t\tcontent: v.srcElement.result,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tobj.add(data);\r\n\t\t\t});\r\n\r\n\t\t\treadFile.readAsDataURL(file);\r\n\t\t} else {\r\n\t\t\talert(dictionary.translate('This extension is not allowed'));\r\n\t\t}\r\n\t}\r\n\r\n\tobj.addFromUrl = function(src) {\r\n\t\tif (src.substr(0,4) != 'data' && ! obj.options.remoteParser) {\r\n\t\t\tconsole.error('remoteParser not defined in your initialization');\r\n\t\t} else {\r\n\t\t\t// This is to process cross domain images\r\n\t\t\tif (src.substr(0,4) == 'data') {\r\n\t\t\t\tvar extension = src.split(';')\r\n\t\t\t\textension = extension[0].split('/');\r\n\t\t\t\tvar type = extension[0].replace('data:','');\r\n\t\t\t\tif (type == obj.options.type) {\r\n\t\t\t\t\tvar data = {\r\n\t\t\t\t\t\tfile: src,\r\n\t\t\t\t\t\tname: '',\r\n\t\t\t\t\t\textension: extension[1],\r\n\t\t\t\t\t\tcontent: src,\r\n\t\t\t\t\t}\r\n\t\t\t\t\tobj.add(data);\r\n\t\t\t\t} else {\r\n\t\t\t\t\talert(obj.options.text.extensionNotAllowed);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tvar extension = src.substr(src.lastIndexOf('.') + 1);\r\n\t\t\t\t// Work for cross browsers\r\n\t\t\t\tsrc = obj.options.remoteParser + src;\r\n\t\t\t\t// Get remove content\r\n\t\t\t\tajax({\r\n\t\t\t\t\turl: src,\r\n\t\t\t\t\ttype: 'GET',\r\n\t\t\t\t\tdataType: 'blob',\r\n\t\t\t\t\tsuccess: function(data) {\r\n\t\t\t\t\t\t//add(extension[0].replace('data:',''), data);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tvar getDataURL = function(canvas, type) {\r\n\t\tvar compression = 0.92;\r\n\t\tvar lastContentLength = null;\r\n\t\tvar content = canvas.toDataURL(type, compression);\r\n\t\twhile (obj.options.maxJpegSizeBytes && type === 'image/jpeg' &&\r\n\t\t\t   content.length > obj.options.maxJpegSizeBytes && content.length !== lastContentLength) {\r\n\t\t\t// Apply the compression\r\n\t\t\tcompression *= 0.9;\r\n\t\t\tlastContentLength = content.length;\r\n\t\t\tcontent = canvas.toDataURL(type, compression);\r\n\t\t}\r\n\t\treturn content;\r\n\t}\r\n\r\n\tvar mime = obj.options.type + '/' + obj.options.extension;\r\n\tvar input = document.createElement('input');\r\n\tinput.type = 'file';\r\n\tinput.setAttribute('accept', mime);\r\n\tinput.onchange = function() {\r\n\t\tfor (var i = 0; i < this.files.length; i++) {\r\n\t\t\tobj.addFromFile(this.files[i]);\r\n\t\t}\r\n\t}\r\n\r\n\t// Allow multiple files\r\n\tif (obj.options.multiple == true) {\r\n\t\tinput.setAttribute('multiple', true);\r\n\t}\r\n\r\n\tvar current = null;\r\n\r\n\tel.addEventListener(\"click\", function(e) {\r\n\t\tcurrent = null;\r\n\t\tif (! el.children.length || e.target === el) {\r\n\t\t\thelpers.click(input);\r\n\t\t} else {\r\n\t\t\tif (e.target.parentNode == el) {\r\n\t\t\t\tcurrent = e.target;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tel.addEventListener(\"dblclick\", function(e) {\r\n\t\thelpers.click(input);\r\n\t});\r\n\r\n\tel.addEventListener('dragenter', function(e) {\r\n\t\tel.style.border = '1px dashed #000';\r\n\t});\r\n\r\n\tel.addEventListener('dragleave', function(e) {\r\n\t\tel.style.border = '1px solid #eee';\r\n\t});\r\n\r\n\tel.addEventListener('dragstop', function(e) {\r\n\t\tel.style.border = '1px solid #eee';\r\n\t});\r\n\r\n\tel.addEventListener('dragover', function(e) {\r\n\t\te.preventDefault();\r\n\t});\r\n\r\n\tel.addEventListener('keydown', function(e) {\r\n\t\tif (current && e.which == 46) {\r\n\t\t\tvar index = Array.prototype.indexOf.call(el.children, current);\r\n\t\t\tif (index >= 0) {\r\n\t\t\t\tel.content.splice(index, 1);\r\n\t\t\t\tcurrent.remove();\r\n\t\t\t\tcurrent = null;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tel.addEventListener('drop', function(e) {\r\n\t\te.preventDefault();\r\n\t\te.stopPropagation();\r\n\r\n\t\tvar html = (e.originalEvent || e).dataTransfer.getData('text/html');\r\n\t\tvar file = (e.originalEvent || e).dataTransfer.files;\r\n\r\n\t\tif (file.length) {\r\n\t\t\tfor (var i = 0; i < e.dataTransfer.files.length; i++) {\r\n\t\t\t\tobj.addFromFile(e.dataTransfer.files[i]);\r\n\t\t\t}\r\n\t\t} else if (html) {\r\n\t\t\tif (obj.options.multiple == false) {\r\n\t\t\t\tel.innerText = '';\r\n\t\t\t}\r\n\r\n\t\t\t// Create temp element\r\n\t\t\tvar div = document.createElement('div');\r\n\t\t\tdiv.innerHTML = html;\r\n\r\n\t\t\t// Extract images\r\n\t\t\tvar img = div.querySelectorAll('img');\r\n\r\n\t\t\tif (img.length) {\r\n\t\t\t\tfor (var i = 0; i < img.length; i++) {\r\n\t\t\t\t\tobj.addFromUrl(img[i].src);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tel.style.border = '1px solid #eee';\r\n\r\n\t\treturn false;\r\n\t});\r\n\r\n\tel.val = function(val) {\r\n\t\tif (val === undefined) {\r\n\t\t\treturn el.content && el.content.length ? el.content : null;\r\n\t\t} else {\r\n\t\t\t// Reset\r\n\t\t\tel.innerText = '';\r\n\t\t\tel.content = [];\r\n\r\n\t\t\tif (val) {\r\n\t\t\t\tif (Array.isArray(val)) {\r\n\t\t\t\t\tfor (var i = 0; i < val.length; i++) {\r\n\t\t\t\t\t\tif (typeof(val[i]) == 'string') {\r\n\t\t\t\t\t\t\tobj.add({ file: val[i] });\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tobj.add(val[i]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (typeof(val) == 'string') {\r\n\t\t\t\t\tobj.add({ file: val });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tel.upload = el.image = obj;\r\n\r\n\treturn obj;\r\n}\r\n\r\n// EXTERNAL MODULE: ./packages/sha512/sha512.js\r\nvar sha512 = __webpack_require__(195);\r\nvar sha512_default = /*#__PURE__*/__webpack_require__.n(sha512);\r\n;// CONCATENATED MODULE: ./src/jsuites.js\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar jSuites = {\r\n\t// Helpers\r\n\t...dictionary,\r\n\t...helpers,\r\n\t/** Current version */\r\n\tversion: '5.3.1',\r\n\t/** Bind new extensions to Jsuites */\r\n\tsetExtensions: function(o) {\r\n\t\tif (typeof(o) == 'object') {\r\n\t\t\tvar k = Object.keys(o);\r\n\t\t\tfor (var i = 0; i < k.length; i++) {\r\n\t\t\t\tjSuites[k[i]] = o[k[i]];\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\ttracking: Tracking,\r\n\tpath: Path,\r\n\tsorting: Sorting,\r\n\tlazyLoading: LazyLoading,\r\n\t// Plugins\r\n\tajax: ajax,\r\n\tanimation: animation,\r\n\tcalendar: calendar,\r\n\tcolor: Color,\r\n\tcontextmenu: contextmenu,\r\n\tdropdown: dropdown,\r\n\teditor: editor,\r\n\tfloating: floating,\r\n\tform: plugins_form,\r\n\tmask: mask,\r\n\tmodal: modal,\r\n\tnotification: notification,\r\n\tpalette: palette,\r\n\tpicker: Picker,\r\n\tprogressbar: Progressbar,\r\n\trating: Rating,\r\n\tsearch: Search,\r\n\tslider: Slider,\r\n\ttabs: Tabs,\r\n\ttags: Tags,\r\n\ttoolbar: Toolbar,\r\n\tupload: Upload,\r\n\tvalidations: validations,\r\n}\r\n\r\n// Legacy\r\njSuites.image = Upload;\r\njSuites.image.create = function(data) {\r\n\tvar img = document.createElement('img');\r\n\timg.setAttribute('src', data.file);\r\n\timg.className = 'jfile';\r\n\timg.setAttribute('tabindex', -1);\r\n\timg.content = data;\r\n\r\n\treturn img;\r\n}\r\n\r\njSuites.tracker = plugins_form;\r\njSuites.loading = animation.loading;\r\njSuites.sha512 = (sha512_default());\r\n\r\n\r\n/** Core events */\r\nconst Events = function() {\r\n\r\n\tdocument.jsuitesComponents = [];\r\n\r\n\tconst find = function(DOMElement, component) {\r\n\t\tif (DOMElement[component.type] && DOMElement[component.type] == component) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tif (DOMElement.component && DOMElement.component == component) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tif (DOMElement.parentNode) {\r\n\t\t\treturn find(DOMElement.parentNode, component);\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tconst isOpened = function(e) {\r\n\t\tif (document.jsuitesComponents && document.jsuitesComponents.length > 0) {\r\n\t\t\tfor (var i = 0; i < document.jsuitesComponents.length; i++) {\r\n\t\t\t\tif (document.jsuitesComponents[i] && ! find(e, document.jsuitesComponents[i])) {\r\n\t\t\t\t\tdocument.jsuitesComponents[i].close();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// Width of the border\r\n\tlet cornerSize = 15;\r\n\r\n\t// Current element\r\n\tlet element = null;\r\n\r\n\t// Controllers\r\n\tlet editorAction = false;\r\n\r\n\t// Event state\r\n\tlet state = {\r\n\t\tx: null,\r\n\t\ty: null,\r\n\t}\r\n\r\n\t// Tooltip element\r\n\tlet tooltip = document.createElement('div')\r\n\ttooltip.classList.add('jtooltip');\r\n\r\n\t// Events\r\n\tconst mouseDown = function(e) {\r\n\t\t// Verify current components tracking\r\n\t\tif (e.changedTouches && e.changedTouches[0]) {\r\n\t\t\tvar x = e.changedTouches[0].clientX;\r\n\t\t\tvar y = e.changedTouches[0].clientY;\r\n\t\t} else {\r\n\t\t\tvar x = e.clientX;\r\n\t\t\tvar y = e.clientY;\r\n\t\t}\r\n\r\n\t\t// Editable\r\n\t\tlet editable = e.target && e.target.tagName === 'DIV' && e.target.getAttribute('contentEditable');\r\n\t\t// Check if this is the floating\r\n\t\tlet item = jSuites.findElement(e.target, 'jpanel');\r\n\t\t// Jfloating found\r\n\t\tif (item && ! item.classList.contains(\"readonly\") && ! editable) {\r\n\t\t\t// Keep the tracking information\r\n\t\t\tlet rect = item.getBoundingClientRect();\r\n\t\t\tlet angle = 0;\r\n\t\t\tif (item.style.rotate) {\r\n\t\t\t\t// Extract the angle value from the match and convert it to a number\r\n\t\t\t\tangle = parseFloat(item.style.rotate);\r\n\t\t\t}\r\n\t\t\tlet action = 'move';\r\n\t\t\tif (e.target.getAttribute('data-action')) {\r\n\t\t\t\taction = e.target.getAttribute('data-action');\r\n\t\t\t} else {\r\n\t\t\t\tif (item.style.cursor) {\r\n\t\t\t\t\taction = 'resize';\r\n\t\t\t\t} else {\r\n\t\t\t\t\titem.style.cursor = 'move';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Action\r\n\t\t\teditorAction = {\r\n\t\t\t\taction: action,\r\n\t\t\t\ta: angle,\r\n\t\t\t\te: item,\r\n\t\t\t\tx: x,\r\n\t\t\t\ty: y,\r\n\t\t\t\tl: rect.left,\r\n\t\t\t\tt: rect.top,\r\n\t\t\t\tb: rect.bottom,\r\n\t\t\t\tr: rect.right,\r\n\t\t\t\tw: rect.width,\r\n\t\t\t\th: rect.height,\r\n\t\t\t\td: item.style.cursor,\r\n\t\t\t\tactioned: false,\r\n\t\t\t}\r\n\t\t\t// Make sure width and height styling is OK\r\n\t\t\tif (! item.style.width) {\r\n\t\t\t\titem.style.width = rect.width + 'px';\r\n\t\t\t}\r\n\t\t\tif (! item.style.height) {\r\n\t\t\t\titem.style.height = rect.height + 'px';\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// No floating action found\r\n\t\t\teditorAction = false;\r\n\t\t}\r\n\r\n\t\t// Which component I am clicking\r\n\t\tvar path = e.path || (e.composedPath && e.composedPath());\r\n\r\n\t\t// If path available get the first element in the chain\r\n\t\tif (path) {\r\n\t\t\telement = path[0];\r\n\t\t} else {\r\n\t\t\t// Try to guess using the coordinates\r\n\t\t\tif (e.target && e.target.shadowRoot) {\r\n\t\t\t\tvar d = e.target.shadowRoot;\r\n\t\t\t} else {\r\n\t\t\t\tvar d = document;\r\n\t\t\t}\r\n\t\t\t// Get the first target element\r\n\t\t\telement = d.elementFromPoint(x, y);\r\n\t\t}\r\n\r\n\t\tisOpened(element);\r\n\t}\r\n\r\n\tconst calculateAngle = function(x1, y1, x2, y2, x3, y3) {\r\n\t\t// Calculate dx and dy for the first line\r\n\t\tconst dx1 = x2 - x1;\r\n\t\tconst dy1 = y2 - y1;\r\n\t\t// Calculate dx and dy for the second line\r\n\t\tconst dx2 = x3 - x1;\r\n\t\tconst dy2 = y3 - y1;\r\n\t\t// Calculate the angle for the first line\r\n\t\tlet angle1 = Math.atan2(dy1, dx1);\r\n\t\t// Calculate the angle for the second line\r\n\t\tlet angle2 = Math.atan2(dy2, dx2);\r\n\t\t// Calculate the angle difference in radians\r\n\t\tlet angleDifference = angle2 - angle1;\r\n\t\t// Convert the angle difference to degrees\r\n\t\tangleDifference = angleDifference * (180 / Math.PI);\r\n\t\t// Normalize the angle difference to be within [0, 360) degrees\r\n\t\tif (angleDifference < 0) {\r\n\t\t\tangleDifference += 360;\r\n\t\t}\r\n\t\treturn angleDifference;\r\n\t}\r\n\r\n\tconst mouseUp = function(e) {\r\n\t\tif (editorAction && editorAction.e) {\r\n\t\t\tif (typeof(editorAction.e.refresh) == 'function' && state.actioned) {\r\n\t\t\t\teditorAction.e.refresh();\r\n\t\t\t}\r\n\t\t\teditorAction.e.style.cursor = '';\r\n\t\t}\r\n\r\n\t\t// Reset\r\n\t\tstate = {\r\n\t\t\tx: null,\r\n\t\t\ty: null,\r\n\t\t}\r\n\r\n\t\teditorAction = false;\r\n\t}\r\n\r\n\tconst mouseMove = function(e) {\r\n\t\tif (editorAction) {\r\n\t\t\tlet x = e.clientX || e.pageX;\r\n\t\t\tlet y = e.clientY || e.pageY;\r\n\r\n\t\t\tif (state.x == null && state.y == null) {\r\n\t\t\t\tstate.x = x;\r\n\t\t\t\tstate.y = y;\r\n\t\t\t}\r\n\r\n\t\t\t// Action on going\r\n\t\t\tif (editorAction.action === 'move') {\r\n\t\t\t\tvar dx = x - state.x;\r\n\t\t\t\tvar dy = y - state.y;\r\n\t\t\t\tvar top = editorAction.e.offsetTop + dy;\r\n\t\t\t\tvar left = editorAction.e.offsetLeft + dx;\r\n\r\n\t\t\t\t// Update position\r\n\t\t\t\teditorAction.e.style.top = top + 'px';\r\n\t\t\t\teditorAction.e.style.left = left + 'px';\r\n\r\n\t\t\t\t// Update element\r\n\t\t\t\tif (typeof (editorAction.e.refresh) == 'function') {\r\n\t\t\t\t\tstate.actioned = true;\r\n\t\t\t\t\teditorAction.e.refresh('position', top, left);\r\n\t\t\t\t}\r\n\t\t\t} else if (editorAction.action === 'rotate') {\r\n\t\t\t\tlet ox = editorAction.l+editorAction.w/2;\r\n\t\t\t\tlet oy = editorAction.t+editorAction.h/2;\r\n\t\t\t\tlet angle = calculateAngle(ox, oy, editorAction.x, editorAction.y, x, y);\r\n\t\t\t\tangle = angle + editorAction.a % 360;\r\n\t\t\t\tangle = Math.round(angle / 2) * 2;\r\n\t\t\t\teditorAction.e.style.rotate = `${angle}deg`;\r\n\t\t\t\t// Update element\r\n\t\t\t\tif (typeof (editorAction.e.refresh) == 'function') {\r\n\t\t\t\t\tstate.actioned = true;\r\n\t\t\t\t\teditorAction.e.refresh('rotate', angle);\r\n\t\t\t\t}\r\n\t\t\t} else if (editorAction.action === 'resize') {\r\n\t\t\t\tlet top = null;\r\n\t\t\t\tlet left = null;\r\n\t\t\t\tlet width = null;\r\n\t\t\t\tlet height = null;\r\n\r\n\t\t\t\tif (editorAction.d == 'e-resize' || editorAction.d == 'ne-resize' || editorAction.d == 'se-resize') {\r\n\t\t\t\t\twidth = editorAction.e.offsetWidth + (x - state.x);\r\n\r\n\t\t\t\t\tif (e.shiftKey) {\r\n\t\t\t\t\t\theight = editorAction.e.offsetHeight + (x - state.x) * (editorAction.e.offsetHeight / editorAction.e.offsetWidth);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (editorAction.d === 'w-resize' || editorAction.d == 'nw-resize'|| editorAction.d == 'sw-resize') {\r\n\t\t\t\t\tleft = editorAction.e.offsetLeft + (x - state.x);\r\n\t\t\t\t\twidth = editorAction.e.offsetLeft + editorAction.e.offsetWidth - left;\r\n\r\n\t\t\t\t\tif (e.shiftKey) {\r\n\t\t\t\t\t\theight = editorAction.e.offsetHeight - (x - state.x) * (editorAction.e.offsetHeight / editorAction.e.offsetWidth);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (editorAction.d == 's-resize' || editorAction.d == 'se-resize' || editorAction.d == 'sw-resize') {\r\n\t\t\t\t\tif (! height) {\r\n\t\t\t\t\t\theight = editorAction.e.offsetHeight + (y - state.y);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (editorAction.d === 'n-resize' || editorAction.d == 'ne-resize' || editorAction.d == 'nw-resize') {\r\n\t\t\t\t\ttop = editorAction.e.offsetTop + (y - state.y);\r\n\t\t\t\t\theight = editorAction.e.offsetTop + editorAction.e.offsetHeight - top;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (top) {\r\n\t\t\t\t\teditorAction.e.style.top = top + 'px';\r\n\t\t\t\t}\r\n\t\t\t\tif (left) {\r\n\t\t\t\t\teditorAction.e.style.left = left + 'px';\r\n\t\t\t\t}\r\n\t\t\t\tif (width) {\r\n\t\t\t\t\teditorAction.e.style.width = width + 'px';\r\n\t\t\t\t}\r\n\t\t\t\tif (height) {\r\n\t\t\t\t\teditorAction.e.style.height = height + 'px';\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Update element\r\n\t\t\t\tif (typeof(editorAction.e.refresh) == 'function') {\r\n\t\t\t\t\tstate.actioned = true;\r\n\t\t\t\t\teditorAction.e.refresh('dimensions', width, height);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tstate.x = x;\r\n\t\t\tstate.y = y;\r\n\t\t} else {\r\n\t\t\t// Resize action\r\n\t\t\tlet item = jSuites.findElement(e.target, 'jpanel');\r\n\t\t\t// Found eligible component\r\n\t\t\tif (item) {\r\n\t\t\t\t// Resizing action\r\n\t\t\t\tlet controls = item.classList.contains('jpanel-controls');\r\n\t\t\t\tif (controls) {\r\n\t\t\t\t\tlet position = e.target.getAttribute('data-position');\r\n\t\t\t\t\tif (position) {\r\n\t\t\t\t\t\titem.style.cursor = position;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\titem.style.cursor = '';\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (item.getAttribute('tabindex')) {\r\n\t\t\t\t\tlet rect = item.getBoundingClientRect();\r\n\t\t\t\t\t//console.log(e.clientY - rect.top, rect.width - (e.clientX - rect.left), cornerSize)\r\n\t\t\t\t\tif (e.clientY - rect.top < cornerSize) {\r\n\t\t\t\t\t\tif (rect.width - (e.clientX - rect.left) < cornerSize) {\r\n\t\t\t\t\t\t\titem.style.cursor = 'ne-resize';\r\n\t\t\t\t\t\t} else if (e.clientX - rect.left < cornerSize) {\r\n\t\t\t\t\t\t\titem.style.cursor = 'nw-resize';\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\titem.style.cursor = 'n-resize';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (rect.height - (e.clientY - rect.top) < cornerSize) {\r\n\t\t\t\t\t\tif (rect.width - (e.clientX - rect.left) < cornerSize) {\r\n\t\t\t\t\t\t\titem.style.cursor = 'se-resize';\r\n\t\t\t\t\t\t} else if (e.clientX - rect.left < cornerSize) {\r\n\t\t\t\t\t\t\titem.style.cursor = 'sw-resize';\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\titem.style.cursor = 's-resize';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (rect.width - (e.clientX - rect.left) < cornerSize) {\r\n\t\t\t\t\t\titem.style.cursor = 'e-resize';\r\n\t\t\t\t\t} else if (e.clientX - rect.left < cornerSize) {\r\n\t\t\t\t\t\titem.style.cursor = 'w-resize';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\titem.style.cursor = '';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tlet position = ['n','ne','e','se','s','sw','w','nw','rotate'];\r\n\tposition.forEach(function(v, k) {\r\n\t\tposition[k] = document.createElement('div');\r\n\t\tposition[k].classList.add('jpanel-action');\r\n\t\tif (v === 'rotate') {\r\n\t\t\tposition[k].setAttribute('data-action', 'rotate');\r\n\t\t} else {\r\n\t\t\tposition[k].setAttribute('data-action', 'resize');\r\n\t\t\tposition[k].setAttribute('data-position', v + '-resize');\r\n\t\t}\r\n\t});\r\n\r\n\tconst focus = function(e) {\r\n\t\t// Check if this is the floating\r\n\t\tlet item = jSuites.findElement(e.target, 'jpanel');\r\n\t\tif (item && ! item.classList.contains(\"readonly\") && item.classList.contains('jpanel-controls')) {\r\n\t\t\titem.append(...position);\r\n\r\n\t\t\tif (! item.classList.contains('jpanel-rotate')) {\r\n\t\t\t\tposition[position.length-1].remove();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tconst blur = function(e) {\r\n\t\t// Check if this is the floating\r\n\t\tlet item = jSuites.findElement(e.target, 'jpanel');\r\n\t\tif (item && item.classList.contains('jpanel-controls')) {\r\n\t\t\tposition.forEach(function(v) {\r\n\t\t\t\tv.remove();\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tconst mouseOver = function(e) {\r\n\t\tvar message = e.target.getAttribute('data-tooltip');\r\n\t\tif (message) {\r\n\t\t\t// Instructions\r\n\t\t\ttooltip.innerText = message;\r\n\r\n\t\t\t// Position\r\n\t\t\tif (e.changedTouches && e.changedTouches[0]) {\r\n\t\t\t\tvar x = e.changedTouches[0].clientX;\r\n\t\t\t\tvar y = e.changedTouches[0].clientY;\r\n\t\t\t} else {\r\n\t\t\t\tvar x = e.clientX;\r\n\t\t\t\tvar y = e.clientY;\r\n\t\t\t}\r\n\r\n\t\t\ttooltip.style.top = y + 'px';\r\n\t\t\ttooltip.style.left = x + 'px';\r\n\t\t\tdocument.body.appendChild(tooltip);\r\n\t\t} else if (tooltip.innerText) {\r\n\t\t\ttooltip.innerText = '';\r\n\t\t\tdocument.body.removeChild(tooltip);\r\n\t\t}\r\n\t}\r\n\r\n\tconst contextMenu = function(e) {\r\n\t\tvar item = document.activeElement;\r\n\t\tif (item && typeof(item.contextmenu) == 'function') {\r\n\t\t\t// Create edition\r\n\t\t\titem.contextmenu(e);\r\n\r\n\t\t\te.preventDefault();\r\n\t\t\te.stopImmediatePropagation();\r\n\t\t} else {\r\n\t\t\t// Search for possible context menus\r\n\t\t\titem = jSuites.findElement(e.target, function(o) {\r\n\t\t\t\treturn o.tagName && o.getAttribute('aria-contextmenu-id');\r\n\t\t\t});\r\n\r\n\t\t\tif (item) {\r\n\t\t\t\tvar o = document.querySelector('#' + item);\r\n\t\t\t\tif (! o) {\r\n\t\t\t\t\tconsole.error('JSUITES: contextmenu id not found: ' + item);\r\n\t\t\t\t} else {\r\n\t\t\t\t\to.contextmenu.open(e);\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tconst keyDown = function(e) {\r\n\t\tlet item = document.activeElement;\r\n\t\tif (item) {\r\n\t\t\tif (e.key === \"Delete\" && typeof(item.delete) == 'function') {\r\n\t\t\t\titem.delete();\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (document.jsuitesComponents && document.jsuitesComponents.length) {\r\n\t\t\titem = document.jsuitesComponents[document.jsuitesComponents.length - 1]\r\n\t\t\tif (item) {\r\n\t\t\t\tif (e.key === \"Escape\" && typeof(item.isOpened) == 'function' && typeof(item.close) == 'function') {\r\n\t\t\t\t\tif (item.isOpened()) {\r\n\t\t\t\t\t\titem.close();\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tconst input = function(e) {\r\n\t\tif (e.target.getAttribute('data-mask') || e.target.mask) {\r\n\t\t\tjSuites.mask(e);\r\n\t\t}\r\n\t}\r\n\r\n\tdocument.addEventListener('focusin', focus);\r\n\tdocument.addEventListener('focusout', blur);\r\n\tdocument.addEventListener('mouseup', mouseUp);\r\n\tdocument.addEventListener(\"mousedown\", mouseDown);\r\n\tdocument.addEventListener('mousemove', mouseMove);\r\n\tdocument.addEventListener('mouseover', mouseOver);\r\n\tdocument.addEventListener('keydown', keyDown);\r\n\tdocument.addEventListener('contextmenu', contextMenu);\r\n\tdocument.addEventListener('input', input);\r\n}\r\n\r\nif (typeof(document) !== \"undefined\" && ! document.jsuitesComponents) {\r\n\tEvents();\r\n}\r\n\r\n/* harmony default export */ var jsuites = (jSuites);\r\n}();\r\n__webpack_exports__ = __webpack_exports__[\"default\"];\r\n/******/ \treturn __webpack_exports__;\r\n/******/ })()\r\n;\r\n});\r\n"],"names":["webpackUniversalModuleDefinition","root","factory","window","__webpack_modules__","module","global","exports","str","int64","msint_32","lsint_32","highOrder","lowOrder","H","K","W","Array","a","b","c","d","e","f","g","h","i","j","T1","T2","charsize","utf8_encode","unescape","encodeURIComponent","str2binb","bin","mask","len","length","charCodeAt","binb2hex","binarray","hex_tab","srcByte","charAt","safe_add_2","x","y","lsw","msw","safe_add_4","safe_add_5","maj","z","ch","rotr","n","sigma0","rotr28","rotr34","rotr39","sigma1","rotr14","rotr18","rotr41","gamma0","rotr1","rotr8","shr7","shr","gamma1","rotr19","rotr61","shr6","strlen","push","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","call","getter","__esModule","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","__webpack_exports__","default","jsuites","Helpers","two","value","focus","el","innerText","range","document","createRange","sel","getSelection","node","childNodes","setStart","collapse","removeAllRanges","addRange","scrollLeft","scrollWidth","isNumeric","num","trim","isNaN","guid","replace","r","Math","random","v","toString","getNode","anchorNode","nodeType","parentNode","hash","chr","randomColor","lum","hex","String","slice","toUpperCase","rgb","parseInt","substr","round","min","max","getWindowWidth","w","documentElement","getElementsByTagName","innerWidth","clientWidth","getWindowHeight","innerHeight","clientHeight","getPosition","changedTouches","pageX","pageY","Event","clientX","body","clientY","scrollTop","click","evt","MouseEvent","bubbles","cancelable","view","dispatchEvent","findElement","element","condition","foundElement","path","classList","contains","helpers","HelpersDate","Component","now","date","dateOnly","m","s","isArray","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","toArray","split","indexOf","time","excelInitialTime","UTC","excelLeapYearBug","millisecondsPerDay","dateToNum","jsDate","jsDateInMilliseconds","getTime","numToDate","excelSerialNumber","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","weekdays","months","weekdaysShort","monthsShort","helpers_date","setDictionary","dictionary","t","k","keys","translate","Tracking","component","state","jsuitesComponents","filter","setTimeout","index","splice","Path","val","remove","p","shift","Sorting","options","defaults","pointer","direction","ondragstart","ondragend","ondrop","dragElement","property","add","addEventListener","position","target","children","style","opacity","preventDefault","getElement","getAttribute","offsetY","offsetX","insertBefore","nextSibling","sorting","className","hasAttribute","setAttribute","id","data","LazyLoading","loadUp","loadDown","timer","timeControlLoading","scrollControls","event","scrollHeight","onupdate","onscroll","onwheel","Ajax","complete","multiple","instance","type","method","dataType","parseData","vars","FileList","url","join","FormData","append","name","httpRequest","XMLHttpRequest","open","setRequestHeader","contentType","responseType","cache","withCredentials","beforeSend","ajax","onload","status","result","JSON","parse","responseText","success","err","error","response","queue","send","requests","group","oncomplete","pending","exists","__callback","http","Animation","loading","show","timeout","createElement","appendChild","hide","removeChild","slideLeft","done","slideRight","slideTop","slideBottom","fadeIn","display","fadeOut","animation","Mask","tokens","text","currency","percentage","numeric","datetime","general","toLowerCase","parseFloat","extractDate","values","isBlank","isFormula","getDecimal","Number","decimal","locale","Intl","NumberFormat","format","RegExp","exec","toLocaleString","substring","ParseValue","signal","match","unshift","FormatValue","inputType","Format","Value","Caret","Extract","current","adjustNumeric","tagName","pos","rangeCount","getRangeAt","cloneRange","selectNodeContents","setEnd","endContainer","endOffset","selectionStart","selectionEnd","updateCaret","weekDaysFull","weekDays","monthsFull","parser","YEAR","YYYY","YYY","YY","FIND","count","MMM","ret","MON","MMMM","MONTH","MMMMM","MM","M","test","D","DD","DDD","DY","DDDD","DAY","HH12","HH24","HH","\\[H\\]","N60","MI","SS","AM/PM","WD","0{1}(.{1}0+)?","neg","0{1}(.{1}0+)?%","#(.{1})##0?(.{1}0+)?( ?;(.*)?)?","separator","negative","reverse","0","[0-9a-zA-Z$]+","A",".","@","getTokens","concat","getMethod","types","getMethods","getType","methods","toPlainString","config","returnObject","input","number","caret","attributes","newValue","label","adjustPrecision","isInteger","t0","t1","toFixed","prepare","apply","run","extract","assign","getDateString","render","fullMask","fillWithBlanks","fraction","minimumFractionDigits","maximumFractionDigits","maskZeros","maskLength","set","extractDateFromString","splitStr","calendar","getDay","floor","getMilliseconds","Calendar","setOptions","reset","validRange","startingDay","readonly","today","resetButton","placeholder","textDone","textReset","textUpdate","fullscreen","opened","onopen","onclose","onchange","mode","controls","autoSelect","calendarReset","removeAttribute","innerHTML","calendarConfirm","calendarControlsUpdateButton","setValue","getDays","getMonths","calendarSelectHour","calendarSelectMin","calendarContent","rect","getBoundingClientRect","rectContent","calendarContainer","bottom","height","top","left","width","close","ignoreEvents","update","querySelector","getValue","prev","getYears","next","setToday","toISOString","oldValue","title","setLabel","test1","test2","oninput","elements","updateActions","year","month","day","hour","calendarLabelYear","calendarLabelMonth","isCurrentMonthAndYear","currentDay","numberOfDays","firstDay","calendarBody","row","cell","fontWeight","calendarControlsTime","currentYear","currentMonth","selectedYear","selectedMonth","table","firstChild","mixed","fromFormatted","mouseUpControls","action","keyUpControls","calendarTable","calendarControls","calendarControlsUpdate","init","borderBottom","calendarTableContainer","calendarHeaderPrev","calendarHeaderTitle","calendarHeaderNext","calendarHeader","calendarHeaderRow","calendarControlsFooter","maxWidth","flexGrow","calendarBackdrop","stopPropagation","hasEvents","keydown","change","which","prettify","texts","justNow","xMinutesAgo","xHoursAgo","xDaysAgo","xWeeksAgo","xMonthsAgo","xYearsAgo","d1","d2","total","prettifyAll","querySelectorAll","Palette","palette","material","fire","baby","chart","Tabs","allowCreate","allowChangePosition","onclick","oncreate","ondelete","onbeforecreate","onchangeposition","hideHeaders","padding","border","setBorder","headers","offsetLeft","updateControls","scrollTo","behavior","offsetWidth","content","previous","x1","x2","r1","r2","selectIndex","rename","prompt","create","div","appendElement","deleteElement","nextNumber","tmp","cb","openTab","lastChild","getActive","updateContent","newContent","contentItem","replaceChild","updatePosition","activeIndex","move","header","titleElement","headerItem","icon","iconContainer","createTextNode","contentElement","item","loadingRemoteData","tabs","Color","color","container","backdrop","closeButton","jsuitesTabs","closeOnChange","doneLabel","resetLabel","backgroundColor","select","selected","marginTop","marginLeft","availableWidth","availableHeight","HexToRgb","rgbInputs","forEach","rgbInput","slidersResult","backdropClickControl","decToHex","rgbToHex","hexToDec","tableContainer","tr","td","canvas","context","getContext","resizeCanvas","gradient","createLinearGradient","addColorStop","fillStyle","fillRect","hsl","point","buttons","pixel","getImageData","changeInputColors","currentColor","newGradient","backgroundImage","sliders","slidersElement","slidersBody","createSliderInput","inputContainer","subContainer","slidersResultColor","resultElement","visibility","updateResult","resultColor","removeProperty","readOnly","toHex","Contextmenu","items","isOpened","itemHeader","createHeader","itemContainer","createItemElement","itemText","tooltip","disabled","submenu","itemIconSubmenu","el_submenu","itemContainerSubMenu","shortcut","itemShortCut","contextmenu","Dropdown","dropdown","sortResults","sort","sortData","setData","applyValue","itemA","itemB","testA","testB","localeCompare","resetValue","Text","getText","autocomplete","remoteSearch","lazyLoading","newOptions","onfocus","onblur","oninsert","onbeforeinsert","onsearch","onbeforesearch","autofocus","minWidth","containerHeader","keyTimer","extractFromDom","groups","search","results","onkeyup","find","textContent","mouseup","getUrl","setUrl","callback","setId","newItem","createItem","groupName","indexValue","image","src","appendData","counter","groupNames","groupArrow","groupContent","getData","asArray","resetSelected","force","setCursor","selectItem","q","synonym","first","cursor","rectContainer","blur","setPosition","currentIndex","offsetTop","clientTop","resetCursor","updateCursor","loadFirst","newIndex","last","loadLast","letter","l","nextElementSibling","previousElementSibling","fistItem","lastItem","Picker","picker","dropdownHeader","dropdownContent","isDOM","Element","HTMLDocument","createContent","dropdownItem","getLabel","onmouseover","onselect","right","columns","grid","maxHeight","overflow","gridTemplateColumns","rectHeader","onmousedown","Toolbar","app","badge","responsive","toolbarArrow","toolbarFloating","toolbarContent","setBadge","destroy","toolbar","toolbarItem","updateState","active","toolbarIcon","class","toolbarBadge","toolbarBadgeContent","toolbarTitle","route","pages","closed","bind","refresh","rectElement","available","setReadonly","Editor","snippet","toolbarOnTop","remoteParser","filterPaste","dropZone","dropAsSnippet","acceptImages","acceptFiles","maxFileSize","allowImageResize","onkeydown","extensions","editorTimer","editorAction","files","editor","overflowY","extractImageFromHtml","html","img","addImage","insertNodeAtCaret","newNode","selectedText","deleteContents","insertNode","setStartAfter","setEndAfter","updateTotalImages","appendImage","appendSnippet","getFiles","json","processExtensions","addPdf","console","Image","ctx","drawImage","toBlob","blob","newImage","URL","createObjectURL","file","extension","execCommand","outerHTML","asSnippet","lastIndexOf","toDataURL","addFile","reader","size","alert","FileReader","lastModified","readAsDataURL","removeEventListener","editorMouseUp","editorMouseDown","editorMouseMove","editorKeyUp","editorKeyDown","editorDragStart","editorDragEnter","editorDragOver","editorDrop","editorPaste","editorBlur","editorFocus","upload","HTMLUnknownElement","HTMLAudioElement","HTMLEmbedElement","HTMLIFrameElement","HTMLTextAreaElement","HTMLInputElement","HTMLScriptElement","validProperty","validStyle","elementStyle","attr","constructor","selectNode","DOMParser","parseFromString","span","clipboardData","originalEvent","map","clearTimeout","caretRangeFromPoint","rangeParent","rangeOffset","dataTransfer","parent","changed","cloneNode","removeRange","shiftKey","newHeight","ext","loadExtensions","toolbarOptions","getDefaultToolbar","startContainer","colorPicker","queryCommandState","margin","ex","ey","borderColor","tbody","Floating","setContent","temp","setEvents","setState","setType","isMinized","Components","floating","prevFloating","Validations","numberCriterias","between","not between","<","<=",">",">=","=","!=","dateCriterias","valid date","textCriterias","includes","not contains","begins with","startsWith","ends with","endsWith","valid email","pattern","valid url","allowBlank","email","required","exist","empty","notEmpty","criteria","login","list","validOption","findIndex","getCurrentDateWithoutTime","setHours","relativeDates","one year ago","setFullYear","one month ago","setMonth","one week ago","setDate","yesterday","tomorrow","textLength","validations","Form","message","ignore","currentHash","submitButton","onbeforeload","onbeforesave","onsave","onbeforeremove","onremove","onerror","save","load","setElements","validate","getElements","addError","delError","validateElement","validation","checked","res","getError","setHash","getHash","isChanged","resetTracker","setIgnore","ignoreFlag","confirmationMessage","returnValue","form","stringify","plugins_form","Modal","Events","tracker","keyDown","modals","modal","mouseUp","composedPath","mouseDown","selection","mouseMove","mouseButton","button","resetPosition","isOpen","Notification","autoHide","closeable","notification","notificationContainer","notificationHeader","notificationImage","notificationIcon","notificationName","notificationClose","notificationDate","notificationContent","notificationTitle","notificationMessage","notificationTimeout","isVisible","Progressbar","bar","progressbar","Rating","rating","Search","createList","forceSelect","execute","terms","searchByNode","keyup","Slider","currentImage","minHeight","caption","updateCounter","offsetHeight","nextImage","slider","Tags","tags","limit","searchContainer","onbeforepaste","onbeforechange","onlimit","setFocus","setLimit","extractTags","isValid","tagsMouseUp","tagsKeyDown","tagsKeyUp","tagsPaste","tagsFocus","tagsBlur","isEmpty","word","anchorOffset","Upload","maxJpegSizeBytes","addFromFile","readFile","srcElement","lastmodified","addFromUrl","extensionNotAllowed","getDataURL","compression","lastContentLength","mime","sha512","sha512_default","jSuites","version","setExtensions","tracking","DOMElement","cornerSize","editable","angle","rotate","actioned","shadowRoot","elementFromPoint","calculateAngle","y1","y2","x3","y3","dx1","dy1","dx2","dy2","angle1","atan2","angle2","angleDifference","PI","dx","dy","ox","oy","mouseOver","contextMenu","activeElement","stopImmediatePropagation","delete"],"sourceRoot":""}